webpackJsonp([2],{0:function(e,t,n){n(1584),e.exports=n(1549)},6:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e}},7:function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=c[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(s(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(s(i.parts[o],t));c[i.id]={id:i.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],s=r[1],a=r[2],l=r[3],u={css:s,media:a,sourceMap:l};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function o(){var e=document.createElement("style"),t=h();return e.type="text/css",t.appendChild(e),e}function s(e,t){var n,i,r;if(t.singleton){var s=g++;n=f||(f=o()),i=l.bind(null,n,s,!1),r=l.bind(null,n,s,!0)}else n=o(),i=u.bind(null,n),r=function(){n.parentNode.removeChild(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function a(e,t,n){var i=["/** >>"+t+" **/","/** "+t+"<< **/"],r=e.lastIndexOf(i[0]),o=n?i[0]+n+i[1]:"";if(e.lastIndexOf(i[0])>=0){var s=e.lastIndexOf(i[1])+i[1].length;return e.slice(0,r)+o+e.slice(s)}return e+o}function l(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=a(e.styleSheet.cssText,t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function u(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(r&&"function"==typeof btoa)try{n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(r))+" */",n='@import url("data:stylesheet/css;base64,'+btoa(n)+'")'}catch(o){}if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=d(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,g=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var n=r(e);return i(n,t),function(e){for(var o=[],s=0;s<n.length;s++){var a=n[s],l=c[a.id];l.refs--,o.push(l)}if(e){var u=r(e);i(u,t)}for(var s=0;s<o.length;s++){var l=o[s];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete c[l.id]}}}}},41:function(e,t,n){e.exports=n.p+"assets/images/statistics/jumpmonth-a98e52a.png"},44:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){s["default"](e)}t.__esModule=!0,t.registerDefaultDecorators=r;var o=n(3217),s=i(o)},45:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){s["default"](e),l["default"](e),c["default"](e),p["default"](e),f["default"](e),m["default"](e),_["default"](e)}t.__esModule=!0,t.registerDefaultHelpers=r;var o=n(3218),s=i(o),a=n(3219),l=i(a),u=n(3220),c=i(u),d=n(3221),p=i(d),h=n(3222),f=i(h),g=n(3223),m=i(g),v=n(3224),_=i(v)},46:function(e,t,n){"use strict";t.__esModule=!0;var i=n(4),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t["default"]=r,e.exports=t["default"]},49:function(e,t,n){"use strict";function i(e,t){return n(48).t(e,t.hash,{comment:t.hash._comment,context:t.hash._context})}function r(e){return n(48).t(n(556).cleanBlockText(e.fn()),e.hash,{comment:e.hash._comment,context:e.hash._context})}e.exports=function(){var e=arguments.length;if(2===e)return i.apply(this,arguments);if(1===e)return r.apply(this,arguments);throw new Error("Invalid signature to t helper, expected 1 or 2 arguments, got "+e)}},50:function(e,t,n){"use strict";e.exports=function(){return new(n(20).SafeString)(n(582).handlebarHelper.apply(this,arguments))}},52:function(e,t,n){"use strict";var i=e.exports=new(n(242)),r={api_v2_host:!0,env:!0};n(3).each({app_id:1e3*String(Date.now()).substr(-8)+Math.floor(1e3*Math.random()),app_version:null,public_api_host:"https://api.soundcloud.com/",api_v2_host:"https://api-v2.soundcloud.com/",auth_ui_host:"https://secure.soundcloud.com/",client_application_id:46941,client_id:"LegNTza81OuwVaDfYELQW1X71tY1sot8",env:"production",eventlogger_tracking_url:"https://l9bjkkhaycw6f8f4.soundcloud.com",experiments:null,geoip:null,airbrake_project_key:"04b3f291e3db982608ca3611c0e3f6fe",airbrake_project_id:"129825",fb_app_id:"19507961798",google_client_id:"984739005367.apps.googleusercontent.com",recaptcha_public_key:"6LeABsUSAAAAABLOEF92U0unfhlGLynYlhvJRFue",adyen_url:"https://test.adyen.com/hpp/cse/js/7814235253800464.shtml",playHistoryLength:50,maxComments:200,me:null,mixi_api_key:"1403ed11563185e9cff6cfeedf4f2ecf77fa459e",notifications:null,notificationsUri:"wss://pushers.soundcloud.com/",oauth_token:null,preferFlashAudio:!0,promotedContentServer:"https://promoted.soundcloud.com/promo",promotedContentAccessToken:"web",rubiconPartnerCode:16386,restoreToSound:null,rollouts:null,router:null,songkick_api_key:"ZWsLr2h7FF5sHG54",facebook_api_key:"a7309b9a9a85963579f7e8bcffd36d2a",versionOutOfDate:!1,versionUpdateInterval:36e5,visualsQueueHost:"https://visuals-queue.soundcloud.com/visuals",wisHost:"https://wis.sndcdn.com",systemUserId:193},function(e,t){i.set(t,e,{silent:!0})}),"object"==typeof window.__sc_env&&n(3).each(window.__sc_env,function(e,t){r[t]&&i.set(t,e,{silent:!0})}),i.finalize()},54:function(e,t,n){"use strict";var i,r,o=new(n(103))("broadcast"),s=n(52).get("app_id");o.on("broadcast",function(e){var t=e.current;t&&t.appId!==s&&r.call(a,t)});var a=e.exports=n(3).assign({},n(22).Events,{broadcast:function(e,t){var n,s;return"string"==typeof e?(n=[].slice.call(arguments,1),t=e,e={}):n=[].slice.call(arguments,2),s=i(t,n),o.set("broadcast",s),e.excludeThis||r.call(this,s),this}});i=function(e,t){return{type:e,timestamp:Date.now(),appId:s,args:t}},r=function(e){this.trigger.apply(this,["broadcast:"+e.type].concat(e.args||[]))}},55:function(e,t,n){"use strict";e.exports=function(){var e=Array.prototype.slice.call(arguments,0,-1);return n(57).getRoute.apply(n(57),e)}},57:function(e,t,n){(function(t){"use strict";function i(e,i){var r,o;this.currentLayout&&(e!==this.currentLayout&&this.currentLayout.dispose(),n(54).trigger("layout:beforeChange",this._currentLayoutInfo)),this.currentLayout=e,o=this._currentLayoutInfo=e.getChangeEventData(i),r=t("#content"),e.render(),r.children()[0]!==e.el&&r.empty()[0].appendChild(e.el),n(54).trigger("layout:change",o)}function r(e){return e._navigationBlocks.filter(o).map(function(e){return e.callback}).filter(n(3).identity).reduce(function(e,t){return t(e)!==!1&&e},!0)}function o(e){return!e.condition||e.condition()}function s(){return n(96).pushState?window.location.href:"https://"+window.location.hostname+"/"+window.location.hash.replace(/^[#\/]/,"")}function a(e,t){("popstate"!==t.type||r(e))&&n(22).History.prototype.checkUrl.call(this,t)}var l,u,c,d=300,p=e.exports=n(22).Router.extend({currentLayout:null,_currentLayoutInfo:null,_navigationBlocks:null,_navCount:0,initialize:function(){this._navigationBlocks=[],n(3).bindAll(this,"onBeforeUnload","detachCurrentLayout"),n(22).history.checkUrl=a.bind(n(22).history,this)},setRoutes:function(e,t){var n=this;l=e,u=t,c=l.slice(0).reverse(),e.forEach(function(e){var t=e.route,i=e.name,r=e.handler;n.route(t,i,r)})},setLoader:function(e){this.loader=e},reload:function(){this.match(window.location.href.replace(/^https?:\/\/[^\/]+\//,""))},addNavigationBlock:function(e,i,r){var o,s=n(3).uniqueId();return o=this._navigationBlocks.unshift({id:s,exitSiteMessage:e,callback:i,condition:r}),1===o&&t(window).on("beforeunload",this.onBeforeUnload),s},removeNavigationBlock:function(e){var n,i=this._navigationBlocks;for(n=i.length;n--;)if(i[n].id===e){i.splice(n,1);break}i.length||t(window).off("beforeunload",this.onBeforeUnload)},isNavigationBlocked:function(){return this._navigationBlocks.some(o)},onBeforeUnload:function(e){var t=n(3).find(this._navigationBlocks,o),i=t&&t.exitSiteMessage;return i?(e.returnValue=i,i):void 0},navigateToRoute:function(e,t,n){var i,r=[e];t&&t.length&&(r=r.concat(t)),i=p.getRoute.apply(p,r),this.navigate(i,n)},navigate:function(e,t){r(this)&&(t&&t.hard?window.location.href=e:n(22).Router.prototype.navigate.call(this,e,t))},match:function(e){return n(22).history.loadUrl(e)},getUrlInfo:function(e){var t,i,r,o=n(62).parse(e);return o.path?(t=o.path.substring(1),r=n(3).find(c,function(e){return e.route.test(t)}),r&&(i={name:r.name,params:this._extractParameters(r.route,t)}),i):void 0},getLocation:function(){return s()},apply:function(e,t){var r,o,s=this,a="layouts/"+e;t=t||{},++this._navCount,this.setupDeferred&&this.setupDeferred.reject(),this.setupDeferred=o=n(53).defer(),r=window.setTimeout(this.detachCurrentLayout,d),this.loader.loadLayout(a).always(window.clearTimeout.bind(window,r)).done(function(n){if("rejected"!==o.state()){var r=s.currentLayout instanceof n?s.currentLayout:new n;r.setArgs(t),s.setupDeferred=r.setup(t).done(i.bind(s,r,e,t))}})},notImplemented:function(e){var t=s();e&&(t=e(t)),window.open(t),window.history.go(-1)},isLoggedIn:function(){return n(60).isLoggedIn()},getRolloutValue:function(e){return n(52).get("rollouts").get(e)},getExperimentValue:function(e,t){return n(52).get("experiments").get(e,t)},getCurrentUserPermalink:function(){return n(52).get("me").get("permalink")},getQueryParams:function(e){return n(62).getQueryParams(e)},getQueryString:function(e){return n(62).getQueryString(e)},getLayoutInfo:function(){return this._currentLayoutInfo},getRouteInfo:function(e){return n(3).find(l,function(t){return t.name===e})},getNavCount:function(){return this._navCount},unauthenticated:function(){n(56).trackAuthEvent(n(99).initiate,{target:"implicit:navigate"});var e=n(62).parse(window.location.href).relative;this.navigateToRoute("signin",e,{replace:!0,trigger:!0})},detachCurrentLayout:function(){this.currentLayout&&this.currentLayout.$el.detach()}},{getRoute:function(e){var t=u[e];if(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];return t.apply(this,i)}},includeSecretTokenForSound:function(e){var t=n(52).get("me");return!(!e.secret_token||t.owns("sound",e))},includeSecretTokenForPlaylist:function(e){var t=n(52).get("me");return!(!e.secret_token||t.owns("playlist",e))},removeFragmentParams:function(){if(n(96).pushState){for(var e=window.location.href,t=e,i=arguments.length,r=Array(i),o=0;i>o;o++)r[o]=arguments[o];t=r.length?r.reduce(function(e,t){return n(62).removeFragmentParam(t,e)},e):n(62).modify(e,{fragment:null}),t!==e&&window.history.replaceState(null,null,t)}}})}).call(t,n(1))},61:function(e,t,n){"use strict";function i(e,t){return e.get?e.get(t):e[t]}function r(e,t){this.has(e)&&this.set(e,Math.max(0,this.get(e)+(t?1:-1)))}function o(e,t){r.call(this,e.isPrivate()?"private_tracks_count":"track_count",t)}function s(e){n(3).each({follow:e.onFollow,like:e.onLikesChanged,repost:e.onReposted,comment:e.onComment,destroy:e.onDeleteResource,createPlaylist:e.onPlaylistCreate},function(t,i){e.listenTo(n(71),i+":origin:user:"+e.id,t)})}function a(e){r.call(this,"followers_count",e.state)}function l(){return{product:{id:g,name:""},recurring:!1}}function u(){return{product:{id:_,name:"Free"},recurring:!1}}function c(){var e=this.isCPPEnabled()&&this.get("cpp").rightsholder_links;if(!e||!e.length)return!0;var t=e[0].rightsholder_urn;return n(3).every(e,{rightsholder_urn:t})}function d(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){return t.some(this.get,this)}}function p(e){return n(52).get("rollouts").get(e)}function h(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return function(){var n=this.getPlan();return n&&(t?n===e:n!==e)}}var f=n(177),g=f.CONSUMER_SUBSCRIPTION_FREE,m=f.CONSUMER_SUBSCRIPTION_MID_TIER,v=f.CONSUMER_SUBSCRIPTION_HIGH_TIER,_=f.CREATOR_SUBSCRIPTION_FREE,y=f.CREATOR_SUBSCRIPTION_PRO,b=f.CREATOR_SUBSCRIPTION_PRO_UNLIMITED,w=[{emitter:n(71),event:"follow",getInstance:function(e,t){var n=t.target;return e.id===n},handler:a}];e.exports=n(63).extend(n(1298),n(1300),n(1301).withOptions({types:n(2187).user}),n(265).withOptions({attr:"username"}),n(238).withOptions({read:"avatar_url",write:"avatar_data"}),n(564),n(191).withOptions({events:w}),{resource_type:"user",urnPrefix:"soundcloud:users",saveFormat:"json",saveWithWrapper:!1,_connections:null,setup:function(){var e=this;this.has("subscriptions")&&!this.has("creator_subscriptions")&&this.set("creator_subscriptions",this.get("subscriptions")),this.options.isMe&&(this.id?s(this):this.once("change:id",function(){s(e)}))},baseUrl:function(){return this.id?this.getEndpointUrl("user",{id:this.id}):"you"===this.get("permalink")?this.getEndpointUrl("me"):void 0},ownerUrl:function(){return this.getEndpointUrl("userAsOwner",{urn:this.getUrn()})},getImageSaveUrl:function(){return this.getEndpointUrl("userImageUpdate",{id:this.id})},ownerAttributes:["default_tracks_feedable","cpp","downloads_disabled","hidden_tracks_count","blocked_tracks_count","default_license","primary_email","primary_email_confirmed","date_of_birth","gender"],parse:function(e){var t=n(3).clone(e);return t.primary_email_confirmed=t.primary_email_confirmed!==!1,t.subscriptions&&!t.creator_subscriptions&&(t.creator_subscriptions=t.subscriptions),"undefined"==typeof t.country_code&&"undefined"!=typeof t.country&&(t.country_code=n(81).countryToCode(t.country)),t},onLikesChanged:function(e){r.call(this,"likes_count",e.state)},onFollow:function(e){r.call(this,"followings_count",e.state)},onReposted:function(e){r.call(this,"reposts_count",e.state)},onComment:function(e){e.state&&r.call(this,"comments_count",!0)},onDeleteResource:function(e){var t=e.targetModel;switch(t.resource_type){case"sound":this.adjustUploadSeconds(t),this.owns("sound",t)&&o.call(this,t,!1);break;case"comment":this.owns("comment",t)&&r.call(this,"comments_count",!1)}},onPlaylistCreate:function(e){var t="private"===e.object.get("sharing")?"private_playlists_count":"playlist_count";this.set(t,(this.get(t)||0)+1)},owns:function(e,t){void 0===t&&(t=e,e=t.resource_type);var n=this.id;if(!n)return!1;switch(e){case"comment":case"playlist":case"sound":return n===i(t,"user_id");case"user":return n===i(t,"id");case"sound-upload-edit":case"playlist-upload":case"playlist-edit":case"profile-settings":return!0}return!1},canDownload:function(e){return"sound"===e.resource_type&&e.get("downloadable")&&e.get("has_downloads_left")!==!1},getCountry:function(){var e=this.get("country_code");return e?n(81).codeToCountry(e):this.get("country")},getCountryCode:function(){var e=this.get("country");return e?n(81).countryToCode(e):this.get("country_code")},getPlan:function(){return this.getCreatorSubscription().product.id},getConsumerPlan:function(){return this.getConsumerSubscription().product.id},getPlanName:function(){return this.getCreatorSubscription().product.name},isCPPEnabled:function(){return!!this.get("cpp")},canRequestISRCGeneration:function(){return this.getCPPOption("indie",!1)===!0&&this.hasMonetization()===!0},canBulkUploadAsPlaylist:function(){return!this.isCPPEnabled()||c.call(this)},hasOnlyOneRightsholderLink:function(){return c.call(this)},getCPPOption:function(e,t){var n=this.get("cpp");return null!=(n&&n.config&&n.config[e])?n.config[e]:t},canEditMonetization:function(){return this.getCPPOption("can_edit_monetization",!0)},canEditDownloadable:function(){return this.getCPPOption("can_edit_downloadable",!0)},canEditRssEnabled:function(){return this.getCPPOption("can_edit_rss_enabled",!0)},hasGeoblocking:function(){return this.isCPPEnabled()||p("geo_blocking_settings")},hasMonetization:function(){return this.getCPPOption("has_monetization_form")},hasCPPRightsholder:function(){var e=this.get("cpp");return!!(e&&e.rightsholder_links&&e.rightsholder_links.some(function(e){var t=e.rightsholder_urn;return/^soundcloud:rightsholders/.test(t)}))},hasFullScheduling:function(){return this.isCPPEnabled()||p("scheduled_publishings")},hasToPublicScheduling:function(){return this.isCPPEnabled()||p("scheduled_publishings_only_sunrise_to_public")},hasAnyScheduling:function(){return this.hasFullScheduling()||this.hasToPublicScheduling()},hasMonthlyPlan:function(){return this.getCreatorSubscription().recurring},hasCreatorSubHug:function(){var e=this.get("creator_subscription");return!(!e||!e.hug)},isFree:h(_),isPro:h(y),isProUnlimited:h(b),isPremium:h(_,!1),isConfirmed:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.viaEmail,i=void 0===t?!1:t,r=n(52).get("experiments").get("v2_listening","restrict_actions_when_user_is_not_confirmed"),o=!("not_restricted_b"===r||"not_restricted_a"===r);return o&&n(60).isLoggedIn()?i?!!this.get("primary_email_confirmed"):!!this.get("confirmed"):!0},hasHighTier:function(){return this.getConsumerPlan()===v},hasMidTier:function(){return this.getConsumerPlan()===m},hasProPlanLevel:function(){return 1===this.getPerk("planLevel")},getConsumerSubscription:function(){return this.get("consumer_subscription")||l()},getCreatorSubscription:function(){var e=this.get("creator_subscription"),t=this.get("creator_subscriptions");return e?e:t&&t[0]?t[0]:u()},getPerk:function(e){return n(2167).get(this.getPlan(),this.getConsumerPlan(),e)},getPermalink:function(){return(this.get("permalink_url")||"").replace(/^https?:.+?\w\//,"/")},isMe:function(){return this===n(52).get("me")&&!!this.id},isSystemUser:function(){return this.id===n(52).get("systemUserId")},getNumTracks:function(e){var t=this.get("track_count")||0,n=this.get("private_tracks_count")||0,i=this.get("blocked_tracks_count")||0,r=this.get("hidden_tracks_count")||0;switch(e){case"public":return t;case"private":return n;case"hidden":return r;case"blocked":return i;default:return t+n+r+i}},getNumPlaylists:function(e){var t=this.get("playlist_count")||0,n=this.get("private_playlists_count")||0;switch(e){case"public":return t;case"private":return n;default:return t+n}},hasPlaylists:d("playlist_count","private_playlists_count"),hasLikes:d("likes_count","public_favorites_count"),hasFollowings:d("followings_count"),hasPublicSounds:d("track_count","playlist_count","reposts_count"),hasTracks:d("track_count","private_tracks_count"),hasOwnSounds:d("track_count","private_tracks_count","playlist_count","private_playlists_count"),hasSounds:d("track_count","private_tracks_count","playlist_count","private_playlists_count","reposts_count"),adjustUploadSeconds:function(e,t){var n,i,r,o=e.get("duration");o&&(n=Math.round(o/1e3)*(t?-1:1),i=this.getUploadSecondsLeft()+n,r=this.getUploadSecondsUsed()-n,this.setUploadSeconds(i,r))},setUploadSeconds:function(e,t){var i=n(3).clone(this.get("quota"));i&&(i.upload_seconds_used=t,i.unlimited_upload_quota||(i.upload_seconds_left=e),this.set("quota",i))},getUploadSecondsLeft:function(){var e=this.get("quota");return e?e.unlimited_upload_quota?1/0:e.upload_seconds_left:void 0},getUploadSecondsUsed:function(){var e=this.get("quota");return e?e.upload_seconds_used:0},getUploadSeconds:function(){var e=this.getUploadSecondsLeft();return e===1/0?e:e+this.getUploadSecondsUsed()},hasUnlimitedUpload:function(){return this.getUploadSecondsLeft()===1/0},getUploadMinutesLeft:function(){var e=this.getUploadSecondsLeft();return(0>e?Math.floor:Math.ceil)(e/60)},getUploadMinutesUsed:function(){return Math.round(this.getUploadSecondsUsed()/60)},isOverQuota:function(){return this.getUploadSecondsLeft()<0},getRSSFeedUrl:function(){return"http://feeds.soundcloud.com/users/"+this.getUrn()+"/sounds.rss"}},{normalize:function(e){return e.avatar_url&&(e.avatar_url=e.avatar_url.replace("http:","https:").replace(/\?.*/,"")),e},resolve:function(e){return"you"===e?n(53).resolve(n(52).get("me")):n(63)._resolve(this,e,function(t){return t.hasPermalink(e)})}})},64:function(e,t,n){"use strict";function i(e){return function(t){n(54).trigger("audio:"+e,t)}}function r(){this._visuals||(this._visuals=new(n(1243))(null,{resource_id:this.id})),this._visuals.reset(this.get("visuals"),{parse:!0}),this._visuals.lastFetchTime=Date.now()}function o(){var e=!this.isBlocked()&&!this._temporarilyUnavailable;e!==this._playable&&(this._playable=e,this.trigger("change:playable",e))}var s=n(3).constant(1),a=function(){return this},l=n(3).constant(void 0),u=.25,c="BLOCK",d="SNIP",p="MONETIZE",h="ALLOW",f=3e3,g=3e4,m=function(e,t){var n=t.target,i=t.targetType;return e.id===n&&"sound"===i},v=[{emitter:n(71),event:"like",getInstance:m,handler:function(e){this.onLike(e)}},{emitter:n(71),event:"repost",getInstance:m,handler:function(e){this.onRepost(e)}},{emitter:n(71),event:"comment",getInstance:m,handler:function(e){this.onComment(e)}}],_=n(1297).withOptions({batchEndpoint:"trackBatch",getBatchParams:function(e){var t=e.playlist;return t&&"public"!==t.get("sharing")&&!n(52).get("me").owns(t)?{playlistId:t.id,playlistSecretToken:t.get("secret_token")}:null}});e.exports=n(63).extend(_,n(1296),n(1298),n(1300),n(1678),n(265).withOptions({attr:"title"}),n(238).withOptions({read:"artwork_url",write:"artwork_data"}),n(564),n(1302),n(191).withOptions({events:v}),{resource_type:"sound",urnPrefix:"soundcloud:tracks",getEndpointForMethod:function(e){return"read"===e?"track":null},audio:null,_visuals:null,_lastActionMetadata:{},submodelMap:{user:n(61),created_with:n(1321)},timeOffset:0,playlist:null,originalSound:null,ownerAttributes:["scheduled_public_date","scheduled_private_date","scheduled_timezone","geo_blockings","managed_by_feeds","reveal_comments","reveal_stats"],_temporarilyUnavailable:!1,_unavailableResetTimer:null,_checkpointInterval:void 0,_playable:!0,_preloadingCounter:0,setup:function(e,t){this._checkpointInterval=t.checkpointInterval;var s=!(!t||!t.suppressGlobalEvents);s||this.on("play",i("play"),this).on("pause",i("pause"),this).on("buffering:start",i("buffering:start"),this).on("buffering:end",i("buffering:end"),this).on("seeked",i("seeked"),this).on("finish",i("finish"),this),this.getSounds=n(3).memoize(this.getSounds),this.listenTo(this,"change:visuals",r).listenTo(this,"change:policy",o),this.attrExists("visuals")&&r.call(this),o.call(this)},getSubmodelOptions:function(e){return"user"===e?{parse:!0}:null},ownerUrl:function(){return this.getEndpointUrl("trackAsOwner",{urn:this.getUrn()})},parse:function(e){var t=e.schedule;return e.scheduled_timezone=t&&t.timezone,e.scheduled_public_date=t&&Date.parse(t.sunrise),e.scheduled_private_date=t&&Date.parse(t.sunset),e},baseUrl:function(){return this.getEndpointUrl("track",{urn:this.getUrn()})},destroyUrl:function(){return this.getEndpointUrl("trackDelete",{id:this.id})},getImageSaveUrl:function(){return this.getEndpointUrl("trackPatchUpdate",{id:this.id})},extractSecretToken:function(e){return n(62).parse(e.uri).query.secret_token},play:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._lastActionMetadata=e,this.playlist?(this.playlist.setCurrentSound(this),this.playlist.play(e)):this.createAudio()&&(e&&"number"==typeof e.seek&&this.audio.seek(e.seek),this.audio.play())},pause:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._lastActionMetadata=e,this.playlist?this.playlist.pause(e):this.audio&&(e&&"concurrent_streaming"===e.pause_reason?this.audio.pauseAfterFade(f):(this._lastActionMetadata=n(3).extend({userInitiated:!0},this._lastActionMetadata),this.audio.pause()))},seek:function(e){this.createAudio()&&this.audio.seek(e)},seekRelative:function(e){if(this.createAudio()){var t=n(116).clamp(this.audio.getPosition()+e,0,this.getMediaDuration());this.audio.seek(t)}},getSounds:function(){return[this]},getCurrentSound:a,getFirstSound:a,getLastSound:a,getNumSounds:s,getPrevSound:l,getNextSound:l,getSoundIndex:function(e){return e===this?0:-1},containsSound:function(e){return e===this},isBuffering:function(){return this.audio?this.audio.isLoading():!1},isPlaying:function(){return!!this.audio&&this.audio.isPlaying()},loadProgress:function(){if(!this.audio)return 0;var e=this.audio.getCurrentBufferedTimeRange();return e?Math.min(1,e.end/this.getMediaDuration()):0},currentTime:function(){return!this.audio||this.audio.isEnded()?0:this.audio.getPosition()},getListenTime:function(){return this.audio?this.audio.getListenTime():0},isNowPlaying:function(){return n(58).getCurrentSound()===this},progress:function(){return n(116).clamp(this.currentTime()/this.duration(),0,1)},duration:function(){return this.get("full_duration")||this.get("duration")},getMediaDuration:function(){var e=null;return this.audio&&(e=this.audio.getDuration()),null!==e?e:this.get("duration")||0},isPlayable:function(){return this._playable},makeTemporarilyUnavailable:function(){var e=this;this._temporarilyUnavailable=!0,window.clearTimeout(this._unavailableResetTimer),this._unavailableResetTimer=window.setTimeout(function(){e._temporarilyUnavailable=!1,o.call(e)},g),o.call(this)},isProcessing:function(){var e=this.get("state");return"finished"!==e&&null!=e},isEditing:function(){return!1},isCommentable:function(){return this.get("commentable")!==!1},isManagedByFeeds:function(){return!!this.get("managed_by_feeds")},isMonetizable:function(){return!!this.get("monetization_enabled")},isMonetizablePending:function(){var e=this.get("monetization");return!this.isMonetizable()&&!!(e&&e.territories&&e.territories.length>0)},hasScheduledPrivacy:function(){return!(!this.get("scheduled_public_date")&&!this.get("scheduled_private_date"))},isGeoblocked:function(){var e=this.get("geo_blockings");return!(!e||!e.length)},isBlocked:function(){return this.get("policy")===c},isSnippetized:function(){return this.get("policy")===d},isMonetized:function(){return this.get("policy")===p},isAllowed:function(){return this.get("policy")===h},isAd:function(){return!!this.get("ad_type")},isExternal:function(){return"external"===this.get("ad_type")},getOriginalSound:function(){return this.originalSound||this},hasMinPlayTime:function(){return this.getListenTime()>=u*this.getMediaDuration()},createAudio:function(){var e=this;if(!this.audio){if(this.isDisabled())return!1;if(window.clearTimeout(this._unavailableResetTimer),this._temporarilyUnavailable=!1,this.audio=n(1632).createPlayerFromSound(this,{checkpointInterval:this._checkpointInterval,onKilled:function(){e.audio=null}}),!this.audio)return!1;this._preloadingCounter>0&&this.audio.enablePreloading()}return!0},requestPreloading:function(){this._preloadingCounter++||this.createAudio()&&this.audio.enablePreloading()},unrequestPreloading:function(){--this._preloadingCounter||this.audio&&this.audio.disablePreloading()},disposeAudio:function(){this.audio&&(this.audio.kill(),this.audio=null,window.clearTimeout(this._unavailableResetTimer))},toJSON:function(){var e=n(63).prototype.toJSON.apply(this,arguments);return e._playlist={},this.playlist&&n(3).each(["id","permalink","permalink_url","secret_token","user_id"],function(t){e._playlist[t]=this.playlist.get(t)},this),e},saveUrl:function(e){return e?this.getEndpointUrl("trackPatchUpdate",{id:this.id}):this.isNew()?this.getEndpointUrl("trackCreate"):this.getEndpointUrl("trackUpdate",{urn:this.getUrn()})},saveFormat:"json",getAttributesToBeSaved:function(){var e=["api_streamable","commentable","description","downloadable","embeddable","feedable","genre","isrc","isrc_generate","label_name","license","monetization","original_filename","permalink","purchase_title","purchase_url","release_date","replacing_uid","replacing_original_filename","reveal_comments","reveal_stats","sharing","shared_to","tag_list","title","uid","geo_blockings","publisher_metadata","restrictions","rightsholders"].reduce(function(e,t){return null!=this[t]&&(e[t]=this[t]),e}.bind(this.attributes),{});return n(3).assign(e,n(3).pick(this.attributes,["scheduled_private_date","scheduled_public_date","scheduled_timezone","scheduled_public_timezone"])),e},setMonetizableTrack:function(e){e.hold(),this.addSubmodel(e),this._monetizableTrack=e},getMonetizableTrack:function(){return this._monetizableTrack},trackAudioEvent:function(e){var t=this._lastActionMetadata,i=t.userInitiated,r=t.pause_reason,o=t.external_media,s=t.context;e.userInitiated=i,e.pauseReason="pause"===e.type?r:void 0,e.externalMedia=o,e.context=s,e.isRepeating="one"===n(58).getQueueState().repeatMode,e.currentMetadata=n(58).getCurrentMetadata(),e.sound=this,n(91).getCurrentSound()===this&&(e.ad=n(91).getCurrentAd()),e.currentMetadata?n(56).trackAudioEvent(e):n(549).notify(new Error("No metadata for sound audio event: "+e.type))}},{states:{READY:"ready",PROCESSING:"processing",FAILED:"failed",FINISHED:"finished"},hashFn:function(e){var t=e.resource_id;if(t){if("object"==typeof t){if("playlist_id"in t)return[t.playlist_id,t.sound_id].join("_");if("ad_target_id"in t)return["ad",t.ad_target_id,t.sound_id].join("_")}return t}return e.id||null},resolve:function(e,t,i){return n(63)._resolve(this,[e,t,i],function(n){var i=n.get("user");return i&&n.get("permalink")===t&&i.permalink===e})},normalize:function(e){var t=e.waveform_url;return t&&t.indexOf("/w1.")>-1&&(e.waveform_url=t.replace(/\/w1\./,"/wis.")),e},onCleanup:function(e){return e._visuals&&(e._visuals.release(),e._visuals=null),e.disposeAudio(),n(63).onCleanup.apply(this,arguments)}})},73:function(e,t,n){"use strict";var i=e.exports=function(e,t){var r=i.getClass(e);return e=n(3).omit(e,"resource_type"),new r(e,t)};i.getClass=function(e){var t=e.resource_type||e.kind;return n("playlist"===t?80:"sound"===t||"track"===t?64:64)}},74:function(e,t,n){"use strict";function i(){n(54).off("connect:hasUserData",r),o=n(3).once(function(){n(60).isLoggedIn()||n(54).once("connect:hasUserData",r)})}function r(){g.clearRequestCache(),g.instances.invoke("fetch")}var o=void 0,s=n(70).productIds,a=s.CONSUMER_SUBSCRIPTION_MID_TIER,l=s.CONSUMER_SUBSCRIPTION_HIGH_TIER,u=s.CREATOR_SUBSCRIPTION_FREE,c=s.CREATOR_SUBSCRIPTION_PRO,d=s.CREATOR_SUBSCRIPTION_PRO_UNLIMITED,p=s.CREATOR_GIFT_FREE,h=s.CREATOR_GIFT_PRO,f=s.CREATOR_GIFT_PRO_UNLIMITED;i();var g=e.exports=n(63).extend({resource_type:"product",setup:function(){o()},fetch:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return g.fetchProductsByCategory(g.idToCategory(this.id),this.options.ref,n.promoCode).then(function(n){var i=n.body.plans;t.lastFetchTime=Date.now(),t.populateFromPlans(i,e)},function(){t.populateFromPlans({})})},populateFromPlans:function(e,t){var i=n(3).findWhere(e,{id:g.idToApiId(this.id)});i?this.set(this.parse(i,t),t):this.set("active",!1)},parse:function(e){return n(3).extend({active:!0},n(3).omit(e,"id"))},isActive:function(){return!!this.get("active")},isAvailable:function(){return this.isFree()||!!this.get("preselected_term")},isGift:function(){return this.id.indexOf("gift")>-1},isConsumerHighTier:function(){return this.id===l},isPro:function(){return-1===this.id.indexOf("unlimited")&&!this.isFree()},isProUnlimited:function(){return this.id.indexOf("unlimited")>-1},isRenewal:function(){return"renewal"===this.get("use_case")},isFree:function(){return this.id.indexOf("free")>-1},isCurrency:function(e){return this.getCurrency()===e},isTrial:function(){return!!this.get("trial")},getPromotion:function(){return this.get("promotion")},getPromotionUrn:function(){if(!this.getPromotion())return null;var e=this.getPromotion().urn.split(":").pop(),t=e.split("-").pop();return this.getPromotion().price&&t===this.getPromotion().price.currency.toLowerCase()?e.split("-").slice(0,-1).join("-"):e},getPromotionDuration:function(){
var e=this.get("promotion");return e?e.duration_in_days:0},getPromotionDurationInMonths:function(){var e=this.get("promotion");return e?e.duration_in_days/30:0},getTrialDuration:function(){var e=this.get("trial");return e?e.duration_in_days:0},getTrackingUseCase:function(){var e=this.get("use_case");return(e===g.useCases.REGULAR||e===g.useCases.MONEY_BACK)&&(e="new"),e},getCurrency:function(){return this.getPrice().currency},getTitle:function(){return this.isPro()?n(48).t("Pro"):this.isProUnlimited()?n(48).t("Pro Unlimited"):n(48).t("Free")},getPrice:function(e){return this.getTermData(e).price||{currency:"EUR"}},getDisplayPrice:function(){if(!this.getPrice().hasOwnProperty("amount"))return null;var e=this.getPrice(),t=e.amount,i=e.currency;return n(48).priceHelper.format(t,i)},getDiscountPrice:function(e){if(!this.getDiscount(e))return null;var t=this.getDiscount(e),i=t.amount,r=t.currency;return n(48).priceHelper.format(i,r)},getProratingPrice:function(e){if(!this.getProrating(e))return null;var t=this.getProrating(e),i=t.amount,r=t.currency;return n(48).priceHelper.format(Math.abs(i),r)},getPromoPrice:function(){arguments.length<=0||void 0===arguments[0]?2:arguments[0];if(!this.getPromotion())return null;var e=this.getPromotion().price,t=e.amount,i=e.currency;return n(48).priceHelper.format(t,i)},getProratingAmount:function(e){var t=this.getProrating(e);return t&&t.amount},getPackagePrice:function(e){var t=this.getTermData(e)["package"];return t&&(t.price||{currency:"EUR"})},getTier:function(e){var t=this.getTermData(e)["package"];return t&&t.tier},getPromoCode:function(){var e=this.getPromotion(),t=e.urn;return t&&t.split(":").pop()},getDiscount:function(e){var t=this.getTermData(e).discount;return t&&t.price},getProrating:function(e){var t=this.getTermData(e).prorating;return t&&t.price},getStartDate:function(e){return new Date(this.getTermData(e).start_date)},getTrialExpiryDate:function(e){var t=this.getStartDate();return t.setUTCDate(t.getUTCDate()+this.getTrialDuration()),t},getPromotionExpiryDate:function(e){var t=this.getStartDate();return t.setUTCDate(t.getUTCDate()+this.getPromotionDuration()),t},getTermData:function(e){return e=e||this.getPreselectedTerm(),this.get(e)||{}},getPreselectedTerm:function(){return this.get("preselected_term")},getUrn:function(){return this.getTermData()["package"].urn}},{useCases:{DISABLED:"disabled",REGULAR:"regular",MONEY_BACK:"money_back",RENEWAL:"renewal",DOWNGRADE:"downgrade",UPGRADE:"upgrade"},idToApiId:function(e){switch(e){case a:return"consumer-mid-tier";case l:return"consumer-high-tier";case p:case u:return"free";case h:case c:return"pro";case f:case d:return"pro-unlimited"}},idToCategory:function(e){switch(e){case a:case l:return"consumer-subscription";case p:case h:case f:return"creator-gift";case u:case c:case d:return"creator-subscription"}},fetchProductsByCategory:n(3).memoize(function(e,t,i){return n(23).callEndpoint("paymentQuotations",{category:e},{ref:t,promo_code:i}).fail(function(){delete g.fetchProductsByCategory.cache[e+"--"+i]})},function(e,t,n){return e+"--"+n}),resetLoginListener:i,clearRequestCache:function(){g.fetchProductsByCategory.cache={}}})},80:function(e,t,n){"use strict";function i(e,t){e.originalSound.set(e.attributes,t)}function r(e,t){this.set(e.attributes,t)}function o(){s.call(this)}function s(e){var t=this.soundsCollection.pluck("duration").reduce(function(e,t){return e+(t||0)},0);this.set("duration",t,e)}function a(e){var t=this,i=e.filter(function(e){return!t.findSoundById(e)}),r=this.soundsCollection.filter(function(t){var n=t.id;return-1===e.indexOf(n)});r.forEach(function(e){return t.removeSound(e)}),i.forEach(function(e){var i=new(n(64))({id:e});t.addSound(i),i.release()}),this.reorder(e)}var l,u=n(3).constant(!1),c="tracklistChange",d=500;l=n(22).Collection.extend({model:n(64),fetch:function(){return this.playlist.fetch.apply(this.playlist,arguments)},initialize:function(e,t){this.playlist=t.playlist},hasDataForView:function(){return!!this.playlist.attributes.tracks},isFullyPopulated:n(3).constant(!0),_usageCount:n(3).constant(1),hold:n(3).noop,release:n(3).noop});var p=function(e,t){var n=t.target,i=t.targetType;return e.id===n&&"playlist"===i},h=[{emitter:n(54),event:"broadcast:"+c,getInstance:function(e,t){var n=e.id,i=t.id;return n===i},handler:function(e){var t=e.trackIds;a.call(this,t)}},{emitter:n(71),event:"like",getInstance:p,handler:function(e){this.onLike(e)}},{emitter:n(71),event:"repost",getInstance:p,handler:function(e){this.onRepost(e)}}],f=(e.exports=n(63).extend(n(471),n(1296),n(473),n(474),n(265).withOptions({attr:"title"}),n(238).withOptions({read:"artwork_url",write:"artwork_data"}),n(564),n(1302),n(191).withOptions({events:h}),{resource_type:"playlist",urnPrefix:"soundcloud:playlists",saveFormat:"json",submodelMap:{tracks:n(64),user:n(61)},states:{shuffling:function(e){var t=this.getSoundIndex(this.getCurrentSound()),n=e&&this.isPlaying()?t:null,i=e?0:t;this.currentSoundCursor=i,this.setPlayOrder(n),this.toggleState("repeating",e)},repeating:{initial:!1}},soundsCollection:null,currentSoundCursor:0,_isPlayActionQueued:!1,_playOrder:null,_internalNavigation:!1,getSubmodelOptions:function(e){return"user"===e?{parse:!0}:null},setup:function(){this.soundsCollection=new l(null,{playlist:this}),this.listenTo(this.soundsCollection,"error",function(e,t,i){t instanceof n(550)&&this.removeSound(e)}),this._playOrder||(this._playOrder=[])},baseUrl:function(){return this.getEndpointUrl("playlist",{id:this.id},{representation:"full"})},destroyUrl:function(){return this.getEndpointUrl("playlistDelete",{id:this.id})},saveUrl:function(){return this.isNew()?this.getEndpointUrl("playlistCreate"):this.getEndpointUrl("playlistUpdate",{id:this.id})},getImageSaveUrl:function(){return this.getEndpointUrl("playlistArtworkUpdate",{id:this.id})},createSubmodel:function(e,t){"tracks"===t?this.prepareSounds():n(63).prototype.createSubmodel.apply(this,arguments)},prepareSounds:function(){var e=this,t=[];this.get("tracks").forEach(function(i){if(!e.containsSoundId(i.id)){var r=new(n(64))(i);e.addSubmodel(r);var o=n(3).defaults({resource_id:{playlist_id:e.id,sound_id:i.id}},i),s=new(n(64))(o,{suppressGlobalEvents:!0});s.playlist=e,s.originalSound=r,t.push(s),e.toggleListeners(s,!0)}}),0===this.soundsCollection.length?this.soundsCollection.reset(t):this.soundsCollection.add(t,{silent:!0}),t.length&&this.setPlayOrder()},getSoundsCollection:function(){return this.soundsCollection},getSoundsCollectionClone:function(){return new l(this.soundsCollection.models.slice(),{playlist:this})},toggleListeners:function(e,t){var n=t?"on":"off",s=t?"listenTo":"stopListening";e[n]("play",this.onSoundPlay,this)[n]("pause",this.onSoundPause,this)[n]("buffering:start buffering:end",this.onSoundBuffering,this)[n]("finish",this.onSoundFinish,this)[n]("time",this.onSoundTime,this)[n]("seeked",this.onSoundSeeked,this)[n]("change:duration",o,this),e[n]("change",i)[s](e.originalSound,"change",r)},onSoundBuffering:function(e){this.trigger(e.type,e),n(54).trigger("audio:"+e.type,e)},onSoundPlay:function(e){e.playlist=this,this.trigger("internal:play",e),this._internalNavigation||(this.trigger("play",e),n(54).trigger("audio:play",e),this._internalNavigation=!0)},onSoundPause:function(e){this._internalNavigation||(e.playlist=this,this.trigger("pause",e),n(54).trigger("audio:pause",e),this._internalNavigation=!0)},onSoundFinish:function(e){e.sound===this.getLastSound()&&(e.playlist=this,this.trigger("pause finish",e),n(54).trigger("audio:pause audio:finish",e))},onSoundTime:function(e){e.playlist=this,this.trigger("time",e)},onSoundSeeked:function(e){e.playlist=this,this.trigger("seeked",e)},getPrevSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor-1])},getCurrentSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor])},getNextSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor+1])},getFirstSound:function(){return this.soundsCollection.at(this._playOrder[0])},getLastSound:function(){return this.soundsCollection.at(this._playOrder[this.soundsCollection.length-1])},findSound:function(e){return this.findSoundById(e.id)},findSoundById:function(e){return this.soundsCollection.get(e)},getSounds:function(){return this.soundsCollection.models},getSoundIndex:function(e){return this.soundsCollection.indexOf(e)},containsSound:function(e){return this.getSoundIndex(e)>-1},containsSoundId:function(e){return!!this.findSoundById(e)},isManagedByFeeds:function(){return!!this.get("managed_by_feeds")},getNumSounds:function(){return this.soundsCollection.length||this.get("track_count")||0},isGeoblocked:u,isMonetizable:u,isMonetizablePending:u,hasScheduledPrivacy:u,play:function(e){var t=this;if(e=e||{},e.audible&&e.audible.playlist&&e.userInitiated&&(this.setPlayOrder(this.getSoundIndex(e.audible)),this.getState("shuffling")?this.currentSoundCursor=0:this.setCurrentSound(e.audible)),this.soundsCollection.length){this._internalNavigation=!1;var n=this.getCurrentSound();n.createAudio()&&(e&&"number"==typeof e.seek&&n.audio.seek(e.seek),n.audio.play())}else this.lastFetchTime||(this._isPlayActionQueued=!0,this.fetch().done(function(){t._isPlayActionQueued&&(t._isPlayActionQueued=!1,t.play(e))}))},pause:function(e){if(this._isPlayActionQueued=!1,this.soundsCollection&&this.soundsCollection.length){this._internalNavigation=!1;var t=this.getCurrentSound().audio;t&&t.pause(e)}},rewind:function(){this.currentSoundCursor=0},setCurrentSound:function(e){e&&(this.currentSoundCursor=this._playOrder.indexOf(this.getSoundIndex(e)))},hasDataForPlay:function(){return this.attributes.hasOwnProperty("tracks")},isNowPlaying:function(){return this.getSoundIndex(n(58).getCurrentSound())>-1},isBuffering:function(){return this.soundsCollection.some(f("isBuffering"))},isPlaying:function(){return this.soundsCollection.some(f("isPlaying"))},isProcessing:function(){return this.soundsCollection.some(f("isProcessing"))},isPlayable:function(){return!this.get("tracks")||this.soundsCollection.some(f("isPlayable"))},isAlbum:function(){return!!this.get("is_album")},setPlayOrder:function(e){var t=n(3).range(this.soundsCollection.length);this.getState("shuffling")&&(t=n(3).shuffle(t),"number"==typeof e&&(t.splice(t.indexOf(e),1),t.unshift(e))),this._playOrder=t},parse:function(e,t){return e=n(63).prototype.parse.apply(this,arguments),t=t||{},e.user&&e.user.urn&&!e.user.id&&(e.user.id=n(88).getAsAttributes(e.user.urn).id),t.isSavingOrder&&(e.tracks||e.track_count)&&(delete e.tracks,delete e.track_count),e.secret_token&&e.tracks&&e.tracks.forEach(function(t){"public"===t.sharing||t.secret_token||(t.secret_token=e.secret_token)}),e},extractSecretToken:function(e){return n(62).parse(e.uri).query.secret_token},duration:function(){return this.get("duration")},removeSound:function(e){if(e=this.findSound(e)){var t=this.getSoundIndex(e),n=this.get("tracks").slice();return this.currentSoundCursor>t&&--this.currentSoundCursor,e.isPlaying()&&e.pause(),this.toggleListeners(e,!1),n.splice(t,1),this.soundsCollection.remove(e),s.call(this),this.set("tracks",n),e.playlist=null,e.release(),!0}return!1},addSound:function(e){var t,i,r;return this.findSound(e)?!1:(t=n(3).defaults({resource_id:{playlist_id:this.id,sound_id:e.id}},e.attributes),i=new(n(64))(t,{suppressGlobalEvents:!0}),i.playlist=this,i.originalSound=e,this.addSubmodel(e),this.toggleListeners(i,!0),r=this.get("tracks"),r||(this.set("tracks",[],{silent:!0}),r=this.get("tracks")),this._playOrder.push(this.soundsCollection.length),r.push(i.attributes),this.soundsCollection.add(i),s.call(this,{silent:!0}),this.forceChange("tracks"),!0)},getCurrentOrder:function(){return this.soundsCollection.pluck("id")},reorder:function(e){var t=this.soundsCollection,n=this.getCurrentSound(),i=n&&n.id;t.sort({silent:!0,comparator:function(t){return e.indexOf(t.id)}}),this.currentSoundCursor=Math.max(0,e.indexOf(i)),this.set({tracks:this.soundsCollection.toJSON(),track_count:this.soundsCollection.length})},hasCapacity:function(e){return n(3).union(this.soundsCollection.pluck("id"),e).length<=d},saveOrder:function(e){var t=this,i=this.soundsCollection.pluck("id"),r={playlist:{tracks:i}};return n(22).Model.prototype.save.call(this,{},n(3).assign({url:this.saveUrl(),data:JSON.stringify(r),contentType:"application/json",isSavingOrder:!0},e)).done(function(){n(54).broadcast({excludeThis:!0},c,{id:t.id,trackIds:i})})},getAttributesToBeSaved:function(){var e=n(63).prototype.getAttributesToBeSaved.call(this);return e.tracks&&(e.tracks=n(3).pluck(e.tracks,"id")),e},resetOrder:function(){var e=this;return this.fetch().done(function(){e.soundsCollection.each(function(e){e.playlist=null,e.release()}),e.soundsCollection.reset([],{silent:!0}),e.prepareSounds()})},hasDifferentCreators:function(){var e,t=this.get("user_id"),n=!1;return e=!this.soundsCollection.every(function(e){var i=e.get("user_id");return null==i?(n=!0,!0):i===t}),e||(n?null:e)},hasVisuals:function(){return!1}},{onCleanup:function(e){e.soundsCollection.each(function(e){e.playlist=null,e.release()}),e.soundsCollection.off(),delete e.soundsCollection,n(63).onCleanup(e)},resolve:function(e,t,i){return n(63)._resolve(this,[e,"sets",t,i],function(n){var i=n.get("user");return i&&n.get("permalink")===t&&i.permalink===e})}}),n(3).memoize(function(e){return function(t){return t[e]()}}))},105:function(e,t,n){"use strict";e.exports=function(e){return new(n(20).SafeString)(n(552).getAccessibleMarkup(e.hash))}},107:function(e,t,n){"use strict";var i=1/0;e.exports=n(63).extend(n(471),{resource_type:"comment",urnPrefix:"soundcloud:comments",saveWithWrapper:!1,parse:function(e){return null===e.timestamp&&(e.timestamp=i),e},submodelMap:{track:n(64),user:n(61)},baseUrl:function(){return this.getEndpointUrl("comment",{id:this.id})},saveUrl:function(){var e=this.getSound(),t=e.get("secret_token");return this.getEndpointUrl("commentCreate",{track_id:this.getSoundId()},t&&e.isPrivate?{secret_token:t}:{})},destroyUrl:function(){return this.getEndpointUrl("commentDelete",{id:this.id})},getAttributesToBeSaved:function(){return this.pick("body","timestamp")},setReplyTo:function(e){this.set("replyTo",e.id),this.trigger("change:recipient",e.get("user").permalink)},hasDataForView:function(e){return n(63).prototype.hasDataForView.call(this,n(3).without(e,"id"))},getSound:function(){var e=this.getSoundId(),t=n(64).hashFn({id:e,resource_type:"sound"}),i=n(64).instances.get(t);return!i&&e&&(i=new(n(64))(this.get("track")||{id:e}),this.addSubmodel(i)),i},destroy:function(e){return this.isNew()||n(71).notify("comment",{object:this,target:this.getSoundId(),targetType:"sound",state:!1}),n(63).prototype.destroy.call(this,e)},getSoundId:function(){return this.get("track_id")||(this.get("track")||{}).id},reportAsSpam:function(){var e=this;n(23).callEndpoint("commentSpam",{id:this.id}).then(function(){e.trigger("destroy",e,e.collection)})}},{EMPTY_TIMESTAMP:i})},119:function(e,t,n){"use strict";var i=e.exports=n(63).extend({url:null,lastFetchTime:1,initialize:function(e){e=e||{},this.id||(e.id=this.id=this.cid,i.instances.set(this.id,this)),this.fatal=!!e.fatal,n(63).prototype.initialize.apply(this,arguments)}},{fromSpamWarning:function(e){try{var t=function(){var t=JSON.parse(e.responseText).errors[0];if(!["reason_phrase","warning_level"].every(function(e){return t[e]}))return{v:null};var n=t.reason_phrase;return{v:new i({xhr:e,error:t,message:n})}}();if("object"==typeof t)return t.v}catch(n){return null}},raise:function(e,t){var r=new i(e);if(r.release(),t=t||{},t.hard)throw r;n(54).trigger("exception",r)},ajaxFatal:function(e){return function(t,r){"abort"!==r&&i.raise(n(3).assign(e,{xhr:t,fatal:!0}))}},ajaxNonFatal:function(e){return function(t,n){"abort"!==n&&i.raise({message:e,xhr:t,fatal:!1})}}})},123:function(e,t,n){"use strict";var i=n(22).Model;e.exports={activities:new i({channel:"/me/activities/all/own",itemName:"activity",itemNamePlural:"activities",minPollInterval:12e4,maxPollInterval:192e4,baseUrl:function(){return n(52).get("api_v2_host")+"activities"}}),unreadConversations:new(i.extend({defaults:{baseUrl:function(){return n(303).baseUrl("unread")+"?force=1"},itemName:"conversation",itemNamePlural:"conversations",minPollInterval:0,maxPollInterval:0},initialize:function(){this.setDefaultPolling()},enableRealTimePolling:function(){this.set("minPollInterval",4e4),this.set("maxPollInterval",18e4),this.trigger("pollIntervalChange")},setDefaultPolling:function(){this.set("minPollInterval",3e5),this.set("maxPollInterval",192e4),this.trigger("pollIntervalChange")}})),conversations:new i({baseUrl:n(303).baseUrl,itemName:"conversation",itemNamePlural:"conversations",minPollInterval:1e3,maxPollInterval:3e4})}},125:function(e,t,n){"use strict";var i="track",r="artist",o={ARTIST:r,TRACK:i},s=n(1297).withOptions({batchEndpoint:"stationBatch",paramName:"urns"});e.exports=n(63).extend(s,n(238).withOptions({read:"artwork_url"}),n(265).withOptions({attr:"title"}),{resource_type:"station",baseUrl:function(){return this.getEndpointUrl("station",{urn:this.id})},getUrn:function(){return this.id},getImageResourceInfo:function(){var e=n(88).getAsAttributes(this.id),t=e.id;switch(this.get("type")){case i:return{Model:n(64),args:{id:t}};case r:return{Model:n(61),args:{id:t}};default:return null}}},{types:o,resolve:function(e,t){var i=e+"/"+t;return n(63)._resolve(this,["stations",e,t],function(e){return e.get("permalink")===i})},getStationPageUrl:function(e){var t="user"===e.resource_type?"artist":"track",n=e.getPermalink();return n?"/stations/"+t+n:""}})},132:function(e,t,n){"use strict";var i={buttonText:n(48).t("I need help"),buttonLink:"http://help.soundcloud.com"},r={buttonText:n(48).t("Get latest status"),buttonLink:"http://status.soundcloud.com"};e.exports={UNKNOWN:n(3).assign({title:n(48).t("Something doesn’t sound right."),message:n(48).t("A report has been sent to our tech team,<br> and they’re looking into the problem.<br>Please check back in a bit.")},r),PAGE_NOT_FOUND:n(3).assign({title:n(48).t("We can’t find that page.")},i),SOUND_NOT_FOUND:n(3).assign({title:n(48).t("We can’t find that track."),message:n(48).t("Did you try to access a private track while not being signed in?<br>Maybe the track has been removed.")},i),PLAYLIST_NOT_FOUND:n(3).assign({title:n(48).t("We can’t find that playlist."),message:n(48).t("Did you try to access a private playlist while not being signed in?<br>Maybe the playlist has been removed.")},i),STATION_NOT_FOUND:n(3).assign({title:n(48).t("We can’t find that station.")},i),USER_NOT_FOUND:n(3).assign({title:n(48).t("We can’t find that user.")},i),USER_INFO_NOT_LOADED:n(3).assign({title:n(48).t("We’re unable to load your profile information at the moment.")},i)}},153:function(e,t,n){"use strict";e.exports=n(69).extend(n(126),{defaults:{type:null,userId:null},setup:function(e){e.resource_id&&!e.userId&&(e.userId=e.resource_id)},getSourceInfo:function(){return{type:"user-"+this.options.type,resourceId:this.options.userId,resourceType:"user"}}},{hashFn:function(e,t){return t&&(t.userId||t.resource_id)||null}})},155:function(e,t,n){"use strict";function i(e,t,i,r){return n(48).tp(t,i,e,r.hash,{comment:r.hash._comment,context:r.hash._context})}function r(e,t){return n(48).tp(n(556).cleanBlockText(t.fn()),n(556).cleanBlockText(t.inverse()),e,t.hash,{comment:t.hash._comment,context:t.hash._context})}e.exports=function(){var e=arguments.length;if(4===e)return i.apply(null,arguments);if(2===e)return r.apply(null,arguments);throw new Error("Invalid signature to tp helper, expected 4 or 2 arguments, got: "+e)}},156:function(e,t){"use strict";e.exports={defaultKind:"top",defaultGenre:"all-music",defaultCountry:"all-countries",kinds:[{id:"top",urlPart:"top"},{id:"trending",urlPart:"new"}],genres:[{id:"all-music",category:"all",content:"music"},{id:"all-audio",category:"all",content:"audio"},{id:"alternativerock",category:"music",content:"music"},{id:"ambient",category:"music",content:"music"},{id:"classical",category:"music",content:"music"},{id:"country",category:"music",content:"music"},{id:"danceedm",category:"music",content:"music"},{id:"dancehall",category:"music",content:"music"},{id:"deephouse",category:"music",content:"music"},{id:"disco",category:"music",content:"music"},{id:"drumbass",category:"music",content:"music"},{id:"dubstep",category:"music",content:"music"},{id:"electronic",category:"music",content:"music"},{id:"folksingersongwriter",category:"music",content:"music"},{id:"hiphoprap",category:"music",content:"music"},{id:"house",category:"music",content:"music"},{id:"indie",category:"music",content:"music"},{id:"jazzblues",category:"music",content:"music"},{id:"latin",category:"music",content:"music"},{id:"metal",category:"music",content:"music"},{id:"piano",category:"music",content:"music"},{id:"pop",category:"music",content:"music"},{id:"rbsoul",category:"music",content:"music"},{id:"reggae",category:"music",content:"music"},{id:"reggaeton",category:"music",content:"music"},{id:"rock",category:"music",content:"music"},{id:"soundtrack",category:"music",content:"music"},{id:"techno",category:"music",content:"music"},{id:"trance",category:"music",content:"music"},{id:"trap",category:"music",content:"music"},{id:"triphop",category:"music",content:"music"},{id:"world",category:"music",content:"music"},{id:"audiobooks",category:"audio",content:"audio"},{id:"business",category:"audio",content:"audio"},{id:"comedy",category:"audio",content:"audio"},{id:"entertainment",category:"audio",content:"audio"},{id:"learning",category:"audio",content:"audio"},{id:"newspolitics",category:"audio",content:"audio"},{id:"religionspirituality",category:"audio",content:"audio"},{id:"science",category:"audio",content:"audio"},{id:"sports",category:"audio",content:"audio"},{id:"storytelling",category:"audio",content:"audio"},{id:"technology",category:"audio",content:"audio"}],countries:[{id:"all-countries"},{id:"AU"},{id:"CA"},{id:"FR"},{id:"GB"},{id:"DE"},{id:"IE"},{id:"NZ"},{id:"NL"},{id:"US"}]}},158:function(e,t,n){(function(t){"use strict";function i(e,t){t&&t.sent_at&&(this._lastMessageSentAt=new Date(t.sent_at),this.set("has_attachment",r.call(this)))}function r(){var e=this.get("last_message");return e?!!e.content.match(n(174).scLinksRegexGlobal):!1}var o=n(52).get("systemUserId");e.exports=n(63).extend({resource_type:"conversation",saveWithWrapper:!1,_lastMessageSentAt:null,submodelMap:{users:n(61)},baseUrl:function(){return n(303).baseUrlWithId(this.id)},setup:function(){this.listenTo(this,"change:last_message",i)},parse:function(e){var t=n(3).find(e.users,function(e){return"system"===e.id});return t&&(t.id=o),n(63).prototype.parse.apply(this,arguments)},getRecipient:function(){var e,t=n(52).get("me").id;return e=n(3).find(this.get("users"),function(e){return t!==e.id}),e||this.get("users")[0]},fetch:function(){var e=this;return n(63).prototype.fetch.apply(this,arguments).fail(function(){e.trigger("error")})},isFromSoundCloud:function(){return this.getRecipient().id===o},isFromMissingUser:function(){return"missing_user"===this.getRecipient().kind},setRead:function(e){this.set("read",e)},markAsRead:function(){var e=this.toggleReadState(!0);return n(54).trigger("conversation:read",this.id),e},markAsUnread:function(){var e=this.toggleReadState(!1);return n(54).trigger("conversation:unread",this.id),e},toggleReadState:function(e){var t,i=this,r=null!=e?e:!this.get("read");return this.set("read",r),this._saveDeferred||(this._saveDeferred=t=n(53).defer().always(function(){i._saveDeferred=null}).done(function(){i.get("read")!==r&&i.toggleReadState(i.get("read"))}),this.save({read:r},{dataType:"text"}).done(function(){window.setTimeout(t.resolve,1e3)}).fail(function(){window.setTimeout(t.reject,1e3)})),this._saveDeferred},getUuid:function(){var e=this.get("last_message");return n(605).hashFn(e)},infoForBadge:function(){var e=this.get("last_message");return{from:this.getRecipient(),isFromSoundCloud:this.isFromSoundCloud(),content:e.content,sentAt:e.sent_at,id:this.id}},lastMessageSentAt:function(){return this._lastMessageSentAt||i.call(this,null,this.get("last_message")),this._lastMessageSentAt},destroyAndReport:function(e){var i=this;e?t.ajax({url:this.baseUrl()+"/spam",type:"PUT",success:function(){i.trigger("destroy",i)}}):n(71).destroy(this)}})}).call(t,n(1))},160:function(e,t){!function(){function t(){clearTimeout(L),E=T=C=A=P=D=M=I=F=L=B=void 0,N=[],q=!0,W=!0,O=function(){throw new Error("EventGateway must be initialized")}}function n(){return Math.floor(1e6*Math.random())}function i(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function r(e,t){var n,r=i(e);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function o(e){return e="object"==typeof e?e:{},e.context=e.context||{},e.context.scope=e.context.scope||[],e}function s(e){return e.replace(H,"v$&")}function a(e,t,n){var i=e[n];return"object"==typeof i?t[n]=Object.keys(w(i)).reduce(a.bind(null,i),{}):t[n]=""+i,t}function l(e,t){var n=w(t);return"0.0.0"===e?Object.keys(n).reduce(a.bind(null,n),{}):n}function u(e,t,n){B("post",c(e),e,n,function(n){n&&t&&setTimeout(function(){u(e,!1,!1)},j)})}function c(e){return M+(e instanceof Array?"/v1/events":"/v1/event")}function d(){function e(e){e.onload=e.onerror=null}function t(t,n){e(t),n()}function n(t,n){e(t),/^4/.test(t.status)||n(t.status)}var i=!!(window&&window.navigator&&window.navigator.sendBeacon);return function(e,r,o,s,a){var l=JSON.stringify(o);if(s&&i)window.navigator.sendBeacon(r,l);else{var u=new window.XMLHttpRequest;u.onload=t.bind(null,u,a),u.onerror=n.bind(null,u,a),u.open(e,r,!0),u.send(l)}}}function p(e){F||!W?(N=N.concat(e),!L&&W&&(L=setTimeout(h,F))):u(e,!0,!1)}function h(e){clearTimeout(L),L=null,N.length&&(u(N.slice(),!0,!!e),N.length=0)}function f(e,t,n){O();var i=Date.now();x(n).then(function(n){var r,o;n=n||{},n.anonymous_id=E,n.client_id=P,n.ts=i,n.url=n.url||window.location.href,D&&(n.app_version=D);var a=[];if(A)for(r in A)a.push(A[r]);a.length&&(n.part_of_variants=a.join(",")),C&&(n.origin=C),I&&!n.user&&(n.user=I),R&&(n.platform=R),(o=document.referrer).length>0&&(n.referrer=o),p({event:e,version:s(t),payload:l(t,n)})})}function g(e,t){for(var n=0,i=t.length;i>n;n++)if(void 0===e[t[n]])return!0;return!1}function m(e){return e?v("users",e):E}function v(e,t){return["soundcloud",e,t].join(":")}function _(e,t){t&&(e.query_urn=t.queryUrn,e.query_position=t.position)}function y(){}function b(e){var t,n,i={};if(e)for(t=1;t<arguments.length;++t)n=arguments[t],n in e&&(i[n]=e[n]);return i}function w(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function x(e){return e&&"function"==typeof e.then?e:{then:function(t){return x(t(e))}}}function k(e){return function(){if(q)return e.apply(null,arguments);throw new Error("EventGateway: access to read/write cookies is blocked.")}}var S,E,T,C,A,P,D,M,I,R,O,L,F,N,B,U,z="sc_anonymous_id",j=3e4,$="https://telemetry.soundcloud.com",H=/^[^v]/,q=!0,W=!0;t(),S={_anonymousId:null,initialize:function(e){if(!T){if(!e.id)throw new Error("EventGateway: You need to pass an id");C=e.origin,e.user&&(I=v("users",e.user)),void 0!==e.platform&&(R=e.platform),void 0!==e.useCookies&&(q=e.useCookies),void 0!==e.isEnabled&&(W=e.isEnabled),U=e.eventVersions||{},E=this._anonymousId=S.getAnonymousId(),F=e.batchTimeout||!1,B=e.requestTransport||d(),P=e.id,D=e.appVersion||null,M=e.trackingUrl||$,T=!0,O=y}},deinitialize:function(){t()},toggle:function(e){W=e,W&&h()},loadQueue:p,saveQueue:function(){return N},useCookies:function(e){q=e,q&&E&&S.anonymousIdStore.set(E)},setUser:function(e){I=null==e?e:v("users",e)},setExperiments:function(e){A=e},getAnonymousId:function(){return!E&&q&&(E=S.anonymousIdStore.get()),E&&"undefined"!==E||(E=[n(),n(),n(),n()].join("-"),q&&S.anonymousIdStore.set(E)),E},logEvent:f,pageview:function(e,t,n,i){f("pageview",U.pageview||"0.0.0",x(i).then(function(i){i=o(i);var s=m(e),a={user:s,level:t,chapter:n.join("::"),page_name:i.page_name,page_urn:i.page_urn,query_urn:i.query_urn,locale:i.locale};return r(a,i.params)}))},impression:function(e,t){f("impression",U.impression||"1.16.0",x(t).then(function(e){e=o(e);var t=b(e,"impression_name","impression_category","impression_object","page_name","page_urn","ad_urn","monetized_object","monetization_type","promoted_by","external_media");return t.page_context=e.context.scope.join(":"),t}))},click:function(e,t,n,i){f("click",U.click||"0.0.0",x(i).then(function(i){i=o(i);var s={ad_urn:i.ad_urn,campaign:i.context.campaign,chapter:n.join("::"),context:i.context.scope.join(":"),external_media:i.external_media,level:t,monetization_type:i.monetization_type,monetized_object:i.monetized_object,promoted_by:i.promoted_by,urn:i.urn,user:m(e),click_name:i.click_name,click_object:i.click_object,click_target:i.click_target,click_attributes:i.click_attributes,page_name:i.page_name,page_urn:i.page_urn};return _(s,i.context.attribution),r(s,i.params)}))},audio:function(e){f("audio",U.audio||"1.16.0",x(e).then(function(e){var t=e.id,n=v("tracks",t),i=b(e,"user","page_name","page_urn","source","in_playlist","playlist_position","reposted_by","track_length","protocol","player_type","action","trigger","pause_reason","ad_urn","monetization_type","promoted_by","policy","monetization_model");return _(i,e.attribution),i.track=n,i.track_owner=v("users",e.trackOwnerId),i.playhead_position=e.playheadPosition,i.monetized_object=e.monetized_urn,i}.bind(this)))},audioPerformance:function(e){f("audio_performance",U.audioPerformance||"0.0.0",x(e).then(function(e){if(g(e,["type","latency","protocol","host"])||void 0===e.playertype&&void 0===e.player_type)throw new Error("EventGateway — AudioPerformance : One or multiple mandatory arguments are missing");return{type:e.type,latency:e.latency,protocol:e.protocol,player_type:e.player_type||e.playertype,host:e.host,connection_type:e.connection_type,bitrate:e.bitrate,format:e.format,player_version:e.player_version,player_build_number:e.player_build_number}}))},audioError:function(e){f("audio_error",U.audioError||"0.0.0",x(e).then(function(e){if(g(e,["error_code","protocol","player_type","host","url"]))throw new Error("EventGateway — AudioError : One or multiple mandatory arguments are missing");return{error_code:e.error_code,protocol:e.protocol,player_type:e.player_type,host:e.host,url:e.url,player_version:e.player_version,player_build_number:e.player_build_number,log_id:e.log_id}}))},appLoad:function(e,t){f("appload",U.appLoad||"0.0.0",x(t).then(function(t){return{latency:t.latency,user:m(e),level:t.level}}))},statsView:function(e,t){f("stats_view",U.statsView||"0.0.0",x(t).then(function(t){var n=m(e);return r({user:n},t)}))},anonymousIdStore:{get:k(function(){var e=document.cookie.split(z+"=");return e.length>1&&e[1].split(";")[0]}),set:k(function(e){var t,n="."+window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),i=new Date;i.setTime(i.getTime()+31536e7),t="; expires="+i.toGMTString(),document.cookie=z+"="+e+t+"; path=/; domain="+n})},flush:h},"undefined"!=typeof e&&e.exports?e.exports=S:(window.SC=window.SC||{},window.SC.EventGateway=S)}()},161:function(e,t,n){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=38)}([function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t;
}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"PLAYER_FATAL_ERROR"},t}(r.PlayerError);t.PlayerFatalError=o},function(e,t,n){"use strict";function i(){var e,t,n=!1,i=new r.Promise(function(n,i){e=n,t=i});return{promise:i,resolve:function(t){n||(n=!0,e(t))},reject:function(e){n||(n=!0,t(e))},isSettled:function(){return n}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.buildDeferred=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=function(){function e(){this._listeners=[],this.dispatch=this.dispatch.bind(this)}return e.prototype.subscribe=function(e){var t=this,n={fn:e,payloads:[]};return this._listeners.push(n),{remove:function(){var e=t._listeners.indexOf(n);return e>=0?(t._listeners.splice(e,1),!0):!1},retrieve:function(){return t._dispatchListenerPayloads(n)}}},e.prototype.dispatch=function(e,t){var n=this,r="number"==typeof t?{time:t}:t||{},o=void 0!==r.time?r.time:i.now(),s=this._listeners;s.forEach(function(t){return t.payloads.push({time:o,payload:e})});var a=!1;do a=!s.some(function(e){var t=e.fn,i=e.payloads,r=i.shift();return r?(n._callHandler(t,r),!0):!1});while(!a)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype._dispatchListenerPayloads=function(e){for(var t=e.fn,n=e.payloads;;){var i=n.shift();if(!i)break;this._callHandler(t,i)}},e.prototype._callHandler=function(e,t){try{e(t.payload,t.time)}catch(n){window.setTimeout(function(){throw n},0)}},e}();t.EventDispatcher=r},function(e,t,n){"use strict";function i(e,t){return{debug:function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return e.debug.apply(e,["["+t+"] "+n].concat(i))},error:function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return e.error.apply(e,["["+t+"] "+n].concat(i))},info:function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return e.info.apply(e,["["+t+"] "+n].concat(i))},warn:function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return e.warn.apply(e,["["+t+"] "+n].concat(i))}}}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{debug:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.forEach(function(e){return e.debug.apply(e,[t].concat(n))})},error:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.forEach(function(e){return e.error.apply(e,[t].concat(n))})},info:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.forEach(function(e){return e.info.apply(e,[t].concat(n))})},warn:function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.forEach(function(e){return e.warn.apply(e,[t].concat(n))})}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),s=o.isIE();t.noOpLogger={debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},error:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},warn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},t.consoleLogger={debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s?console.log(e,t):(i=console.debug||console.log).call.apply(i,[console,e].concat(t));var i},error:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s?console.log(e,t):(i=console.error||console.log).call.apply(i,[console,e].concat(t));var i},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s?console.log(e,t):(i=console.info||console.log).call.apply(i,[console,e].concat(t));var i},warn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s?console.log(e,t):(i=console.warn||console.log).call.apply(i,[console,e].concat(t));var i}},t.prefixLogger=i,t.cloneLogger=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._msg=e,this._cause=t}return e.prototype.getCode=function(){return"PLAYER_ERROR"},e.prototype.getMsg=function(){return this._msg},e.prototype.getCause=function(){return this._cause},e}();t.PlayerError=i},function(e,t,n){"use strict";function i(e){try{e()}catch(t){window.setTimeout(function(){throw t},0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.deferException=i},function(e,t,n){"use strict";function i(e,t){var n=void 0;return e.some(function(e){return t(e)?(n=e,!0):!1}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.find=i},function(e,t,n){"use strict";function i(){return"performance"in window&&window.performance.now?window.performance.now():Date.now()-r}Object.defineProperty(t,"__esModule",{value:!0});var r=Date.now();t.now=i},function(e,t,n){"use strict";function i(){return{actuallyPlaying:!1,ended:!1,loading:!1,playing:!1,playDeferred:null,pauseDeferred:null,ready:!1,seeking:!1,seek:null,positionJumped:null,stalled:!0,duration:null,dead:!1,state:c.State.PAUSED,fatalError:null,errorOccurred:null,position:0}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(14),s=n(2),a=n(1),l=n(6),u=n(7),c=n(10),d=n(3),p=n(34),h=n(12),f=n(13),g="undefined"!=typeof navigator&&"mediaSession"in navigator,m=5e3,v=g?navigator.mediaSession:null,_=function(){function e(e){var t=this;this._stateManager=new p.StateManager(i(),{afterUpdate:function(e,n){return t._afterUpdate(e,n)},afterDispatches:function(){return t._afterDispatches()},beforeUpdate:function(e){if(!e.dead){var n=t._getPosition(),i=e.duration;if(0>n)throw t._logger.error("Player provided invalid position.",n,i),t._triggerError(new f.ImplementationError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");if(null!==i&&n>i)throw t._logger.error("Player provided invalid position.",n,i),t._triggerError(new f.ImplementationError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");e.position=n,t._updateEndedInState(e)}}}),this._onError=new s.EventDispatcher,this._errors=[],this._loadingDelayTimer=null,this._stalled=!1,this._queuedDuration=null,this._readyDeferred=a.buildDeferred(),this._queuedSeekDeferreds=[],this._lastPlayError=null,this._lastPauseError=null,this._lastPlayedPosition=null,this._listenTimeBase=0,this._timePlaybackStarted=null,this._positionAfterLastUpdate=0;var n=e.name;return this._logger=d.prefixLogger(e.logger,"BasePlayer"+(n?"-"+n:"")),this._mediaSessionEnabled=!!e.mediaSessionEnabled,e.loadingDelay&&e.loadingDelay<0?void this._triggerError(new h.DependencyError("loadingDelay must be >= 0.")):(this._loadingDelay=void 0!==e.loadingDelay?e.loadingDelay:400,this.onError=this._onError.getHandle(),this.whenReady=this._readyDeferred.promise,this._stateManager.subscribe(function(e,n){return t._onChange(e,n)}),this._stateManager.subscribe(function(e,n){var i=e.playing,r=e.actuallyPlaying,o=n.dead;if(!o&&void 0!==i&&r!==i)try{t._handlePlayPauseChange(i)}catch(s){t._triggerError(new f.ImplementationError("Exception occurred whilst handling play/pause change.",s))}}),this._stateManager.subscribe(function(e,n){var i=e.seek,r=n.dead;if(!r&&i&&"IN_PROGRESS"===i.state)try{t._handleSeekChange(i.position)}catch(o){t._triggerError(new f.ImplementationError("Exception occurred whilst handling seek change.",o))}}),this._registerMediaSessionActionHandlers(),this._notifyMediaSessionPaused(),this.onChange=this._buildEventHandle(function(e,n){var i=n.ready;if(void 0!==i&&i!==!0)throw new Error("Ready state is invalid.");var r=n.duration;if(void 0!==r&&null===r)throw new Error("Duration state is invalid.");var o=n.dead;if(void 0!==o&&o!==!0)throw new Error("Dead state is invalid.");var s={ready:i,ended:n.ended,duration:r,playing:n.playing,actuallyPlaying:n.actuallyPlaying,stalled:n.stalled,loading:n.loading,playRejection:n.playing===!1?t._lastPlayError||void 0:void 0,pauseRejection:n.playing===!0?t._lastPauseError||void 0:void 0,seeking:n.seeking,seek:n.seek||void 0,positionJumped:void 0!==n.positionJumped?!0:void 0,state:n.state,fatalError:n.fatalError||void 0,dead:o};Object.keys(s).some(function(e){return void 0!==s[e]})&&e(s)}),this.onDurationChange=this._buildEventHandle(function(e,t){var n=t.duration;void 0!==n&&null!==n&&e(n)}),this.onReady=this._buildEventHandle(function(e,t){var n=t.ready;n===!0&&e(void 0)}),this.onStateChange=this._buildEventHandle(function(e,t){var n=t.state;void 0!==n&&e(n)}),this.onPlay=this._buildEventHandle(function(e,t){var n=t.actuallyPlaying;n===!0&&e(void 0)}),this.onPlayIntent=this._buildEventHandle(function(e,t){var n=t.playing;n===!0&&e(void 0)}),this.onPlayRejection=this._buildEventHandle(function(e,n){var i=n.playing;i===!1&&t._lastPlayError&&e(t._lastPlayError)}),this.onPause=this._buildEventHandle(function(e,t){var n=t.actuallyPlaying;n===!1&&e(void 0)}),this.onPauseIntent=this._buildEventHandle(function(e,t){var n=t.playing;n===!1&&e(void 0)}),this.onPauseRejection=this._buildEventHandle(function(e,n){var i=n.playing;i===!0&&t._lastPauseError&&e(t._lastPauseError)}),this.onSeek=this._buildEventHandle(function(e,t){var n=t.seek;n&&"COMPLETED"===n.state&&e(void 0)}),this.onSeekIntent=this._buildEventHandle(function(e,t){var n=t.seeking;n===!0&&e(void 0)}),this.onSeekRejection=this._buildEventHandle(function(e,t){var n=t.seek;n&&"ERROR"===n.state&&e(n.error)}),this.onPositionJumped=this._buildEventHandle(function(e,t){var n=t.positionJumped;void 0!==n&&e(void 0)}),this.onEnded=this._buildEventHandle(function(e,t){var n=t.ended;n===!0&&e(void 0)}),this.onLeftEnded=this._buildEventHandle(function(e,t){var n=t.ended;n===!1&&e(void 0)}),this.onStallStart=this._buildEventHandle(function(e,t){var n=t.stalled;n===!0&&e(void 0)}),this.onStallEnd=this._buildEventHandle(function(e,t){var n=t.stalled;n===!1&&e(void 0)}),this.onLoadStart=this._buildEventHandle(function(e,t){var n=t.loading;n===!0&&e(void 0)}),void(this.onLoadEnd=this._buildEventHandle(function(e,t){var n=t.loading;n===!1&&e(void 0)})))}return e.prototype.isReady=function(){return this._stateManager.getState().ready},e.prototype.getPosition=function(){return this._getPositionOrPositionSeekingTo()},e.prototype.getLastPlayedPosition=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,n=e.stalled;return t&&!n?this.getPosition():this._lastPlayedPosition},e.prototype.getListenTime=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,n=e.ended,i=this._listenTimeBase;return t&&!n&&(i+=u.now()-this._timePlaybackStarted),i},e.prototype.isStalled=function(){return this._stateManager.getState().stalled},e.prototype.isLoading=function(){return this._stateManager.getState().loading},e.prototype.isPlaying=function(){return this._stateManager.getState().playing},e.prototype.isActuallyPlaying=function(){return this._stateManager.getState().actuallyPlaying},e.prototype.isEnded=function(){return this._stateManager.getState().ended},e.prototype.getState=function(){return this._stateManager.getState().state},e.prototype.getUrlController=function(){return null},e.prototype.getBufferController=function(){return null},e.prototype.getMemoryCacheMaxSize=function(){return null},e.prototype.getMemoryCacheUsage=function(){return null},e.prototype.getMemoryCacheController=function(){return null},e.prototype.getFatalError=function(){return this._stateManager.getState().fatalError},e.prototype.isDead=function(){return this._stateManager.getState().dead},e.prototype.getDuration=function(){var e=this._stateManager.getState(),t=e.ready,n=e.duration;return t?n:null},e.prototype.setVolume=function(e){if(0>e||e>1)throw new Error("Volume must be >= 0 and <= 1.");this._setVolume(e)},e.prototype.getCurrentBufferedTimeRange=function(){var e=this.getBufferedTimeRanges(),t=this.getPosition();return l.find(e,function(e){return e.containsTime(t)})||null},e.prototype.play=function(){var e=this;this._ensureNotDead(),this._logger.debug("play() called.");var t=a.buildDeferred();return this._stateManager.update(function(n){n.playing?e._logger.debug("Intent is already to be playing."):(e._logger.debug("Requesting play."),n.playing=!0,e._lastPlayError=null),(!n.playDeferred||n.playDeferred.isSettled())&&(n.playDeferred=a.buildDeferred()),t.resolve(n.playDeferred.promise)}),t.promise},e.prototype.pause=function(){var e=this;this._ensureNotDead(),this._logger.debug("pause() called.");var t=a.buildDeferred();return this._stateManager.update(function(n){n.playing?(e._logger.debug("Requesting pause."),n.playing=!1,e._lastPauseError=null):e._logger.debug("Intent is already to be paused."),(!n.pauseDeferred||n.pauseDeferred.isSettled())&&(n.pauseDeferred=a.buildDeferred()),t.resolve(n.pauseDeferred.promise)}),t.promise},e.prototype.seek=function(e){var t=this;this._ensureNotDead(),this._logger.debug("seek() called.",e);var n=a.buildDeferred();return this._stateManager.update(function(i){if(0>e)t._logger.warn("Rejecting seek immediately as the position was negative."),n.reject(new Error("You were attempting to seek to a negative time."));else if(null!==i.duration&&e>i.duration)t._logger.warn("Rejecting seek immediately as the duration is now known, and the requested positon was past it."),n.reject(new Error("You were attempting to seek past the end of the media."));else{i.stalled||!i.actuallyPlaying||i.seek&&"IN_PROGRESS"===i.seek.state||(t._lastPlayedPosition=t._getPositionOrPositionSeekingTo());var r=a.buildDeferred();i.seek&&"IN_PROGRESS"===i.seek.state&&i.seek.position===e?t._logger.debug("Seek already requested to the same position.",e):(t._logger.debug("Requesting seek.",e),i.seeking=!0,i.seek={state:"IN_PROGRESS",position:e}),t._queuedSeekDeferreds.push({position:e,deferred:r}),n.resolve(r.promise)}}),n.promise},e.prototype.getSeekState=function(){return this._stateManager.getState().seek},e.prototype.kill=function(){var e=this;this._stateManager.update(function(t){t.dead||(e._logger.debug("kill() called."),t.dead=!0)})},e.prototype._update=function(e){this._stateManager.update(function(){return e&&e()})},e.prototype._ensureNotDead=function(){if(this._stateManager.getState().dead)throw new Error("Player is dead.")},e.prototype._notifyStalled=function(e){this._ensureNotDead(),this._stalled!==e&&(this._logger.debug("notifyStalled() called.",e),this._stalled=e,this._stateManager.update())},e.prototype._getQueuedSeekPosition=function(){var e=this.getSeekState();return e&&"IN_PROGRESS"===e.state?e.position:null},e.prototype._provideDuration=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(n.duration!==e){var i=t._getPositionOrPositionSeekingTo();if(0>e||n.ready&&i>e)throw t._triggerError(new f.ImplementationError("Attempt to update duration to an invalid value.")),new Error("Duration cannot be less than the current position.");t._logger.debug("provideDuration() called.",e),n.ready?n.duration=e:t._queuedDuration=e}})},e.prototype._notifyPlaying=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new f.ImplementationError("Attempt to register playback as started before ready.")),new Error("Player must be ready first.");e!==n.actuallyPlaying&&(t._logger.debug("notifyPlaying() called.",e),e||n.seeking||n.stalled||(t._lastPlayedPosition=t._getPositionOrPositionSeekingTo()),n.actuallyPlaying=n.playing=e,e?t._lastPlayError=null:t._lastPauseError=null)})},e.prototype._notifyPlayRejection=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new f.ImplementationError("Attempt to reject a play request before player ready.")),new Error("Player must be ready first.");if(n.actuallyPlaying||!n.playing)throw t._triggerError(new f.ImplementationError("Attempt to reject a play request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPlayRejection() called.",e),n.playing=!1,t._lastPlayError=e})},e.prototype._notifyPauseRejection=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new f.ImplementationError("Attempt to reject pause request before player ready.")),new Error("Player must be ready first.");if(!n.actuallyPlaying||n.playing)throw t._triggerError(new f.ImplementationError("Attempt to reject pause request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPauseRejection() called.",e),n.playing=!0,t._lastPauseError=e})},e.prototype._notifySeekRejection=function(e){var t=this;this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new f.ImplementationError("Attempt to reject seek request before player ready.")),new Error("Player must be ready first.");if(!n.seek||"IN_PROGRESS"!==n.seek.state)throw t._triggerError(new f.ImplementationError("Attempt to reject seek request when none requested.")),new Error("A seek hasn't been requested.");t._logger.debug("notifySeekRejection() called.",e),n.seeking=!1,n.seek={state:"ERROR",error:e}})},e.prototype._signalReady=function(){var e=this;this._ensureNotDead(),this._stateManager.update(function(t){if(t.ready)throw e._triggerError(new f.ImplementationError("Attempt to signal ready twice.")),new Error("Ready already signalled.");if(null===e._queuedDuration)throw e._triggerError(new f.ImplementationError("Attempt to signal ready when duration unknown.")),new Error("Duration is still unknown.");e._logger.debug("signalReady() called."),t.ready=!0,t.duration=e._queuedDuration,t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>t.duration&&(t.seeking=!1,t.seek={state:"ERROR",error:new Error("You were attempting to seek past the end of the media.")})})},e.prototype._signalSeekComplete=function(){var e=this;this._ensureNotDead(),this._stateManager.update(function(t){if(!t.ready)throw e._triggerError(new f.ImplementationError("Attempt to signal seek as complete before player ready.")),new Error("Player must be ready first.");if(!t.seek||"IN_PROGRESS"!==t.seek.state)throw e._triggerError(new f.ImplementationError("Attempt to signal seek as complete when none requested.")),new Error("There shouldn't be a seek in progress.");var n=t.duration;if(t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>n)throw new Error("Seek cannot have completed given it was to a time greater than the duration.");e._logger.debug("signalSeekComplete() called."),t.seek={state:"COMPLETED",position:t.seek.position},t.seeking=!1,t.position=t.seek.position})},e.prototype._triggerError=function(e){var t=this;this._stateManager.update(function(n){var i=!1;if(n.ready&&e instanceof o.NotSupportedError&&(e=new f.ImplementationError("Invalid NotSupportedError."),i=!0),e instanceof r.PlayerFatalError?(e instanceof o.NotSupportedError?t._logger.info("NotSupportedError occurred.",e):t._logger.error("Fatal error occurred.",e),n.fatalError?t._logger.warn("A fatal error already occurred.",n.fatalError):n.fatalError=e,t._errors.push(e),n.errorOccurred=Object.create(null),n.dead=!0):(t._logger.warn("Non-fatal error occurred.",e),t._errors.push(e),n.errorOccurred=Object.create(null)),i)throw new Error("Not supported errors are only valid before the player is ready.")})},e.prototype._buildEventHandle=function(e){var t=this;return{subscribe:function(n){var i=function(e){return n(e,u.now())};return t._stateManager.subscribe(function(t){e(i,t)})}}},e.prototype._finalizeState=function(e){this._updateEndedInState(e);var t=this._getPositionOrPositionSeekingTo();if(e.dead)this._lastPlayError=new Error("Player was killed."),e.loading=!1,this._clearLoadingDelay(),e.stalled=!0,e.actuallyPlaying=!1,e.playing=!1,e.state=c.State.DEAD;else{var n=!e.ended&&(!e.ready||this._stalled||!(!e.seek||"IN_PROGRESS"!==e.seek.state));n&&!e.stalled&&!e.seeking&&e.actuallyPlaying&&(this._lastPlayedPosition=t),e.stalled=n;var i=!e.ended&&(e.playing||e.actuallyPlaying)&&(e.stalled||e.playing!==e.actuallyPlaying);i?this._loadingDelay?this._scheduleLoadingDelay():e.loading=!0:(e.loading=!1,this._clearLoadingDelay()),this._positionAfterLastUpdate!==t&&(this._positionAfterLastUpdate=t,e.playing||e.actuallyPlaying||(e.positionJumped=Object.create(null))),e.state=this._calculateState(e)}},e.prototype._updateEndedInState=function(e){e.ended=e.ready&&this._getPositionOrPositionSeekingTo()===e.duration},e.prototype._scheduleLoadingDelay=function(){var e=this;this._loadingDelayTimer||(this._loadingDelayTimer=window.setTimeout(function(){e._stateManager.update(function(e){return e.loading=!0})},this._loadingDelay))},e.prototype._clearLoadingDelay=function(){this._loadingDelayTimer&&(window.clearTimeout(this._loadingDelayTimer),this._loadingDelayTimer=null)},e.prototype._getPositionOrPositionSeekingTo=function(){this._stateManager.update();var e=this._stateManager.getState();return e.seek&&"IN_PROGRESS"===e.seek.state?e.seek.position:e.ready&&null!==e.duration?e.position:0},e.prototype._calculateState=function(e){var t=e.dead,n=e.loading,i=e.playing,r=e.ended;return t?c.State.DEAD:n?c.State.LOADING:i&&!r?c.State.PLAYING:c.State.PAUSED},e.prototype._registerMediaSessionActionHandlers=function(){var e=this;this._mediaSessionEnabled&&v&&(v.setActionHandler("play",function(){e.isDead()||e.play()}),v.setActionHandler("pause",function(){e.isDead()||e.pause()}),v.setActionHandler("seekbackward",function(){e.isDead()||e.seek(Math.max(0,e.getPosition()-m))}),v.setActionHandler("seekforward",function(){e.isDead()||e.seek(Math.min(e.getDuration()||0,e.getPosition()+m))}))},e.prototype._notifyMediaSessionPlaying=function(){this._mediaSessionEnabled&&v&&(v.playbackState="playing")},e.prototype._notifyMediaSessionPaused=function(){this._mediaSessionEnabled&&v&&(v.playbackState="paused")},e.prototype._afterUpdate=function(e,t){(t.beforeUpdate||t.update.length>0)&&(this._logger.error("Errors occurred during state update. Killing player.",t),this._triggerError(new r.PlayerFatalError("Errors occurred during state update.",t))),this._finalizeState(e)},e.prototype._afterDispatches=function(){var e=this,t=this._errors;this._errors=[],t.forEach(function(t){return e._onError.dispatch(t)})},e.prototype._onChange=function(e,t){var n=this,i=e.ready,r=e.dead,o=e.fatalError,s=e.playing,a=e.actuallyPlaying,l=e.ended;if(i===!0&&(this._logger.debug("Resolving ready deferred."),this._readyDeferred.resolve(void 0)),a===!0&&this._registerMediaSessionActionHandlers(),s===!0?this._notifyMediaSessionPlaying():s===!1&&this._notifyMediaSessionPaused(),t.pauseDeferred&&!t.pauseDeferred.isSettled()&&t.playing){var c=this._lastPauseError||new Error("Pause request aborted.");this._logger.debug("Rejecting pause deferred.",c),t.pauseDeferred.reject(c)}if(t.playDeferred&&!t.playDeferred.isSettled()&&!t.playing){var c=this._lastPlayError||new Error("Play request aborted.");this._logger.debug("Rejecting play deferred.",c),t.playDeferred.reject(c)}if(t.playDeferred&&!t.playDeferred.isSettled()&&t.actuallyPlaying&&(this._logger.debug("Resolving play deferred."),t.playDeferred.resolve(void 0)),!t.pauseDeferred||t.pauseDeferred.isSettled()||t.actuallyPlaying||(this._logger.debug("Resolving pause deferred."),t.pauseDeferred.resolve(void 0)),a===!0&&!t.ended||l===!1&&t.actuallyPlaying?this._timePlaybackStarted=u.now():(a===!1&&!t.ended||l===!0&&t.actuallyPlaying)&&(this._listenTimeBase+=u.now()-this._timePlaybackStarted,this._timePlaybackStarted=null),this._queuedSeekDeferreds=this._queuedSeekDeferreds.filter(function(e){var i=e.position,r=e.deferred;if(t.seek)if("IN_PROGRESS"!==t.seek.state){if(!t.stalled||"ERROR"===t.seek.state)return"ERROR"!==t.seek.state?(n._logger.debug("Resolving seek()."),r.resolve(void 0)):(n._logger.debug("Rejecting seek().",t.seek.error),r.reject(t.seek.error)),!1}else if("IN_PROGRESS"!==t.seek.state||t.seek.position!==i)return n._logger.debug("Rejecting seek() because another seek was requested.",i),r.reject(new Error("Seek request aborted because another seek was requested to a different position.")),!1;return!0}),r===!0){this._logger.debug("Calling _kill() on player.");try{this._kill(),this._logger.info("Player killed.")}catch(d){this._triggerError(new f.ImplementationError("Exception occurred in _kill().",d)),this._logger.error("Exception when implementation was being killed.",d)}if(!t.ready){var c=o||new Error("Player was killed.");this._logger.debug("Rejecting whenReady."),this._readyDeferred.reject(c)}this._queuedSeekDeferreds.forEach(function(e){var t=e.position,i=e.deferred,r=o||new Error("Seek aborted as player killed.");n._logger.debug("Rejecting seek().",t),i.reject(r)}),this._stateManager.kill(),this._logger.debug("Player dead.")}},e}();t.BasePlayer=_},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=n(4),s=n(0),a=n(3),l=function(e){function t(t){var n=e.call(this,t)||this;return n._errorHandler=null,n._changeHandler=null,n._player=null,n._instanceLock=null,n._lastPlayerPosition=0,n._volume=1,n._muted=!1,n._synced=!1,n._unsyncInProgress=!1,n._logger=a.prefixLogger(n._logger,"ProxyPlayerBase"),n}return i(t,e),t.prototype.getVolume=function(){return this._player&&this._synced?this._player.getVolume():this._volume},t.prototype.getMuted=function(){return this._player&&this._synced?this._player.getMuted():this._muted},t.prototype.setMuted=function(e){return this._player&&this._synced?this._player.setMuted(e):void(this._muted=e)},t.prototype.getBufferedTimeRanges=function(){return this._player&&this._synced?this._player.getBufferedTimeRanges():[]},t.prototype.getCurrentBufferedTimeRange=function(){return this._player&&this._synced?this._player.getCurrentBufferedTimeRange():null},t.prototype.getMaxBufferLength=function(){return this._player&&this._synced?this._player.getMaxBufferLength():null},t.prototype._providePlayer=function(e,t){if(void 0===t&&(t={syncPosition:!0,syncVolume:!0}),this._ensureNotDead(),this._player)throw new Error("A player has already been provided.");this._logger.debug("providePlayer() called."),this._instanceLock=Object.create(null),this._player=e,this._sync(t)},t.prototype._removePlayer=function(){if(this._ensureNotDead(),!this._player)throw new Error("There is no player to remove.");if(this._unsyncInProgress)throw new Error("Player is currently unsyncing.");this._logger.debug("removePlayer() called."),this._instanceLock=null,this._unsync(),this._player=null,this.isReady()&&!this.isDead()&&this._notifyStalled(!0)},t.prototype._setInitialDuration=function(e){var t=this;if(this._ensureNotDead(),0>e)throw new Error("Cannot set duration to a value < 0.");null===this.getDuration()&&this._update(function(){t._ensureBelowPosition(e),t._provideDuration(e),t.isReady()||(t._signalReady(),t._handleSkippedSeek())})},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype._getPlayer=function(){return this.isDead()?null:this._player},t.prototype._setVolume=function(e){return this._player&&this._synced?this._player.setVolume(e):void(this._volume=e)},t.prototype._handlePlayPauseChange=function(e){var t=this._player;t&&(e?this._playAndHandleAbort(t):this._pauseAndHandleAbort(t))},t.prototype._handleSeekChange=function(e){var t=this._player;t&&this._synced&&t.seek(e)},t.prototype._getPosition=function(){if(this._player&&this._synced){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._synced)return this._player.getPosition()}return this._lastPlayerPosition},t.prototype._kill=function(){if(this._player&&!this._player.isDead()){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._synced&&(this._player.kill(),this._synced))throw new Error("Unsync should have happened.")}this._player=null},t.prototype._handleSkippedSeek=function(){if(this._player&&this._synced){var e=this.getSeekState(),t=this._player.getSeekState();!e||"IN_PROGRESS"!==e.state||t&&"IN_PROGRESS"===t.state||(this._logger.debug("Signalling seek as complete on proxy because provided player isn't seeking"),this._signalSeekComplete())}},t.prototype._ensureBelowPosition=function(e){this.getPosition()>e&&(this._logger.debug("Capping position.",e),this.seek(e),this._lastPlayerPosition=e,this._signalSeekComplete())},t.prototype._sync=function(e){var t=this,n=this._player;if(!n)throw new Error("Player should have become available by now.");return this._logger.debug("Syncing...",this.isPlaying(),this.isActuallyPlaying()),n.isDead()?void this._logger.debug("Provided player is dead."):(this._errorHandler=n.onError.subscribe(function(e){e instanceof s.PlayerFatalError||t._triggerError(e)}),this._changeHandler=n.onChange.subscribe(function(e){t._update(function(){if(t._logger.debug("Handling changes.",e),e.dead)return t._logger.debug("Player has gone to DEAD state."),t._unsync(),void(t.isDead()||e.fatalError&&t._handleFatalError(e.fatalError));if(void 0!==e.duration&&(t._ensureBelowPosition(e.duration),t._provideDuration(e.duration),t.isReady()||(t._signalReady(),t._handleSkippedSeek(),t._notifyStalled(n.isStalled()))),e.seek){var i=t.getSeekState();i&&"IN_PROGRESS"===i.state&&("COMPLETED"===e.seek.state&&i.position===e.seek.position?t._signalSeekComplete():"COMPLETED"===e.seek.state&&i.position!==e.seek.position?t._notifySeekRejection(new Error("Another seek occurred to a different position.")):"IN_PROGRESS"===e.seek.state&&i.position!==e.seek.position?t.seek(e.seek.position):"ERROR"===e.seek.state&&t._notifySeekRejection(e.seek.error))}void 0!==e.stalled&&t._notifyStalled(e.stalled),e.playing===!1&&e.playRejection?t.isActuallyPlaying()?(t._triggerError(new o.PlayerError("Paused because a player was provided that refused to play.")),t._notifyPlaying(!1)):t._notifyPlayRejection(e.playRejection):e.playing===!1&&(n.isActuallyPlaying()?t.pause():void 0===e.actuallyPlaying&&t.isReady()&&t._notifyPlaying(!1)),e.playing===!0&&e.pauseRejection?t._notifyPauseRejection(e.pauseRejection):e.playing===!0&&t.play(),void 0!==e.actuallyPlaying&&t._notifyPlaying(e.actuallyPlaying)})}),void this._update(function(){var i=t._instanceLock;try{if(t._notifyStalled(n.isStalled()),!t.isReady()&&n.isReady()){t._logger.debug("Provided player is already ready. Making proxy player ready.");var r=n.getDuration();t._ensureBelowPosition(r),t._provideDuration(r),t._signalReady()}if(e.syncVolume&&(n.setVolume(t._volume),n.setMuted(t._muted),t._instanceLock!==i))return;var o=t.getSeekState();if(e.syncPosition){t._logger.debug("Seeking to match position.");var a=t.getPosition();n.getPosition()!==a?n.seek(a):(t._logger.debug("Skipping seek because already at same position."),t.isReady()&&o&&"IN_PROGRESS"===o.state&&t._signalSeekComplete())}else if(o&&"IN_PROGRESS"===o.state)t._logger.debug("Seeking to match position because a seek has been queued."),n.seek(t.getPosition());else{var l=n.getSeekState();l&&"IN_PROGRESS"===l.state&&(t._logger.debug("Seeking on proxy to match seek that is in progress on provided player."),t.seek(l.position))}if(t._instanceLock!==i)return;if(n.isActuallyPlaying()?(t._logger.debug("Provided player is already playing."),t._notifyPlaying(!0)):n.isPlaying()?(t._logger.debug("Provided player is preparing to play."),t.play()):t.isPlaying()?(t._logger.debug("Calling play() on provided player to match proxy."),t._playAndHandleAbort(n)):t.isReady()&&t.isActuallyPlaying()&&(t._logger.debug("Switching to paused state, as provided player and proxy intended state is paused."),t._notifyPlaying(!1)),t._instanceLock!==i)return;t._synced=!0}catch(u){t._triggerError(new s.PlayerFatalError("Unexpected error occurred whilst syncing.",u));
}}))},t.prototype._playAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling play() on provided player."),e.play(),this._instanceLock===t&&!e.isPlaying()&&this.isPlaying()&&(this._logger.debug("Provided player was not playing after play() call completed."),this.isActuallyPlaying()?(this._triggerError(new o.PlayerError("Paused because a player was provided that refused to play.")),this._notifyPlaying(!1)):this.pause())},t.prototype._pauseAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling pause() on provided player."),e.pause(),this._instanceLock===t&&e.isPlaying()&&!this.isPlaying()&&(this._logger.debug("Provided player was not paused after pause() call completed."),this.play())},t.prototype._unsync=function(){if(this._logger.debug("Unsyncing..."),this._changeHandler&&(this._changeHandler.remove(),this._changeHandler=null),this._errorHandler&&(this._errorHandler.remove(),this._errorHandler=null),!this._synced)return void this._logger.debug("Unsynced. (Sync never completed)");this._synced=!1,this._unsyncInProgress=!0;var e=this._player;if(e)try{this._volume=e.getVolume(),this._muted=e.getMuted(),this._lastPlayerPosition=e.getPosition()}catch(t){this._logger.error("Error whilst unsyncing.",t)}this._unsyncInProgress=!1,this._logger.debug("Unsynced.",this.isPlaying(),this.isActuallyPlaying())},t}(r.BasePlayer);t.ProxyPlayerBase=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e[e.LOADING=0]="LOADING",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.DEAD=3]="DEAD"}(i=t.State||(t.State={}))},function(e,t,n){(function(t,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   4.0.5
	 */
!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function o(e){Q=e}function s(e){K=e}function a(){return function(){return t.nextTick(p)}}function l(){return"undefined"!=typeof G?function(){G(p)}:d()}function u(){var e=0,t=new Z(p),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=p,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(p,1)}}function p(){for(var e=0;Y>e;e+=2){var t=ne[e],n=ne[e+1];t(n),ne[e]=void 0,ne[e+1]=void 0}Y=0}function h(){try{var e=n(37);return G=e.runOnLoop||e.runOnContext,l()}catch(t){return d()}}function f(e,t){var n=arguments,i=this,r=new this.constructor(m);void 0===r[re]&&L(r);var o=i._state;return o?!function(){var e=n[o-1];K(function(){return I(o,r,e,i._result)})}():A(i,r,e,t),r}function g(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(m);return S(n,e),n}function m(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function y(e){try{return e.then}catch(t){return le.error=t,le}}function b(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}function w(e,t,n){K(function(e){var i=!1,r=b(n,t,function(n){i||(i=!0,t!==n?S(e,n):T(e,n))},function(t){i||(i=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,C(e,r))},e)}function x(e,t){t._state===se?T(e,t._result):t._state===ae?C(e,t._result):A(t,void 0,function(t){return S(e,t)},function(t){return C(e,t)})}function k(e,t,n){t.constructor===e.constructor&&n===f&&t.constructor.resolve===g?x(e,t):n===le?C(e,le.error):void 0===n?T(e,t):r(n)?w(e,t,n):T(e,t)}function S(t,n){t===n?C(t,v()):e(n)?k(t,n,y(n)):T(t,n)}function E(e){e._onerror&&e._onerror(e._result),P(e)}function T(e,t){e._state===oe&&(e._result=t,e._state=se,0!==e._subscribers.length&&K(P,e))}function C(e,t){e._state===oe&&(e._state=ae,e._result=t,K(E,e))}function A(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+se]=n,r[o+ae]=i,0===o&&e._state&&K(P,e)}function P(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],r=t[s+n],i?I(n,i,r,o):r(o);e._subscribers.length=0}}function D(){this.error=null}function M(e,t){try{return e(t)}catch(n){return ue.error=n,ue}}function I(e,t,n,i){var o=r(n),s=void 0,a=void 0,l=void 0,u=void 0;if(o){if(s=M(n,i),s===ue?(u=!0,a=s.error,s=null):l=!0,t===s)return void C(t,_())}else s=i,l=!0;t._state!==oe||(o&&l?S(t,s):u?C(t,a):e===se?T(t,s):e===ae&&C(t,s))}function R(e,t){try{t(function(t){S(e,t)},function(t){C(e,t)})}catch(n){C(e,n)}}function O(){return ce++}function L(e){e[re]=ce++,e._state=void 0,e._result=void 0,e._subscribers=[]}function F(e,t){this._instanceConstructor=e,this.promise=new e(m),this.promise[re]||L(this.promise),V(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):C(this.promise,N())}function N(){return new Error("Array Methods must be provided an Array")}function B(e){return new F(this,e).promise}function U(e){var t=this;return new t(V(e)?function(n,i){for(var r=e.length,o=0;r>o;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function z(e){var t=this,n=new t(m);return C(n,e),n}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){this[re]=O(),this._result=this._state=void 0,this._subscribers=[],m!==e&&("function"!=typeof e&&j(),this instanceof H?R(this,e):$())}function q(){var e=void 0;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}e.Promise=H}var W=void 0;W=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var V=W,Y=0,G=void 0,Q=void 0,K=function(e,t){ne[Y]=e,ne[Y+1]=t,Y+=2,2===Y&&(Q?Q(p):ie())},J="undefined"!=typeof window?window:void 0,X=J||{},Z=X.MutationObserver||X.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),ie=void 0;ie=ee?a():Z?u():te?c():void 0===J?h():d();var re=Math.random().toString(36).substring(16),oe=void 0,se=1,ae=2,le=new D,ue=new D,ce=0;return F.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===oe&&e>n;n++)this._eachEntry(t[n],n)},F.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===g){var r=y(e);if(r===f&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===H){var o=new n(m);k(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},F.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===oe&&(this._remaining--,e===ae?C(i,n):this._result[t]=n),0===this._remaining&&T(i,this._result)},F.prototype._willSettleAt=function(e,t){var n=this;A(e,void 0,function(e){return n._settledAt(se,t,e)},function(e){return n._settledAt(ae,t,e)})},H.all=B,H.race=U,H.resolve=g,H.reject=z,H._setScheduler=o,H._setAsap=s,H._asap=K,H.prototype={constructor:H,then:f,"catch":function(e){return this.then(null,e)}},H.polyfill=q,H.Promise=H,H})}).call(t,n(26),n(36))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"DEPENDENCY_ERROR"},t}(r.PlayerFatalError);t.DependencyError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.getCode=function(){return"IMPLEMENTATION_ERROR"},t}(r.PlayerFatalError);t.ImplementationError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t){return e.call(this,t||"The player cannot play the provided descriptor.")||this}return i(t,e),t.prototype.getCode=function(){return"NOT_SUPPORTED_ERROR"},t}(r.PlayerFatalError);t.NotSupportedError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){function t(t){var n=e.call(this,"The player that the proxy was controlling had a fatal error.")||this;return n._providedPlayerError=t,n}return i(t,e),t.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_FATAL_ERROR"},t.prototype.getProvidedPlayerFatalError=function(){return this._providedPlayerError},t}(r.PlayerError);t.ProxyProvidedPlayerFatalError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(17);t.abortedError=new Error("Job aborted.");var o=function(){function e(e,t){void 0===t&&(t={}),this._job=e,this._opts=t,this._counter=0,this._jobControl=null,this._promise=null,this._jobCompleted=!1}return e.prototype.run=function(){var e=this;this._jobControl||(this._jobControl=this._job(),this._promise=this._jobControl.result,r.always(this._promise,function(){e._jobCompleted=!0,e._opts.storeResult===!1&&(e._jobCompleted=!1,e._promise=null,e._jobControl=null)}));var n=this._promise;this._counter++;var o=i.buildDeferred(),s=!1,a=!1,l=[],u=[],c=function(){a||(s=!0,e._counter--)};return r.always(n,c),n.then(function(e){a||(l.forEach(function(t){try{t(e)}catch(n){window.setTimeout(function(){throw n},0)}}),o.resolve(e))},function(e){a||(u.forEach(function(t){return t(e)}),o.reject(e))}),{whenComplete:function(){return o.promise},onCompletion:function(e){l.push(e)},onError:function(e){u.push(e)},hasCompleted:function(){return s},abort:function(n){a||s||(a=!0,0===--e._counter&&!e._jobCompleted&&e._jobControl&&e._jobControl.abort&&(e._jobControl.abort(n),e._promise=null,e._jobControl=null),u.forEach(function(e){return e(t.abortedError)}),o.reject(t.abortedError))}}},e}();t.AbortableJob=o},function(e,t,n){"use strict";function i(e,t){return e.then(t,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.always=i},function(e,t,n){"use strict";function i(){return u}function r(){return p}function o(){var e=navigator.appVersion.match(h);if(e&&e.length>=3){var t=parseInt(e[1],10),n=parseInt(e[2],10);if(!isNaN(t)&&!isNaN(n))return{major:t,minor:n}}return null}function s(){return c}function a(){return d}Object.defineProperty(t,"__esModule",{value:!0});var l="undefined"!=typeof navigator?navigator.userAgent:"",u=!/chrome|opera/i.test(l)&&/safari/i.test(l),c=l.indexOf("MSIE ")>=0||l.indexOf("Trident/")>=0,d=l.indexOf("Edge/")>=0,p=l.toLowerCase().indexOf("firefox")>=0,h=/version\/(\d+)\.(\d+)/i;t.isSafari=i,t.isFirefox=r,t.getSafariVersion=o,t.isIE=s,t.isEdge=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=function(){function e(e,t){this._inCallback=!1,this._onExit=e,this._onEnter=t||null}return e.prototype.enter=function(e){var t=this;if(this._inCallback)return e?e(this._onEnterResultRetriever):void 0;this._inCallback=!0;var n=[],r=!1;this._onEnter&&(this._onEnterResultRetriever={getResult:function(e){r?i.deferException(function(){return e(t._onEnterError,t._onEnterResult)}):n.push(e)}});try{var o=e?e(this._onEnterResultRetriever):void 0;if(this._onEnter){this._onEnterError=void 0,this._onEnterResult=void 0;try{this._onEnterResult=this._onEnter()}catch(s){this._onEnterError=s}r=!0,n.forEach(function(e){return i.deferException(function(){return e(t._onEnterError,t._onEnterResult)})})}return o}finally{this._inCallback=!1,i.deferException(function(){return t._onExit(t._onEnterError,t._onEnterResult)})}},e}();t.OnExit=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,i){void 0===i&&(i={}),this._url=e,this._protocol=t,this._format=n,this._segmentFormat=i}return e.prototype.getUrl=function(){return this._url},e.prototype.getProtocol=function(){return this._protocol},e.prototype.getFormat=function(){return this._format},e.prototype.getSegmentFormat=function(){return this._segmentFormat},e}();t.Descriptor=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(12),o=n(14),s=n(27),a=n(13),l=n(15),u=n(4),c=n(0);!function(e){e.PlayerError=u.PlayerError,e.PlayerFatalError=c.PlayerFatalError,e.DependencyError=r.DependencyError,e.NotSupportedError=o.NotSupportedError,e.URLUpdateError=s.URLUpdateError,e.ImplementationError=a.ImplementationError,e.ProxyProvidedPlayerFatalError=l.ProxyProvidedPlayerFatalError}(i=t.errors||(t.errors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),o=n(16),s=n(32),a=n(19),l=n(6),u=n(29),c=n(7),d=n(31),p=n(17),h=n(30),f=n(28),g=n(5),m=n(18),v=n(33);!function(e){e.OnExit=a.OnExit,e.find=l.find,e.Promise=d.Promise,e.always=p.always,e.compact=h.compact,e.deferException=g.deferException;var t;!function(e){e.buildCache=u.buildCache}(t=e.cache||(e.cache={}));var n;!function(e){e.buildDeferred=r.buildDeferred}(n=e.deferred||(e.deferred={}));var i;!function(e){e.getExtension=v.getExtension,e.buildAbsoluteUrl=v.buildAbsoluteUrl}(i=e.url||(e.url={}));var _;!function(e){e.AbortableJob=o.AbortableJob,e.abortedError=o.abortedError}(_=e.abortableJob||(e.abortableJob={}));var y;!function(e){e.noMoreAttemptsError=s.noMoreAttemptsError,e.retry=s.retry,e.buildExponentialDelayCalculator=s.buildExponentialDelayCalculator}(y=e.retry||(e.retry={}));var b;!function(e){e.isSafari=m.isSafari,e.getSafariVersion=m.getSafariVersion,e.isIE=m.isIE,e.isEdge=m.isEdge,e.isFirefox=m.isFirefox}(b=e.browser||(e.browser={}));var w;!function(e){e.combine=f.combine,e.numberToUint8Array=f.numberToUint8Array,e.createVintBuffer=f.createVintBuffer}(w=e.arrayBuffer||(e.arrayBuffer={}));var x;!function(e){e.now=c.now}(x=e.time||(e.time={}))}(i=t.helpers||(t.helpers={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(2),o=function(){function e(){this._aborted=!1,this._requestStarted=!1,this._response=null,this._responseDeferred=i.buildDeferred(),this._requestStartedDeferred=i.buildDeferred(),this._onRequestStart=new r.EventDispatcher,this.onRequestStart=this._onRequestStart.getHandle(),this.whenRequestStarted=this._requestStartedDeferred.promise}return e.prototype.getResponse=function(){return this._responseDeferred.promise},e.prototype.hasRequestStarted=function(){return this._requestStarted},e.prototype.hasCompleted=function(){return!!this._response||this._aborted},e.prototype.abort=function(){if(!this._aborted){if(this._aborted=!0,this._response)throw new Error("Already have a response.");this._abort(),this._responseDeferred.reject(new Error("Aborted.")),this._requestStarted||this._requestStartedDeferred.reject(new Error("Aborted."))}},e.prototype._provideResponse=function(e){if(this._aborted)throw new Error("Response aborted.");if(this._response)throw new Error("Response already provided.");if(e instanceof Error)this._aborted=!0,this._responseDeferred.reject(e);else{if(!this._requestStarted)throw new Error("Request hasn't started yet.");this._response=e,this._responseDeferred.resolve(e)}},e.prototype._signalRequestStart=function(){if(this._aborted)throw new Error("Response aborted.");if(this._requestStarted)throw new Error("Request already started.");this._requestStarted=!0,this._requestStartedDeferred.resolve(void 0),this._onRequestStart.dispatch(void 0)},e}();t.LoaderRequest=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(3),s=n(9),a=n(15),l=function(e){function t(t){var n=e.call(this,t)||this;return n._onPlayerProvided=new r.EventDispatcher,n._onPlayerRemoved=new r.EventDispatcher,n._shouldPassThroughFatalErrors=!!t.shouldPassThroughFatalErrors,n.onPlayerProvided=n._onPlayerProvided.getHandle(),n.onPlayerRemoved=n._onPlayerRemoved.getHandle(),n._logger=o.prefixLogger(n._logger,"ProxyPlayer"),n}return i(t,e),t.prototype.providePlayer=function(e,t){void 0===t&&(t={syncPosition:!0,syncVolume:!0}),this._providePlayer(e,t),this._onPlayerProvided.dispatch(e)},t.prototype.removePlayer=function(){var e=this._getPlayer();if(!e)throw new Error("There is no player to remove.");this._removePlayer(),this._onPlayerRemoved.dispatch(e)},t.prototype.setInitialDuration=function(e){this._setInitialDuration(e)},t.prototype.getPlayer=function(){return this._getPlayer()},t.prototype._handleFatalError=function(e){this._shouldPassThroughFatalErrors?this._triggerError(e):this._triggerError(new a.ProxyProvidedPlayerFatalError(e))},t}(s.ProxyPlayerBase);t.ProxyPlayer=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){if(this.start=e,this.duration=t,0>t)throw new RangeError("Duration must be >= 0.");this.end=e+t}return e.normalizeRawTimeRanges=function(e){return e.slice(0).sort(function(e,t){return e.start-t.start}).reduce(function(e,t,n){var i=e.length-1;return n>0&&e[i].end>=t.start?e[i].end=t.end:e.push(t),e},[])},e.normalize=function(t){return e.normalizeRawTimeRanges(t.map(function(e){return{start:e.start,end:e.end}})).map(function(t){return new e(t.start,t.end-t.start)})},e.getCoverage=function(t){if(0===t.length)return new e(0,0);var n=1/0,i=0;return t.forEach(function(e){e.start<n&&(n=e.start),e.end>i&&(i=e.end)}),new e(n,i-n)},e.rangesContainTime=function(e,t){return t.some(function(t){return t.containsTime(e)})},e.prototype.containsTime=function(e){return this.start<=e&&this.end>e},e}();t.TimeRange=i},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?f=h.concat(f):m=-1,f.length&&a())}function a(){if(!g){var e=r(s);g=!0;for(var t=f.length;t;){for(h=f,f=[];++m<t;)h&&h[m].run();m=-1,t=f.length}h=null,g=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var h,f=[],g=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||g||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t,n){return e.call(this,t||"The URL update failed for some reason.",n)||this}return i(t,e),t.prototype.getCode=function(){return"URL_UPDATE_ERROR"},t}(r.PlayerFatalError);t.URLUpdateError=o},function(e,t,n){"use strict";function i(e){var t=new Uint8Array(e.reduce(function(e,t){return e+t.byteLength},0)),n=0;return e.forEach(function(e){t.set(e,n),n+=e.byteLength}),t}function r(e,t){if(void 0===t&&(t=!1),e=Math.round(e),0>e)throw new Error("Negative numbers not supported.");for(var n=Math.max(1,Math.ceil(Math.log(e+1)/Math.log(2)/8)),i=new Uint8Array(n),r=0;n>r;r++)i[t?r:n-1-r]=255&e,e>>>=8;return i}function o(e){if(0>e||e>Math.pow(2,53))throw new Error("Unrepresentable value: "+e);var t;for(t=1;8>=t&&!(e<Math.pow(2,7*t)-1);t++);for(var n=new Uint8Array(t),i=1;t>=i;i++){var r=255&e;n[t-i]=r,e-=r,e/=Math.pow(2,8)}return n[0]|=1<<8-t,n}Object.defineProperty(t,"__esModule",{value:!0}),t.combine=i,t.numberToUint8Array=r,t.createVintBuffer=o},function(e,t,n){"use strict";function i(){return o?new window.Map:new s}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o="undefined"!=typeof window&&"Map"in window;t.buildCache=i;var s=function(){function e(){this._store=[]}return e.prototype.set=function(e,t){var n=r.find(this._store,function(t){return t.key===e});n?n.val=t:this._store.push({key:e,val:t})},e.prototype.get=function(e){var t=r.find(this._store,function(t){return t.key===e});return t?t.val:void 0},e}()},function(e,t,n){"use strict";function i(e){return e.filter(function(e){return null!=e})}Object.defineProperty(t,"__esModule",{value:!0}),t.compact=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(11);t.Promise=i.Promise},function(e,t,n){"use strict";function i(e,n,i,r){void 0===i&&(i=window.setTimeout),void 0===r&&(r=window.clearTimeout);var a=new o.AbortableJob(function(){var o=s.buildDeferred(),a=0,l=null,u=null,c=function(){l=e(a).run(),l.onCompletion(function(e){if(l=null,e.success)o.resolve(e.result);else{var r=n(++a);null!==r&&0>r?o.reject(new Error("Delay must be null or >= 0.")):null===r?o.reject(t.noMoreAttemptsError):u=i(function(){u=null,c()},r)}}),l.onError(function(e){l=null,o.reject(e)})};return c(),{result:o.promise,abort:function(){l&&l.abort(),u&&r(u)}}});return a.run()}function r(e){var t=void 0===e?{}:e,n=t.timeBase,i=void 0===n?500:n,r=t.threshold,o=void 0===r?3:r,s=t.delayCap,a=void 0===s?45e3:s,l=t.jitter,u=void 0===l?200:l,c=t.maxAttempts,d=void 0===c?null:c;if(0>=i)throw new Error("Time base must be > 0.");if(0>=o)throw new Error("Threshold must be > 0.");if(0===a)throw new Error("Delay cap must be null or > 0.");if(null!==d&&1>d)throw new Error("Max attempts must be >= 1.");return function(e){if(null!==d&&e>=d)return null;var t=e>0?Math.pow(2,e/o-1):0;return Math.min(t*i,a||1/0)+Math.round(Math.random()*u)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),s=n(1);t.noMoreAttemptsError=new Error("No more attempts remaining."),t.retry=i,t.buildExponentialDelayCalculator=r},function(e,t,n){"use strict";function i(e){var t=s.exec(e);return t?t[1].toLowerCase():null}function r(e,t){return o.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),s=/^.*\.([^\.;\?#]*).*$/;t.getExtension=i,t.buildAbsoluteUrl=r},function(e,t,n){"use strict";function i(e){var t=Object.create(null);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=n(5),s=function(){},a=function(){function e(e,t){void 0===t&&(t={});var n=this;this._subscribers=[],this._onExit=new r.OnExit(function(){return n._after()},function(){return n._onEnter()}),this._beforeUpdateError=void 0,this._inAfterUpdate=!1,this._dead=!1,this._officiallyDead=!1,this._errors=[],this._state=i(e),this._initialState=i(e),this._beforeUpdate=t.beforeUpdate||function(){return void 0},this._afterUpdate=t.afterUpdate||s,this._afterDispatches=t.afterDispatches||s}return e.prototype.subscribe=function(e,t){var n=this;if(void 0===t&&(t=!0),this._dead){var r=!1;return{retrieve:function(){},remove:function(){return r?!1:r=!0}}}var o={callback:e,localState:t?i(this._state):this._initialState};return this._subscribers.push(o),t||this._updateSubscriber(o),{remove:function(){var t=n._subscribers.map(function(e){return e.callback}).indexOf(e);return t>=0?(n._subscribers.splice(t,1),!0):!1},retrieve:function(){n._updateSubscriber(o)}}},e.prototype.subscribeIndividual=function(e,t,n){return this.subscribe(function(n){var i=n[e];void 0!==i&&t(i)},n)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype.getIndividualHandle=function(e){var t=this;return{subscribe:function(n){return t.subscribeIndividual(e,n)}}},e.prototype.update=function(e){var t=this;this._officiallyDead||(this._inAfterUpdate?e&&e(this._state,this._beforeUpdateError):this._onExit.enter(function(n){n.getResult(function(){try{e&&e(t._state,t._beforeUpdateError)}catch(n){t._errors.push(n)}})}))},e.prototype.getState=function(){return this._state},e.prototype.kill=function(){var e=this;this._dead||(this._dead=!0,window.setTimeout(function(){e._subscribers.splice(0),e._officiallyDead=!0},0))},e.prototype.isDead=function(){return this._dead},e.prototype._onEnter=function(){this._beforeUpdateError=void 0;try{this._beforeUpdate(this._state)}catch(e){this._beforeUpdateError=e}},e.prototype._after=function(){var e=this,t=this._errors;this._errors=[],o.deferException(function(){e._inAfterUpdate=!0;try{e._afterUpdate(e._state,{beforeUpdate:e._beforeUpdateError,update:t})}catch(n){throw e._inAfterUpdate=!1,n}e._inAfterUpdate=!1,e._subscribers.slice().forEach(function(t){return e._updateSubscriber(t)}),e._afterDispatches(e._state)})},e.prototype._updateSubscriber=function(e){var t=this._calculateDiff(e.localState);Object.keys(t).length&&(e.localState=i(this._state),o.deferException(function(){return e.callback(t,e.localState)}))},e.prototype._calculateDiff=function(e){var t=this,n=Object.create(null);return Object.keys(this._state).forEach(function(i){var r=t._state[i];r!==e[i]&&(n[i]=r)}),n},e}();t.StateManager=a},function(e,t,n){!function(t){var n=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),t=t.trim(),!t){if(!n.alwaysNormalize)return e;var r=this.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=this.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=this.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=i.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=s.normalizePath(d)}else u.path=a.path,o.params||(u.params=a.params,o.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=s}(this)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(i){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.3",t.buildNumber=1046;var i=n(2),r=n(23),o=n(3),s=n(24);t.ProxyPlayer=s.ProxyPlayer;var a=n(9);t.ProxyPlayerBase=a.ProxyPlayerBase;var l=n(21);t.errors=l.errors;var u=n(22);t.helpers=u.helpers;var c=n(8);t.BasePlayer=c.BasePlayer;var d=n(20);t.Descriptor=d.Descriptor;var p=n(10);t.State=p.State;var h=n(25);t.TimeRange=h.TimeRange;var f;!function(e){e.EventDispatcher=i.EventDispatcher}(f=t.eventDispatcher||(t.eventDispatcher={}));var g;!function(e){e.LoaderRequest=r.LoaderRequest}(g=t.loader||(t.loader={}));var m;!function(e){e.noOpLogger=o.noOpLogger,e.consoleLogger=o.consoleLogger,e.prefixLogger=o.prefixLogger,e.cloneLogger=o.cloneLogger}(m=t.logger||(t.logger={}))}])})},173:function(e,t,n){!function(t,i){e.exports=i(n(161),function(){try{return n(528)}catch(e){}}(),function(){try{return n(!function(){var e=new Error('Cannot find module "@sc/maestro-flipper-player"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}(),function(){try{return n(529)}catch(e){}}(),function(){try{return n(329)}catch(e){}}(),n(530))}(this,function(e,t,n,i,r,o){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=38)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t,n){void 0===n&&(n="API error.");var i=e.call(this,n)||this;return i.statusCode=t,i}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.API_ERROR."+(this.statusCode||"TIMEOUT")},t.prototype.getStatusCode=function(){return this.statusCode},t}(r.errors.PlayerFatalError);t.ApiError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t){return e.call(this,t||"There was no format available that a player was able to play.")||this}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.NOT_SUPPORTED_ERROR"},t}(r.errors.PlayerFatalError);t.NotSupportedError=o},function(e,t,n){"use strict";function i(e){return new o({startPos:0,endPos:e,startLevel:0,endLevel:1,fromEnd:!1})}function r(e){return new o({startPos:e,endPos:0,startLevel:1,endLevel:0,fromEnd:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.buildFadeIn=i,t.buildFadeOut=r;var o=function(){function e(e){var t=e.startPos,n=e.endPos,i=e.startLevel,r=e.endLevel,o=e.fromEnd,s=void 0===o?!1:o;if(0>t)throw new Error("startPos invalid.");if(0>n||!s&&t>n||s&&n>t)throw new Error("endPos invalid.");if(0>i||i>1)throw new Error("startLevel invalid.");if(0>r||r>1)throw new Error("endLevel invalid.");this._startPos=t,this._endPos=n,this._startLevel=i,this._endLevel=r,this._fromEnd=s}return e.prototype.calculate=function(e,t){var n=this._fromEnd?t-500-this._startPos:this._startPos,i=this._fromEnd?t-500-this._endPos:this._endPos;
if(n>e)return{level:this._startLevel,nextCalculatePosition:n-e};if(i>=e){var r=(e-n)/(i-n),o=Math.cos(r*Math.PI)/-2+.5,s=this._startLevel+(this._endLevel-this._startLevel)*o;return{level:s,nextCalculatePosition:e}}return{level:this._endLevel,nextCalculatePosition:1/0}},e}();t.Fade=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e}();t.BaseStreamUrlRetriever=i},function(e,t,n){"use strict";function i(e,t,n){return Math.min(t,Math.max(e,n))}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(3),a=o.eventDispatcher.EventDispatcher,l=o.helpers.Promise,u=o.helpers.deferred.buildDeferred,c=100,d=5e3,p=1500,h=function(e){function t(t,n){var i=e.call(this,t)||this;return i._onPreloadingEnabled=new a,i._onPreloadingDisabled=new a,i._onConnectionRequired=new a,i._onConnectionRecovered=new a,i._volumeAutomators=[],i._volumeScale=1,i._userVolume=1,i._volumeAutomationSupported=!1,i._timer=null,i._pauseFadeTimer=null,i._pauseFadeDeferred=null,i._pauseFade=null,i._connectionRequired=!1,i._connectionLossTimer=null,i.onPreloadingEnabled=i._onPreloadingEnabled.getHandle(),i.onPreloadingDisabled=i._onPreloadingDisabled.getHandle(),i.onConnectionRequired=i._onConnectionRequired.getHandle(),i.onConnectionRecovered=i._onConnectionRecovered.getHandle(),i._reloadStreamUrls=n,i._pausedMaxBufferLength=t.pausedMaxBufferLength,i._playingMaxBufferLength=t.playingMaxBufferLength,i._preloadingEnabled=t.preloadingEnabled,i.onPlayerProvided.subscribe(function(){return i._updateMaxBufferLength()}),i.onChange.subscribe(function(e){i.isDead()||((e.playing===!1||e.positionJumped||e.stalled||e.ended)&&i._completePauseFade(),i._pauseFade&&(e.actuallyPlaying===!1||e.ended)&&(i.removeVolumeAutomator(i._pauseFade),i._pauseFade=null),(e.positionJumped||void 0!==e.actuallyPlaying||void 0!==e.stalled)&&i._updateVolume(),void 0!==e.playing&&i._updateMaxBufferLength(),void 0!==e.loading&&i._calculateIfConnectionRequired())}),window.addEventListener("online",function(){return i._calculateIfConnectionRequired()}),window.addEventListener("offline",function(){return i._calculateIfConnectionRequired()}),i._calculateIfConnectionRequired(),i}return r(t,e),t.prototype.reload=function(){this._ensureNotDead(),this._reloadStreamUrls()},t.prototype.enablePreloading=function(){this.isDead()||this._preloadingEnabled||(this._preloadingEnabled=!0,this._updateMaxBufferLength(),this._onPreloadingEnabled.dispatch(void 0))},t.prototype.disablePreloading=function(){this.isDead()||this._preloadingEnabled&&(this._preloadingEnabled=!1,this._updateMaxBufferLength(),this._onPreloadingDisabled.dispatch(void 0))},t.prototype.isPreloadingEnabled=function(){return this._preloadingEnabled},t.prototype.pauseAfterFade=function(e){var t=this;if(this._ensureNotDead(),this._pauseFadeDeferred)return this._pauseFadeDeferred.promise;if(!this.isPlaying()||!this.isActuallyPlaying())return l.resolve(this.pause());var n=u();this._pauseFadeDeferred=n;var i=this.getPosition();if(this._pauseFade)throw new Error("Fade should not already be assigned.");return this._pauseFade=new s.Fade({startPos:i,endPos:i+e,startLevel:1,endLevel:0}),this.addVolumeAutomator(this._pauseFade),this._pauseFadeTimer=window.setTimeout(function(){t._pauseFadeDeferred=null,n.resolve(t.pause())},e+50),n.promise},t.prototype.isConnectionRequired=function(){return this._connectionRequired},t.prototype.getVolume=function(){return this._volumeAutomationSupported?this._userVolume:e.prototype.getVolume.call(this)},t.prototype.addVolumeAutomator=function(e){var t=this._volumeAutomators.indexOf(e);0>t&&(this._volumeAutomators.push(e),this._updateVolume())},t.prototype.removeVolumeAutomator=function(e){var t=this._volumeAutomators.indexOf(e);t>=0&&(this._volumeAutomators.splice(t,1),this._updateVolume())},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype.providePlayer=function(t,n,i){void 0===i&&(i=!0),this._volumeAutomationSupported=i,e.prototype.providePlayer.call(this,t,n)},t.prototype._setVolume=function(e){this._userVolume=e,this._calculateAndSetVolume()},t.prototype._kill=function(){this._timer&&window.clearTimeout(this._timer),null!==this._connectionLossTimer&&window.clearTimeout(this._connectionLossTimer),this._abortPauseFade(),e.prototype._kill.call(this)},t.prototype._calculateIfConnectionRequired=function(){var e=this,t=this.isLoading()&&"navigator"in window&&!window.navigator.onLine;t?null===this._connectionLossTimer&&(this._connectionLossTimer=window.setTimeout(function(){e._connectionLossTimer=null,e._connectionRequired=!0,e._onConnectionRequired.dispatch(void 0)},p)):this._connectionRequired?(this._connectionRequired=!1,this._onConnectionRecovered.dispatch(void 0)):null!==this._connectionLossTimer&&(window.clearTimeout(this._connectionLossTimer),this._connectionLossTimer=null)},t.prototype._completePauseFade=function(){if(this._pauseFadeDeferred){this._pauseFadeTimer&&window.clearTimeout(this._pauseFadeTimer);var e=this._pauseFadeDeferred;this._pauseFadeDeferred=null,e.resolve(this.pause())}},t.prototype._abortPauseFade=function(){this._pauseFadeTimer&&(window.clearTimeout(this._pauseFadeTimer),this._pauseFadeTimer=null),this._pauseFadeDeferred&&(this._pauseFadeDeferred.reject(new Error("Player was killed.")),this._pauseFadeDeferred=null)},t.prototype._updateVolume=function(){var e=this;if(this._volumeAutomationSupported){this._ensureNotDead(),this._timer&&(window.clearTimeout(this._timer),this._timer=null);var t=this.getDuration();if(null!==t){var n=this._volumeAutomators,r=this.getPosition(),o=1/0,s=1;n.forEach(function(e){var n=e.calculate(r,t),a=n.nextCalculatePosition,l=n.level;s*=i(0,1,l),o>a&&(o=a)}),this._volumeScale!==s&&(this._volumeScale=s,this._calculateAndSetVolume()),1/0>o&&this.isActuallyPlaying()&&!this.isStalled()&&(this._timer=window.setTimeout(function(){e._timer=null,e._updateVolume()},i(c,d,o-this.getPosition())))}}},t.prototype._calculateAndSetVolume=function(){this._volumeAutomationSupported?e.prototype._setVolume.call(this,this._userVolume*this._volumeScale):e.prototype._setVolume.call(this,this._userVolume)},t.prototype._updateMaxBufferLength=function(){var e=this.getPlayer(),t=e&&e.getBufferController();t&&(this.isPlaying()?t.setMaxBufferLength(this._playingMaxBufferLength):t.setMaxBufferLength(this._preloadingEnabled?this._pausedMaxBufferLength:0))},t}(o.ProxyPlayer);t.Player=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(31);t.renditions=i.renditions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.statusCode=e}return e.prototype.getStatusCode=function(){return this.statusCode},e}();t.RequestError=i},function(e,t,n){"use strict";function i(e){return e.match(a)[0]}function r(e,t){if(t instanceof e.errors.RetrievalError){var n=t.getCause();if(n instanceof e.retrievalErrors.UnacceptableResponseStatusCodeError)return 403===n.getStatusCode()}return!1}function o(e,t,n,o,a,l,u,c,d){d=s.logger.prefixLogger(d,"HLSMSEPlayer Controller");var p=null,h=i(c);n.onChange.subscribe(function(e){var t=e.dead;t&&p&&(d.debug("Aborting URL retrieve because player was killed."),p.abort())}),n.onError.subscribe(function(t){if(!(t instanceof s.errors.NotSupportedError)){if(o){if(t instanceof s.errors.URLUpdateError)return d.error("URL refresh failed for some reason.",t),void a({retryPlayer:!0});if(r(e,t))return p?void d.debug("Got a 403 status code, but URL refresh already in progress."):(d.info("Got a 403 status code. Peforming a URL refresh..."),p=u.getUrl(),void p.whenComplete().then(function(e){if(e){var t=e.url,r=e.rendition;i(t)!==h||JSON.stringify(l)!==JSON.stringify(r)?(d.warn("Got a new URL but the rendition did not match the original."),a({retryPlayer:!1})):(p=null,d.info("Got a new URL. Updating..."),n.getUrlController().updateUrl(t))}else d.warn("Could not get a new URL."),a({retryPlayer:!1})})["catch"](function(e){d.error("Unexpected error when trying to retrieve a new URL.",e),a({retryPlayer:!1})}))}d.error("Unexpected player error.",t),a({retryPlayer:!1})}}),t.providePlayer(n)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),a=/^[^\?#]*/;t.isErrorWhichShouldTriggerURLRefresh=r,t.takeControlHLSMSEPlayer=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.GEOBLOCKED_ERROR"},t}(r.ApiError);t.GeoBlockedError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){function t(){return e.call(this,"There were no stream URLs.")||this}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.NO_STREAMS"},t}(r.NotSupportedError);t.NoStreamsError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(){return e.call(this,null,"Request timed out too many times.")||this}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.TIMED_OUT_ERROR"},t}(r.ApiError);t.TimedOutError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.UNAVAILABLE_ERROR"},t}(r.ApiError);t.UnavailableError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),o=n(9),s=n(2),a=n(11),l=n(12),u=n(10);!function(e){e.ApiError=r.ApiError,e.GeoBlockedError=o.GeoBlockedError,e.NotSupportedError=s.NotSupportedError,e.TimedOutError=a.TimedOutError,e.UnavailableError=l.UnavailableError,e.NoStreamsError=u.NoStreamsError}(i=t.errors||(t.errors={}))},function(e,t,n){"use strict";function i(){return ie?ie:(ie=document.createElement("audio"),r(ie),ie)}function r(e){e.load()}function o(e){return e===J||e===X}function s(e){return e.constructor===X}function a(e){return e.constructor===J}function l(e){return e.constructor===Z}function u(e){return e.constructor===ee}function c(e){var t=e.split("//",2);return 1===t.length?t[0].split("/",1)[0]:t[1]?t[1].split("/",1)[0]:""}function d(e){var t=te.exec(e);return t&&t[0]||""}function p(e,t){var n=a(e)?"MaestroHTML5":s(e)?"MaestroHLSMSE":l(e)?"MaestroFlipper":u(e)?"MaestroChromecast":null;if(!n)throw new Error("Unknown player.");return{name:n,bitrate:t.bitrate,protocol:t.rendition.scProtocol,host:c(t.url),url:d(t.url),format:t.rendition.scFormat}}function h(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;20>n;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function f(e){if("number"!=typeof e)throw new Error("level must be a number.");if(0>e||e>1)throw new Error("Invalid volume level.");le=e,ae.forEach(function(t){return t.setVolume(e)})}function g(){return le}function m(e){if("boolean"!=typeof e)throw new Error("muteEnabled must be a boolean.");ue=e,ae.forEach(function(t){return t.setMuted(e)})}function v(){return ue}function _(){i()}function y(e){function t(){return Ae&&Pe?p(Ae,Pe):null}function n(){if(Ie&&window.clearTimeout(Ie),Se.debug("Performing retrieve."),De)throw new Error("Player job already running. Only one instance of the job is allowed at once.");if(Te.isDead())throw new Error("Proxy is dead.");var e=new j(function(){function e(){function t(e){if(e!==b.helpers.abortableJob.abortedError)if(e instanceof C.RequestError){var t=e.getStatusCode();switch(t){case 401:Te._triggerError(new A.GeoBlockedError(t,"Geoblocked (logged out)."));break;case 403:Te._triggerError(new A.GeoBlockedError(t,"Geoblocked (logged in)."));break;case 404:Te._triggerError(new D.UnavailableError(t,"Track unavailable."));break;case null:throw new Error("Status code should not be null.");default:Te._triggerError(new P.ApiError(t))}}else e===b.helpers.retry.noMoreAttemptsError?Te._triggerError(new I.TimedOutError):(Se.error("Unexpected error.",e),Te._triggerError(new b.errors.PlayerFatalError("An unexpected error occurred.",e)))}a=r(),a.onCompletion(function(n){if(n)try{Pe=n,Ce||(Ce=s());var r=Ce[0];r?i():(Se.debug("Excluding rendition.",n.rendition),c.excludeRendition(n.rendition),Ce=null,e())}catch(o){t(o)}else Pe?(Se.error("There were no stream formats that were supported."),Te._triggerError(new M.NotSupportedError)):(Se.error("There were no streams available."),Te._triggerError(new W.NoStreamsError))}),a.onError(t)}function i(){function e(e){if(!l&&!o&&(l=!0,Se.debug("Player releasing control.",e),t.abort(e),!Te.isDead()))if(e&&e.retryPlayer){var i=Re.getDelay();i>0?(Se.debug("Waiting "+i+" ms."),Ie=window.setTimeout(function(){return n()},i)):n()}else n()}var i=Ce&&Ce[0];if(!i)throw new Error("No player to build.");if(!Pe)throw new Error("No rendition.");var r=Pe.url,s=Pe.rendition,a=new b.Descriptor(r,s.maestroProtocol,s.maestroFormat,s.maestroSegmentFormat),l=!1;Se.debug("Building player...");var u=void 0,c=void 0;try{c=i(a,Pe,e)}catch(d){u=d}void 0===c?(Se.error("Exception occurred whilst building player.",u),e()):null===c?(Se.debug("Player not supported for current descriptor."),e()):(Ae=c,Se.debug("Built player."),Ae.isDead()?(Se.debug("Player died during construction."),e()):(ce.addPlayer(Ae),Ae.onChange.subscribe(function(t){var n=t.dead;n&&(Se.debug("Player died."),e())})))}var o=!1,a=null;return e(),{result:b.helpers.deferred.buildDeferred().promise,abort:function(e){o=!0,Se.info("Player job aborted.",e),De=null,a&&a.abort(),Ce&&(e&&e.retryPlayer?Se.debug("Player might be used again for current rendition."):(Se.debug("Player will not be used again for current rendition."),Ce.shift()),Te.getPlayer()&&Te.removePlayer(),Ae&&(Ae.kill(),Ae=null),Pe=null)}}}),t=e.run();return De=t}function r(){return H(function(){return new j(function(){var e=c.getUrl();Se.debug("Retrieving a URL...");var t=e.whenComplete().then(function(e){return e?Se.debug("Retrieved URL.",{rendition:e.rendition,bitrate:e.bitrate}):Se.debug("No URL provided."),e&&ne.indexOf(e.rendition)<0?(Se.warn("Unknown rendition. Skipping...",e.rendition),{success:!1}):{result:e,success:!0}})["catch"](function(e){if(e instanceof C.RequestError){var t=e.getStatusCode();if(null===t||0===t)return null===t?Se.warn("Timed out when retrieving URL. Will retry."):Se.warn("Network error when retrieving URL. Will retry."),{success:!1}}throw e!==b.helpers.abortableJob.abortedError&&Se.error("Error retrieving URL.",e),e});return{result:t,abort:function(){return e.abort()}}})},ve)}function s(){var e=[];return ee&&u.indexOf(ee)>=0&&(Se.debug("ChromecastPlayer found.",K.version),be?e.push(function(e){var t=new ee(e,{name:we,castContext:be,logger:te});return Te.providePlayer(t,{syncPosition:!1,syncVolume:!1},!1),t}):Se.warn("Could not construct chromecast player because context not provided.")),Z&&u.indexOf(Z)>=0&&(Se.debug("FlipperPlayer found.",Q.version),e.push(function(e){var t=new Z(e,{name:we,logger:te});return L.takeControlFlipperPlayer(Te,t,Se,Me||void 0),t})),X&&u.indexOf(X)>=0&&(Se.debug("HLSMSEPlayer found.",G.version),e.push(function(e,t,n){var i=new X(e,{name:we,playlistLoader:w.stringLoader,segmentLoader:w.arrayBufferLoader,keyLoader:w.arrayBufferLoader,logger:te});return l(i,function(){return n()}),O.takeControlHLSMSEPlayer(G,Te,i,ye,n,t.rendition,c,t.url,Se),i})),J&&u.indexOf(J)>=0&&(Se.debug("HTML5Player found.",V.version),e.push(function(e,t,n){var i=t.timeRetrieved;if(ye&&("hls"===e.getProtocol().name||void 0===i))return null;var r;if(ye){if(void 0===i)throw new Error("Expecting timeUrlRetrieved to be set.");r={urlExpires:!0,timeUrlRetrieved:i}}else r={urlExpires:!1};var o=new J(e,{name:we,logger:te});return l(o,function(){return n()}),R.takeControlHTML5Player(V,Te,o,r,n,Se),o})),e}function a(){De?(Se.debug("Reloading stream URLs..."),Se.debug("Aborting player job that is in progress."),De.abort(),Ce=null,n()):Se.debug("Reload requested, but not reloading as there is nothing to reload.")}function l(e,t){function n(){var t=e.getMediaElement();t&&t!==ie&&(Se.debug("Revoking audio element that was created internally because player is ready now."),e.revokeMediaElement())}function r(){var n=e.getMediaElement();if(n&&n!==ie&&(Se.debug("Revoking audio element that was created internally, even though player is not ready."),e.revokeMediaElement()),!e.getMediaElement()){re&&!re.isDead()&&(Se.info("Revoking audio element from a player."),re.isPlaying()&&Se.warn("The audio element is being revoked from a player which is playing. Only one player should be playing at once."),re.revokeMediaElement()),re=e,Se.info("Providing audio element to a different player.");var r=oe={};e.provideMediaElement(i())["catch"](function(n){e.isDead()||oe!==r||(Se.error("An unexpected error occurred when trying to provide the audio element to a player.",n),t())})}}e.isReady()?n():e.onReady.subscribe(n),Te.onPlayIntent.subscribe(function(){e.isDead()||r()}),Te.isPlaying()&&(e.isDead()||r())}var u=e.playerClasses,c=e.streamUrlRetriever,d=e.duration,f=void 0===d?null:d,g=e.preloadingEnabled,m=void 0===g?!1:g,v=e.pausedMaxBufferLength,_=void 0===v?2e3:v,y=e.playingMaxBufferLength,F=void 0===y?9e4:y,z=e.fadeOutDuration,$=void 0===z?0:z,Y=e.logger,te=void 0===Y?b.logger.noOpLogger:Y,de=e.audioPerformanceReporter,pe=e.audioReporter,he=e.audioCheckpointInterval,fe=void 0===he?3e4:he,ge=e.errorReporter,me=e.urlProviderRetryDelayCalculator,ve=void 0===me?q():me,_e=e.streamUrlsExpire,ye=void 0===_e?!0:_e,be=e.chromecastContext;if(!(c instanceof x.BaseStreamUrlRetriever))throw new Error("StreamUrlRetriever invalid.");if(null!==f&&("number"!=typeof f||0>f))throw new Error("duration invalid.");if("boolean"!=typeof m)throw new Error("preloadingEnabled invalid.");if(null!==_&&("number"!=typeof _||0>_))throw new Error("pausedMaxBufferLength invalid.");if(null!==F&&("number"!=typeof F||0>F))throw new Error("playingMaxBufferLength invalid.");if(null!==$&&("number"!=typeof $||0>$))throw new Error("fadeOutDuration invalid.");if(null!==te&&"function"!=typeof te&&"object"!=typeof te)throw new Error("logger invalid.");if(void 0!==pe&&"function"!=typeof pe)throw new Error("audioReporter invalid.");if(null!==fe&&("number"!=typeof fe||0>fe))throw new Error("audioCheckpointInterval invalid.");if(void 0!==de&&"function"!=typeof de)throw new Error("audioPerformanceReporter invalid.");if(void 0!==ge&&"function"!=typeof ge)throw new Error("errorReporter invalid.");if(void 0!==ve&&"function"!=typeof ve)throw new Error("retryDelayCalculator invalid.");var we="SCAudio-"+ ++se,xe=c.getTrackId();null!==xe&&(we+="-"+xe);var ke=new B.LogCollector;te=b.logger.cloneLogger(ke,te);var Se=b.logger.prefixLogger(te,we),Ee=h();Se.info("Building player...",{ua:navigator.userAgent,logId:Ee});var Te=new T.Player({name:we+"-Proxy",logger:te,mediaSessionEnabled:!0,pausedMaxBufferLength:_,playingMaxBufferLength:F,preloadingEnabled:m},a);ae.push(Te),Te.setVolume(le),Te.setMuted(ue),$>0&&Te.addVolumeAutomator(k.buildFadeOut($));var Ce=null,Ae=null,Pe=null,De=null,Me=null,Ie=null,Re=new N.DecayingExponentialDelayCalculator;if(de&&(Me=new S.AudioPerformanceEventGenerator(Te,de,Se,t,X)),pe&&new U.AudioEventGenerator(Te,pe,fe,Se,t),ge&&new E.ErrorEventGenerator(Te,ke,Ee,xe,ge,Se,t,G||null,ye),Te.onChange.subscribe(function(e){var t=e.dead,n=e.playing;if(t)Se.info("Player killed."),ae.splice(ae.indexOf(Te),1),De&&De.abort(),Ie&&window.clearTimeout(Ie);else if(n===!0){var r=u.some(function(e){return o(e)});r&&i()}}),null!==f&&(Se.debug("Setting initial duration.",f),Te.setInitialDuration(f)),m)Se.debug("Preloading is enabled, so performing retrieve immediately."),n();else{Se.debug("Preloading is disabled, so deferring retrieve until either a play intent or preloading is enabled.");var Oe=function(){Le.remove(),Fe.remove(),Se.debug("Preloading now enabled or received a play request. Peforming retrieve."),n()},Le=Te.onPreloadingEnabled.subscribe(Oe),Fe=Te.onPlayIntent.subscribe(Oe)}return Te}Object.defineProperty(t,"__esModule",{value:!0});var b=n(0),w=n(37),x=n(4),k=n(3),S=n(17),E=n(22),T=n(5),C=n(7),A=n(9),P=n(1),D=n(12),M=n(2),I=n(11),R=n(20),O=n(8),L=n(19),F=n(6),N=n(21),B=n(23),U=n(16),z=n(18),j=b.helpers.abortableJob.AbortableJob,$=b.helpers.retry,H=$.retry,q=$.buildExponentialDelayCalculator,W=n(10),V=void 0;try{V=n(36)}catch(Y){}var G=void 0;try{G=n(35)}catch(Y){}var Q=void 0;try{Q=n(34)}catch(Y){}var K=void 0;try{K=n(33)}catch(Y){}var J=V?V.HTML5Player:null,X=G?G.HLSMSEPlayer:null,Z=Q?Q.FlipperPlayer:null,ee=K?K.ChromecastPlayer:null,te=/^[^?#]*/,ne=Object.keys(F.renditions).map(function(e){return F.renditions[e]}),ie=null,re=null,oe={},se=-1,ae=[],le=1,ue=!1,ce=new z.CacheManager(15e7,b.logger.noOpLogger);t.setGlobalVolume=f,t.getGlobalVolume=g,t.setGlobalMuted=m,t.getGlobalMuted=v,t.activateAudioElement=_,t.buildPlayer=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3);!function(e){e.Fade=r.Fade,e.buildFadeIn=r.buildFadeIn,e.buildFadeOut=r.buildFadeOut}(i=t.volumeAutomation||(t.volumeAutomation={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=1e3,o=function(){function e(e,t,n,o,s){this._checkpointTimer=null,this._logger=i.logger.prefixLogger(o,"AudioEventGenerator"),this._player=e,this._eventReporter=t,this._checkpointInterval=null!==n?Math.max(r,n):null,this._getPlayerDetails=s,this._startReporting()}return e.prototype._startReporting=function(){var e=this,t=this._player;t.onChange.subscribe(function(n){var i=n.actuallyPlaying,r=n.ended;i===!0&&!t.isEnded()||r===!1&&t.isActuallyPlaying()?(null===e._checkpointInterval||e._checkpointTimer||(e._checkpointTimer=window.setInterval(function(){e._reportEvent("checkpoint")},e._checkpointInterval)),e._reportEvent("play")):(i===!1&&!t.isEnded()||r===!0&&t.isActuallyPlaying())&&(e._checkpointTimer&&(window.clearInterval(e._checkpointTimer),e._checkpointTimer=null),e._reportEvent("pause"))})},e.prototype._reportEvent=function(e){var t=this._getPlayerDetails();if(!t)return void this._logger.warn("Cannot report event because there is no player.",e);var n=this._player.getDuration();if(null===n)throw new Error("Duration should exist now.");var i={type:e,position:this._player.getPosition(),duration:n,playerType:t.name};this._logger.debug("Generated audio event.",i),this._eventReporter(i)},e}();t.AudioEventGenerator=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(32),o=3e4,s=function(){function e(e,t,n,r,o){this._logger=i.logger.prefixLogger(n,"AudioPerformanceEventGenerator"),this._player=e,this._eventReporter=t,this._getPlayerDetails=r,this._HLSMSEPlayer=o,this._measureGeneralEvents()}return e.prototype.reportManualEvent=function(e){this._logger.debug("Reporting manual audio performance event.",e),this._eventReporter(e)},e.prototype._measureGeneralEvents=function(){var e=this,t=this._player,n=null,i=null,s=null,a=null,l=!0;t.onChange.subscribe(function(u){var c=u.playing,d=u.actuallyPlaying,p=u.seeking,h=u.stalled,f=u.ended;if(t.isDead())return void(a&&window.clearTimeout(a));c===!0&&(n||(n=new r.Timer,n.start(),a=window.setTimeout(function(){e._reportEvent("longInitialBuffering",0)},o),0===t.getPosition()&&(l=!1))),c===!1&&(a&&window.clearTimeout(a),n&&!n.isComplete()&&(n=null)),d===!0&&n&&!n.isComplete()&&(n.stop(),a&&window.clearTimeout(a),e._reportEvent("play",n.getTime())),p===!0&&t.isReady()&&(i=new r.Timer,i.start()),p===!1&&i&&(i.stop(),e._reportEvent("seek",i.getTime())),h===!0&&t.isPlaying()&&n&&n.isComplete()&&(s=new r.Timer,s.start(),e._reportEvent("rebufferingStart",0)),h===!1&&s&&(s.stop(),e._reportEvent("rebufferingEnd",s.getTime()),s=null),f!==!0||l||(e._reportEvent("uninterruptedPlay",0),l=!0);var g=t.getSeekState(),m=g&&"IN_PROGRESS"===g.state;!m&&h===!0&&t.isActuallyPlaying()&&(l=!0)})},e.prototype._reportEvent=function(e,t){var n=this._getPlayerDetails();if(!n)return void this._logger.warn("Cannot report event because there is no player.",e,t);var i={type:e,latency:t,protocol:n.protocol,playerType:n.name,host:n.host,bitrate:n.bitrate,format:n.format||void 0};this._logger.debug("Generated audio performance event.",i),this._eventReporter(i)},e}();t.AudioPerformanceEventGenerator=s},function(e,t,n){"use strict";function i(e,t){var n=e.getMemoryCacheController();n&&n.setMaxCacheSize(t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=2e4,s=function(){function e(e,t){this._maxCacheSize=e,this._players=[],this._updateTimer=null,this._logger=r.logger.prefixLogger(t,"CacheManager"),this._logger.debug("Initialized with cache size "+e+" bytes.")}return e.prototype.addPlayer=function(e){var t=this;if(this._logger.debug("Adding player to cache manager."),e.isDead())return void this._logger.debug("Player was dead.");var n=this._players;e.onChange.subscribe(function(i){var r=i.playing,o=i.dead;o===!0?(t._logger.debug("Removing player that became dead."),n.splice(n.indexOf(e),1),t._update()):r===!0?(t._logger.debug("Updating because player started playing."),n.splice(n.indexOf(e),1),n.unshift(e),t._update()):r===!1&&(t._logger.debug("Updating because player became paused."),t._update())}),e.isPlaying()?n.unshift(e):n.push(e),this._update()},e.prototype._update=function(){var e=this;if(this._updateTimer&&(window.clearTimeout(this._updateTimer),this._updateTimer=null),0===this._players.length)return void this._logger.debug("There are no longer any players to manage.");var t=this._players.reduce(function(e,t){return t.isPlaying()?e.playingPlayers.push(t):e.pausedPlayers.push(t),e},{playingPlayers:[],pausedPlayers:[]}),n=t.playingPlayers,r=t.pausedPlayers,s=n.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0),a=r.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0);if(s>this._maxCacheSize){this._logger.debug("All playing players are using more than the max cache size. Cleaning...",s,this._maxCacheSize);var l=this._maxCacheSize/n.length;n.forEach(function(e){return i(e,l)}),r.forEach(function(e){return i(e,0)})}else this._logger.debug("Recalculating cache sizes...",s+a,this._maxCacheSize),n.concat(r).reduce(function(t,n){return i(n,Math.max(0,e._maxCacheSize-t)),t+(n.getMemoryCacheUsage()||0)},0);this._updateTimer=window.setTimeout(function(){return e._update()},o)},e}();t.CacheManager=s},function(e,t,n){"use strict";function i(e,t,n,i){n=r.logger.prefixLogger(n,"FlipperPlayer Controller"),i&&t.onAudioPerformanceEvent.subscribe(function(e){var t=e.protocol,r=e.type,o=e.latency,s=e.player_type,a=e.host,l=e.bitrate,u=e.format,c="Flipper";if(s!==c)return void n.warn("Ignoring audio performance event from flipper because the player_type was incorrect.",s);var d={protocol:t,type:r,latency:o,playerType:c,host:a,bitrate:l,format:u};i.reportManualEvent(d)}),e.providePlayer(t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.takeControlFlipperPlayer=i},function(e,t,n){"use strict";function i(e,t,n,i,s,a){function l(){var e=n.getDuration(),t=u();if(null!==e&&null!==t){var i=e-n.getPosition();o()+i>t&&(a.info("Releasing control because stream URL would expire before reaching end."),s({retryPlayer:!0}))}}function u(){if(!i.urlExpires)return null;var e=n.getDuration();return null===e?null:i.timeUrlRetrieved+e+105e3}function c(){var e=u();return null===e?!1:e<=o()}a=r.logger.prefixLogger(a,"HTML5Player Controller"),n.onError.subscribe(function(t){t instanceof r.errors.NotSupportedError||(t instanceof e.errors.NetworkError&&c()?(a.info("Releasing control as a network error occurred, and the URL has expired."),s({retryPlayer:!0})):(a.error("Unexpected player error.",t),s({retryPlayer:!1})))}),i.urlExpires&&(n.onPlayIntent.subscribe(function(){return l()}),n.onSeekIntent.subscribe(function(){return l()})),t.providePlayer(n)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=r.helpers.time.now;t.takeControlHTML5Player=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._delayFactor=0,this._lastRequestTime=0}return e.prototype.getDelay=function(){var e=Date.now()-this._lastRequestTime;return this._lastRequestTime=Date.now(),this._delayFactor=Math.max(0,this._delayFactor-e/15e3),this._delayFactor+=1,Math.pow(2,this._delayFactor)},e}();t.DecayingExponentialDelayCalculator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(8),o=function(){function e(e,t,n,r,o,s,a,l,u){this._logger=i.logger.prefixLogger(s,"ErrorGenerator"),this._player=e,this._logCollector=t,this._logId=n,this._trackId=r,this._eventReporter=o,this._getPlayerDetails=a,this._MaestroHLSMSEPlayer=l,this._streamUrlsExpire=u,this._listenForErrors()}return e.prototype._listenForErrors=function(){var e=this;this._player.onError.subscribe(function(t){if(!(e._streamUrlsExpire&&e._MaestroHLSMSEPlayer&&r.isErrorWhichShouldTriggerURLRefresh(e._MaestroHLSMSEPlayer,t))){var n,o;o=t instanceof i.errors.ProxyProvidedPlayerFatalError?t.getProvidedPlayerFatalError():t,n=o.getCode(),o instanceof i.errors.NotSupportedError||e._reportEvent(n)}})},e.prototype._reportEvent=function(e){var t=this._getPlayerDetails()||void 0,n={errorCode:e,log:this._logCollector.getLog(),logId:this._logId,trackId:this._trackId,protocol:t&&t.protocol,playerType:t?t.name:"MaestroUnknown",host:t&&t.host,bitrate:t&&t.bitrate,format:t&&(t.format||void 0),url:t&&t.url};this._logger.debug("Generated audio error event.",n),this._eventReporter(n)},e}();t.ErrorEventGenerator=o},function(e,t,n){"use strict";function i(e){return e.map(function(e){try{return JSON.stringify(e)}catch(t){return"<unavailable>"}})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){void 0===e&&(e=200),this._bufferSize=e,this._log=[]}return e.prototype.getLog=function(){return this._log},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"debug",msg:e,data:i(t),time:Date.now()})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"info",msg:e,data:i(t),time:Date.now()})},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"warn",msg:e,data:i(t),time:Date.now()})},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({
level:"error",msg:e,data:i(t),time:Date.now()})},e.prototype._push=function(e){this._log.push(e)>this._bufferSize&&this._log.shift()},e}();t.LogCollector=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiMobile={scProtocol:"sc.api-mobile",maestroProtocol:{name:"sc.api-mobile"},maestroFormat:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsMp3={scProtocol:"encrypted-hls",scFormat:"mp3",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mpeg"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsOpus={scProtocol:"encrypted-hls",scFormat:"opus",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/ogg",audioCodec:{id:"opus"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsMp3={scProtocol:"hls",scFormat:"mp3",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mpeg"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsOpus={scProtocol:"hls",scFormat:"opus",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/ogg",audioCodec:{id:"opus"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpMp3={scProtocol:"http",scFormat:"mp3",maestroProtocol:{name:"http"},maestroFormat:{mimeType:"audio/mpeg"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maestroChromecast={scProtocol:"maestro.chromecast",maestroProtocol:{name:"maestro.chromecast"},maestroFormat:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),r=n(27),o=n(25),s=n(24),a=n(30),l=n(28),u=n(26);t.renditions={httpMp3:i.httpMp3,hlsMp3:r.hlsMp3,encryptedHlsMp3:o.encryptedHlsMp3,hlsOpus:l.hlsOpus,encryptedHlsOpus:u.encryptedHlsOpus,apiMobile:s.apiMobile,maestroChromecast:a.maestroChromecast}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=i.helpers.time.now,o=function(){function e(){this._start=null,this._end=null}return e.prototype.start=function(){if(this.isComplete())throw new Error("Timer completed.");this._start=r()},e.prototype.isComplete=function(){return null!==this._end},e.prototype.stop=function(){if(null===this._start)throw new Error("Not started.");this._end=r()},e.prototype.getTime=function(){if(null===this._end)throw new Error("Not completed.");return this._end-this._start},e}();t.Timer=o},function(e,n){if("undefined"==typeof t){var i=new Error('Cannot find module "@sc/maestro-chromecast-player"');throw i.code="MODULE_NOT_FOUND",i}e.exports=t},function(e,t){if("undefined"==typeof n){var i=new Error('Cannot find module "@sc/maestro-flipper-player"');throw i.code="MODULE_NOT_FOUND",i}e.exports=n},function(e,t){if("undefined"==typeof i){var n=new Error('Cannot find module "@sc/maestro-hls-mse-player"');throw n.code="MODULE_NOT_FOUND",n}e.exports=i},function(e,t){if("undefined"==typeof r){var n=new Error('Cannot find module "@sc/maestro-html5-player"');throw n.code="MODULE_NOT_FOUND",n}e.exports=r},function(e,t){e.exports=o},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.7.8",t.buildNumber=379;var r=n(15);t.volumeAutomation=r.volumeAutomation;var o=n(4);t.BaseStreamUrlRetriever=o.BaseStreamUrlRetriever;var s=n(7);t.RequestError=s.RequestError;var a=n(5);t.Player=a.Player;var l=n(6);t.renditions=l.renditions,i(n(13)),i(n(14))}])})},181:function(e,t,n){"use strict";e.exports=function(e){return new(n(20).SafeString)(n(1279).render(e.hash))}},182:function(e,t,n){"use strict";function i(e,t){var n=e.previousAttributes().username,i=/^user\d+$/;i.test(n)&&this.set("permalink",o(t))}function r(){var e=this.getAttributesFromModel();this.set(e),this.unsetImageFile({force:!0}),this.markFieldsClean()}function o(e){return e.replace(/^[_-]/,"").replace(/[_-]$/,"").replace(/([_-]){2,}/g,"$1").replace(/[^a-z0-9_-]/g,"")}e.exports=n(77).extend(n(238).withOptions({read:"avatar_url"}),n(265).withOptions({attr:"username"}),n(204),{resource_type:"profile-settings",_user:null,_webProfileForms:null,fields:{username:{defaultValue:""},permalink:{defaultValue:""},description:{defaultValue:""},avatar_url:{defaultValue:null},first_name:{defaultValue:""},last_name:{defaultValue:""},city:{defaultValue:""},country_code:{defaultValue:""}},constraints:{username:[[n(67),{message:n(48).t("Enter your display name. You can change it later.")}],[n(108),{maxLength:50,message:n(48).t("Enter a display name that is up to [[maxLength]] characters.")}]],permalink:[[n(67),{message:n(48).t("Enter a profile URL.")}],[n(1650),{getResource:function(){return n(52).get("me")}}]],description:[[n(108),{maxLength:4e3,message:n(48).t("Enter a description that is up to [[maxLength]] characters.")}]]},actions:{"default":"save",save:function(){var e=this,t=n(53).defer();return this.validate().done(function(i){i?e.saveEdits().done(function(){e.trigger("saved"),n(54).trigger("profile:saved"),t.resolve(),e.markFieldsClean()}).fail(t.reject):t.reject()}),t},cancel:function(){this.cancelEdits()}},buttons:{save:{label:n(48).t("Save changes"),pendingLabel:n(48).t("Saving"),action:"save"},cancel:{label:n(48).t("Cancel"),action:"cancel"}},setup:function(){this._user=n(52).get("me"),this._webProfileForms=new(n(1251))(null,{userId:this._user.id}),this.listenTo(this._webProfileForms,"form:dirty",this.enableAction).listenTo(this._webProfileForms,"form:clean",this.disableAction).listenTo(this,"imageDataChanged",this.markFieldsDirty.bind(this,"avatar_url")),r.call(this),this.listenTo(this,"change:username",i)},getUser:function(){return this._user},getWebProfileForms:function(){return this._webProfileForms},cancelEdits:function(){this.unsetImageFile(),r.call(this),this.trigger("canceled"),this.getWebProfileForms().fetch()},isDirty:function(){var e=n(77).prototype.isDirty.apply(this,arguments);return e||this.getWebProfileForms().some(function(e){return e.isDirty()},this)},markFieldsClean:function(){n(77).prototype.markFieldsClean.apply(this,arguments),this.getWebProfileForms().invoke("markFieldsClean")},saveEdits:function(){var e=this,t=this.getUser(),i=this.getWebProfileForms(),r=this.getAttributesToBeSaved(),o=[];t.set(r),o.push(i.saveEdits()),o.push(t.save(r));var s=this.getImageFileInfo();return s.file&&(t.setImageFile(s.file,s.source),t.once("imageTranscodingDone",function(t){e.unsetImageFile({silent:!0}),e.set("avatar_url",t.avatar_url)}),o.push(t.uploadImage())),n(53).all(o).done(i.fetch.bind(i))},getAttributesToBeSaved:function(){return n(3).pick(this.attributes,"city","country_code","first_name","last_name","description","permalink","username")},getAttributesFromModel:function(){var e=this.getUser(),t=n(3).pick(e.attributes,"avatar_url","city","first_name","last_name","description","permalink","username");return t.country_code=e.getCountryCode(),t}},{hashFn:function(){return 1},onCleanup:function(e){e._webProfileForms.release()}})},186:function(e,t){"use strict";e.exports=function(e,t,n){return("function"==typeof e?e():e)?t:n}},187:function(e,t,n){"use strict";var i=n(450).withDefaults(n(513)["default"]);e.exports=function(e,t){return(void 0===t.hash.escapeExpression||t.hash.escapeExpression)&&(e=n(20).Utils.escapeExpression(e)),new(n(20).SafeString)(i(e,t.hash))}},195:function(e,t,n){"use strict";function i(e){return e||""}e.exports=n(63).extend({resource_type:"stats-totals",baseUrl:function(){var e=this.options,t=e.user,n=e.track,i=e.singleMetric,r={user_urn:t,track_urn:n,metric:i};return n?this.getEndpointUrl("totalsTrackStats",r):this.getEndpointUrl("totalsUserStats",r)},fetch:function(e){var t=this.options,i=t.from,r=t.to;return i&&r&&(e=n(3).assign({data:{from:+i,to:+r}},e)),n(63).prototype.fetch.call(this,e)},parse:function(e){return e&&e.period||e}},{hashFn:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return[t.singleMetric,+t.from,+t.to,t.track].map(i).join("_")}})},196:function(e,t,n){"use strict";e.exports=n(63).extend(n(238).withOptions({read:"artwork_url"}),n(1299).withOptions({attribute:"tracks",Collection:n(231),collectionArgs:function(){return{urn:this.get("urn")}}}),{resource_type:"system-playlist",baseUrl:function(){return this.getEndpointUrl("systemPlaylist",{urn:this.id})}},{resolve:function(e){return n(63)._resolve(this,["discover","sets",e],function(t){return t.get("permalink")===e})}})},201:function(e,t,n){"use strict";e.exports=function(e,t){return new(n(20).SafeString)(n(86).markup(e,t.hash))}},203:function(e,t,n){"use strict";function i(){var e=this.getAudible();n(54).trigger("playlist:saved",e),this.trigger("saved")}function r(e){this.set({errorMessage:this.getErrorMessageTemplate("save","playlist",this.extractErrorMessage(e))})}function o(e,t){return e.attrExists(t)?n(53).resolve(e):e.fetch({attrs:t}).then(n(3).constant(e))}function s(){this.setToModelAttributes(),this.get("trackList").reset(this._playlist.getSounds())}function a(){var e=this.requiredModelAttributes.map(function(e){return"change:"+e}).join();this.listenTo(this._playlist,e,function(){this.isDirty()||s.call(this)})}function l(e){var t=e.getSoundsCollectionClone(),i=e.getSounds();return n(3).assign(t,{getCurrentOrder:function(){return this.pluck("id")},reorder:function(e){this.sort({silent:!0,comparator:function(t){return e.indexOf(t.id)}})},resetOrder:function(){return this.reset(i.slice()),n(53).resolve()},saveOrder:n(3).noop}),n(471).applyTo(t),n(473).applyTo(t),t}e.exports=n(77).extend(n(204),n(1287),n(1292),n(265).withOptions({attr:"title"}),n(1289),n(562),{_playlist:null,resource_type:"playlist-edit",requiredModelAttributes:[],actions:{"default":"save",save:function(){var e=this;return this.validate().then(function(t){return t?(e.set("editing",!1),e.saveEdits()):n(53).reject()})},cancel:function(){this.cancel()}},fields:{buyLink:{defaultValue:""},buyTitle:{defaultValue:"Buy"},labelName:{defaultValue:null},trackList:{defaultValue:null}},buttons:{save:{label:n(48).t("Save changes"),pendingLabel:n(48).t("Saving"),action:"save"},cancel:{label:n(48).t("Cancel"),action:"cancel"}},constraints:{title:[[n(67),{message:n(48).t("Enter a title.")}],[n(108),{maxLength:100,message:n(48).t("Enter a title that is up to [[maxLength]] characters.")}]],description:[[n(108),{maxLength:4e3,message:n(48).t("Enter a playlist description that is up to [[maxLength]] characters.")}]],tags:[[n(547)]],permalink:[[n(463),{type:"playlist",getResource:function(){return this.getAudible()}}],[n(67),{message:n(48).t("Enter a permalink.")}]],buyLink:[[n(301),{strict:!1}]],buyTitle:[[n(542)]],customGenre:[[n(108),{maxLength:100,message:n(48).t("Enter a custom genre that is up to [[maxLength]] characters.")}]]},constraintConditions:{buyTitle:{fields:[],check:function(){return n(52).get("me").getPerk("customBuyTitle")}}},setup:function(e,t){var i=this;this.on("imageDataChanged",this.markFieldsDirty.bind(this,"artwork_url")),this._playlist=new(n(80))({id:t.resource_id}),this.set("trackList",l(this._playlist)),o(this._playlist,this.requiredModelAttributes).then(function(){s.call(i),a.call(i)}),this.addSubmodel(this._playlist)},saveEdits:function(){var e=this.getAudible();if(e.set(this.getAttributesToBeSaved()),this.isDirty("trackList")){var t=e.getSounds(),o=this.get("trackList");t.length>o.length&&n(3).difference(t,o.models).forEach(e.removeSound,e),e.reorder(o.pluck("id"))}return e.save().then(this.saveAudibleImage.bind(this,e)).then(i.bind(this),r.bind(this)).done(this.trigger.bind(this,"saved"))},getAudible:function(){return this._playlist},getAttributesFromModel:function(){var e=this.getAudible();return{buyLink:e.get("purchase_url"),buyTitle:e.get("purchase_title"),labelName:e.get("label_name")}},getAttributesToBeSaved:function(){var e=this.get("buyLink"),t=this.get("buyTitle");return{purchase_url:e?n(62).normalize(e):null,purchase_title:t===this.getFieldMetadata("buyTitle").defaultValue?null:t,label_name:this.get("labelName")}},cancel:function(){s.call(this),this.trigger("canceled")},saveCleanup:function(e){this.markFieldsClean()}},{hashFn:function(e,t){return e.resource_id||t&&t.resource_id||e.id||null}})},209:function(e,t,n){"use strict";var i=e.exports=n(338).extend({defaults:{type:"track_likes"},baseUrl:function(){return this.getEndpointUrl("userTrackLikes",{id:this.options.userId})},acceptsType:function(e){return"sound"===e}});n(353).applyTo(i,{fields:["track.title","track.genre","track.tag_list","track.user.username","track.user.full_name","track.user.permalink"],mixins:[n(126)],protoProps:{defaults:{type:"track_likes"}}})},210:function(e,t,n){"use strict";e.exports=n(153).extend({model:n(64),defaults:{limit:20,type:"tracks",keepBlocked:!0},baseUrl:function(){return this.getEndpointUrl("userTracks",{id:this.options.userId},{representation:this.options.keepBlocked?"owner":""})}},{hashFn:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.userId,i=t.resource_id,r=t.keepBlocked,o=n||i;return[o||null,r===!1?"_b":null].join("")||null}})},227:function(e,t,n){"use strict";e.exports=function(e){return n(139).render(e,{useSIUnits:!0})}},228:function(e,t){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},229:function(e,t,n){"use strict";var i=n(326);e.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},230:function(e,t,n){"use strict";e.exports=n(69).extend(n(126).withOptions({loop:!0}),{model:n(64),baseUrl:function(){return this.getEndpointUrl("stationTracks",{urn:this.options.resource_id})},getSourceInfo:function(){return{type:"stations",resourceId:this.options.resource_id,resourceType:"station",queryUrn:this.queryUrn}},parse:function(e){var t=e.collection,n=e.query_urn;return this.queryUrn=n,t}},{hashFn:function(e,t){var n=t.resource_id;return n}})},231:function(e,t,n){"use strict";e.exports=n(69).extend(n(126),{model:n(64),getSourceInfo:function(){return{type:"system-playlist",urn:this.options.urn,resourceId:this.options.urn,resourceType:"system-playlist"}},getDuration:function(){return this.models.reduce(function(e,t){return e+t.duration()},0)},baseUrl:function(){return this.getEndpointUrl("systemPlaylist",{urn:this.options.urn})},parse:function(e){if(this.next_href=!1,n(3).isArray(e))return e;if(n(3).isArray(e.tracks))return e.tracks;throw new Error("Could not parse system playlists track data")}},{hashFn:function(e,t){var n=t.resource_id,i=t.urn;return n||i}})},235:function(e,t,n){"use strict";function i(e){var t=n(52).get("me");return n(3).all(e,function(e){return t.owns(e)})}function r(e){a.call(this,e,!0),s.call(this)}function o(e){a.call(this,e,!1),s.call(this)}function s(){this.setActionState("save",this.get("sounds").length?"enabled":"disabled"),this.forceChange("sounds")}function a(e,t){var n=this.getFieldMetadata("sounds").datasource,i="excludeSeed_"+e.id,r=t?function(t){return t!==e}:null;n.setFilter(i,r)}var l=n(56).trackV0Click;e.exports=n(77).extend({fields:{title:{defaultValue:""},sounds:{defaultValue:function(){return new(n(1235))}},playlist:{defaultValue:null},sharing:{defaultValue:"public",datasource:[{label:n(48).t("private"),value:"private"},{label:n(48).t("public"),value:"public"}]}},buttons:{save:{label:n(48).t("Save"),action:"save"}},actions:{save:function(){var e=this,t=new(n(80))({title:this.get("title"),sharing:this.get("sharing")});return this.get("sounds").forEach(function(e){t.addSound(e)}),this.validate().always(function(){t.release()}).then(function(i){return i?t.save().then(function(){var i=new(n(80))(t.attributes);return n(71).notify("createPlaylist",{object:i}),e.get("sounds").each(function(e){n(71).notify("addToPlaylist",{object:e,target:i.id,targetType:i.get("kind"),state:!0})}),e.set("playlist",i),e.markFieldsClean(),i}):void l(["add_to_set","validation"])})},"default":"save"},constraints:{title:[[n(67),{message:n(48).t("Enter a title.")}],[n(108),{maxLength:255,message:n(48).t("Enter a title that is up to [[maxLength]] characters.")}]],sounds:[[n(67),{message:n(48).t("Playlists must contain at least one track.")}]]},setup:function(e,t){var s,a=this.get("sounds");this.startingSounds=this.options.startingSounds||[],s=n(3).any(n(3).invoke(this.startingSounds,"isPrivate")),this.set("sharing",s?"private":"public"),this.getFieldMetadata("sounds").datasource=new(n(1559))(null,{sourceType:i(this.startingSounds)?"mySounds":"likes"}),this.listenTo(a,"add",r).listenTo(a,"remove",o),n(3).each(this.startingSounds,this.addSound,this)},addSound:function(e){this.get("sounds").add(e)},areAllSoundsMine:function(){return i(this.get("sounds").models)}},{onCleanup:function(e){e.get("sounds").release()}})},246:function(e,t,n){"use strict";function i(e){return e?e.replace(/^https?:.+?\w\//,"/"):null}function r(){if(this.resource){var e=s(this.getEntityType());this.set({artwork_url:this.resource.get(e.artwork_url),link:i(this.resource.get(e.link))})}}function o(){this.listenTo(this.resource,n(3).map(s(this.getEntityType()),function(e){return"change:"+e}).join(" "),r)}function s(e){switch(e){case"user":return{artwork_url:"avatar_url",link:"permalink_url"};case"track":case"playlist":return{artwork_url:"artwork_url",link:"permalink_url"}}}function a(e){switch(e){case"user":return n(61);case"track":return n(64);case"playlist":return n(80);default:return null}}e.exports=n(63).extend({resource_type:"shortcut",url:null,submodelMap:{entity:null},hashCode:null,setup:function(){this.hashCode=this.get("output")+"%%"+this.getEntityType()},createSubmodel:function(){var e=a(this.getEntityType());null!==e&&(this.resource=new e(this.get("entity")),this.addSubmodel(this.resource),o.call(this)),r.call(this)},fetch:function(){return this.resource?this.resource.fetch():n(53).resolve({})},getEntityType:function(){switch(this.get("kind")){case"track":case"like":return"track";case"user":case"following":return"user";case"query":return"query";case"playlist":return"playlist"}},isQuery:function(){return"query"===this.get("kind")},equivalentTo:function(e){return e.hashCode===this.hashCode}})},255:function(e,t,n){"use strict";e.exports=function(e,t){var i=t.hash.displayUTC?n(48).dateTimeHelper.toLocalDate(e):new Date(e);return n(48).dateTimeHelper.format(i,t.hash.format)}},256:function(e,t,n){"use strict";var i=n(450).withDefaults(n(513).oneline);e.exports=function(e,t){return(void 0===t.hash.escapeExpression||t.hash.escapeExpression)&&(e=n(20).Utils.escapeExpression(e)),new(n(20).SafeString)(i(e,t.hash))}},258:function(e,t,n){"use strict";e.exports=n(2624)()?Symbol:n(2626)},260:function(e,t,n){"use strict";function i(e){e&&-1===this.getRecipientIds().indexOf(e.id)&&this.set("recipients",this.get("recipients").concat(e))}function r(e){return e instanceof n(61)?a(e):e instanceof n(246)?n(53).resolve(o(e)):f(e)?n(53).reject():n(61).resolve(e).then(a)}function o(e){return{id:e.resource.resource_id,username:e.get("output"),avatar_url:e.get("artwork_url")}}function s(e){return e.hasDataForView(["username","avatar_url"])?n(53).resolve(e):e.fetch()}function a(e){return s(e).then(function(){return{id:e.id,username:e.get("username"),avatar_url:e.get("avatar_url")}})}function l(e,t){var i,r=this;t!==this._lastBodyValue&&(this._lastBodyValue=t,n(174).getAudibleModels(t.match(n(174).scLinksRegexGlobal)||[]).done(function(e){i=n(3).reduce(e,function(e,t){return t&&t.audible&&e.push(t.audible),e},[]),r.set("attachments",i)}))}function u(e,t){t&&!t.isValid&&m(["messages","new-message-validation-error"])}function c(e){u.call(this,"recipients",e)}function d(e){u.call(this,"body",e)}function p(e){var t,i;t=n(3).reject(this.get("attachments"),function(t){return t.resource_id===e?(i=t,!0):!1}),this.set("attachments",t),h.call(this,i)}function h(e){var t=this.get("body"),i=e.getShareURL(),r=new RegExp("\\n{0,2}"+n(257).regexpEscape(i)+"\\S*\\n{0,2}","igm");t=t.replace(r,""),this.set("body",t)}function f(e){return"string"==typeof e&&"soundcloud"===e.toLowerCase()}function g(){this.clearStoredValues(),this.set("body","")}var m=n(56).trackV0Click;e.exports=n(77).extend(n(1673),{fields:{recipients:{defaultValue:[]},body:{defaultValue:""},links:{defaultValue:[]},attachments:{defaultValue:[]}},constraints:{body:[[n(67),{message:n(48).t("Enter a message.")}],[n(108),{maxLength:2e4,message:n(48).t("Enter a message that is up to [[maxLength]] characters.")}]],recipients:[[n(67),{message:n(48).t("Enter a recipient.")}]]},buttons:{send:{label:n(48).t("Send"),action:"send"}},serialization:{restoreAndStoreOnSetup:!0,fields:["body"]},actions:{"default":"send",send:function(e){var t=n(53).defer(),i=this.get("recipients")[0],r=this.get("body");return this.validate().done(function(o){o?n(331).send(i,r,e.showSuccessMessage).done(t.resolve).fail(t.reject):t.reject()}).fail(t.reject),t.done(g.bind(this)),t}},setup:function(e,t){this.serialization.storeKey=t.conversationId&&"conversation_"+t.conversationId,this.listenTo(this,"change:body",l).listenTo(this,"validation:body",d).listenTo(this,"validation:recipients",c).listenTo(this,"removeSoundFromAttached",p)},getRecipientIds:function(){return n(3).pluck(this.get("recipients"),"id")},addRecipient:function(e){var t=r(e);return t.done(i.bind(this))},addAttachment:function(e,t){this.set("body",this.get("body").replace(/\n*$/,"\n"+e.getShareURL({type:t})+" "))}})},282:function(e,t,n){"use strict";e.exports=function(){var e,t,i=n(3).toArray(arguments);return e=i.pop(),t=e.sep||"",i.join(t)}},287:function(e,t,n){"use strict";var i,r=n(768),o=n(1446),s=n(2607),a=n(769);i=e.exports=function(e,t){var n,i,s,l,u;return arguments.length<2||"string"!=typeof e?(l=t,t=e,e=null):l=arguments[2],null==e?(n=s=!0,i=!1):(n=a.call(e,"c"),i=a.call(e,"e"),s=a.call(e,"w")),u={value:t,configurable:n,enumerable:i,writable:s},l?r(o(l),u):u},i.gs=function(e,t,n){var i,l,u,c;return"string"!=typeof e?(u=n,n=t,t=e,e=null):u=arguments[3],null==t?t=void 0:s(t)?null==n?n=void 0:s(n)||(u=n,n=void 0):(u=t,t=n=void 0),null==e?(i=!0,l=!1):(i=a.call(e,"c"),l=a.call(e,"e")),c={get:t,set:n,configurable:i,enumerable:l},u?r(o(u),c):c}},288:function(e,t,n){e.exports=n.p+"assets/images/close-light-3cc6150.png"},289:function(e,t,n){e.exports=n.p+"assets/images/loader-db80c58.gif"},296:function(e,t,n){"use strict";e.exports=n(69).extend(n(126),{model:n(603),defaults:{genre:null,chartKind:null,highTierOnly:!1,region:null},baseUrl:function(){var e=this.options,t=e.chartKind,i=e.genre,r=e.region,o=e.highTierOnly;return this.getEndpointUrl("charts",{},{kind:t,genre:n(111).genreUrn(i),region:r&&r!==n(156).defaultCountry?n(111).regionUrn(r):void 0,high_tier_only:o||!1,variant:n(52).get("experiments").get("v2_listening","charts_genre")||void 0})},setup:function(){this.queryUrn=null,this.lastUpdated=null},parse:function(e){var t=e.query_urn,n=e.collection,i=e.last_updated,r=e.kind;return this.queryUrn=t,this.lastUpdated=i,n.map(function(e,t){var n=e.track,i=e.score;return"top"===r?{track:n,score:i,weekPlays:i}:"trending"===r?{track:n,score:i}:void 0})},getSourceInfo:function(){var e=this.queryUrn,t=this.options,n=t.genre,i=t.chartKind;return{type:"charts",genre:n,chartKind:i,queryUrn:e}},audibleAt:function(e){var t=this.at(e);return t&&t.soundModel}},{hashFn:function(e,t){return t.chartKind+"_"+t.genre+"_"+t.highTierOnly+"_"+t.region}})},297:function(e,t,n){"use strict";function i(e){var t=e.state,n=e.object;t&&!this.contains(n)&&this.onCommentCreated(n)}var r=[{emitter:n(71),event:"comment",getInstance:function(e,t){var n=t.target;return e.options.sound_id===n},handler:i}];e.exports=n(69).extend(n(191).withOptions({events:r}),{model:n(107),defaults:{sound_id:null,secret_token:null},soundDuration:null,setup:function(e){var t=e.sound_id,i=new(n(64))({id:t});this.options.secret_token=i.get("secret_token"),this.soundDuration=i.duration(),i.release()},baseUrl:function(){return this.getEndpointUrl("trackComments",{id:this.options.sound_id})},parse:function(e){var t=this,n=/^http:/;return e.collection.map(function(e){return e.timestamp=t.normalizeTimestamp(e.timestamp),n.test(e.user.avatar_url)&&(e.user.avatar_url=e.user.avatar_url.replace(n,"https:")),e})},normalizeTimestamp:function(e){return(e>this.soundDuration||0>e)&&(e=n(107).EMPTY_TIMESTAMP),e},onCommentCreated:function(e){this.add(e,{at:0})}},{hashFn:function(e,t){return t&&t.sound_id||null}})},298:function(e,t,n){"use strict";var i=n(137),r=i.parseOrganicResults,o=i.parsePremiumResults,s=i.parsePromotedResults,a={sounds:"tracks",high_tier:"tracks",sets:"playlists",playlists:"playlists_without_albums",albums:"albums",people:"users",universal:"universal"},l={sounds:"tracks",high_tier:"high_tier",people:"people",playlists:"playlists",albums:"albums"},u=new(n(103))("promoted-persistent");e.exports=n(69).extend(n(126),{model:n(611),facetName:null,facets:null,totalResults:null,queryUrn:null,setup:function(e){var t=e.params,n=(t&&t.q||"").trim();this.facets=[],0===n.length&&this.setToFullyPopulated()},getSourceInfo:function(){var e=l[this.options.category];return{type:e?"search:"+e:"search",queryUrn:this.getCurrentQueryUrn()}},baseUrl:function(){var e=this.options,t=e.category,i=e.params,r=n(3).reduce(n(52).get("experiments").getVariantIds(),function(e,t){return e.concat(t)},[]);switch(i=n(3).assign({q:"",sc_a_id:u.get("sc_a_id"),variant_ids:r.join(",")},i),t){case"high_tier":i["filter.content_tier"]="SUB_HIGH_TIER";case"sounds":case"sets":case"albums":case"playlists":this.facetName="genre";break;case"people":this.facetName="place";break;default:this.facetName="model"}return i.facet=this.facetName,i.user_id=n(160).getAnonymousId(),t?this.getEndpointUrl("searchCategory",{category:a[t]},i):this.getEndpointUrl("search",{},i)},getTotalResults:function(){return this.totalResults||0},getTotalPremiumResults:function(){return this.premiumTotalResults||0},getFacetByName:function(e){var t=n(3).findWhere(this.facets,{name:e});return t?t.facets:[]},getCurrentFacet:function(){return this.getFacetByName(this.facetName)},parse:function(e){var t=o(e),i=s(e),a=r(e);return this.totalResults=a.count,this.premiumTotalResults=t.count,this.queryUrn=e.query_urn,this.facets=e.facets||[],this.trigger("change:facet_counts"),n(3).flatten([t.records,i.records,a.records])},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()},couldContainSounds:function(){return"people"!==this.options.category},modelToGroupKey:function(e){return"high_tier"===this.options.category||"high_tier"===e.get("campaign")?"high_tier":"free_tier"},getCurrentQueryUrn:function(){return this.queryUrn}},{hashFn:function(e,t){return[t.category||"universal",n(62).stringify({query:t.params})].join("_")}})},299:function(e,t,n){"use strict";function i(e){var t=e.state,n=e.target,i=void 0;t?this.add({id:n},{at:0}):(i=this.get(n))&&this.remove(i)}var r=[{emitter:n(71),event:"follow",getInstance:function(e,t){var n=t.origin;return e.options.userId===n},handler:i}],o=e.exports=n(153).extend(n(191).withOptions({events:r}),{model:n(61),defaults:{limit:3,type:"followings"},baseUrl:function(){return this.getEndpointUrl("userFollowings",{id:this.options.userId})}});n(353).applyTo(o,{fields:["username","full_name"]})},318:function(e,t,n){"use strict";var i=e.exports=n(63).extend({resource_type:"user_stream_item",submodelMap:{track:null,playlist:null},baseUrl:null,audible:null,createSubmodel:function(e,t){var i,r=n("track"===t?64:80),o=this.get(t);o&&(i=new r(o),this.addSubmodel(i),this.listenTo(i,"destroy",this.onSubmodelDestroy),this.audible=i)},onSubmodelDestroy:function(){this.destroy()},equivalentTo:function(e){if(this===e)return!0;var t=this.get("track")||this.get("playlist"),n=e.get("track")||e.get("playlist")||e.attributes;return t.kind===n.kind&&t.id===n.id},getAudible:function(){return this.audible},getActionType:function(){return this.isRepost()?"repost":this.isLike()?"like":"post"},isSpotlight:function(){return this.get("type").indexOf("_spotlight")>-1},isRepost:function(){return/[_-]repost$/.test(this.get("type"))},isLike:function(){return/[_-]like$/.test(this.get("type"))},isRegular:function(){return!this.isRepost()&&!this.isLike()&&!this.isSpotlight()},toggleSpotlight:function(e){this.isRepost()||this.isLike()||(void 0===e&&(e=!this.isSpotlight()),this.set("type",this.get("type").replace(e?/$/:/_spotlight$/,e?"_spotlight":"")))},getModelData:function(){return this.get("track")||this.get("playlist")}},{convert:function(e){var t=e instanceof n(64),r=e.toJSON();return new i({type:r.kind,created_at:r.created_at,track:t?r:null,playlist:t?null:r})}})},326:function(e,t,n){"use strict";var i=n(1444)();e.exports=function(e){return e!==i&&null!==e}},329:function(e,t,n){!function(t,i){e.exports=i(n(161))}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return e.call(this,"An unrecoverable error occurred whilst decoding.")||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.DECODE_ERROR"},t}(r.errors.PlayerFatalError);t.DecodeError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return e.call(this,"An unrecoverable network error occurred.")||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.NETWORK_ERROR"},t}(r.errors.PlayerFatalError);t.NetworkError=o},function(e,t,n){"use strict";function i(e){for(var t=[],n=e.length,i=0;n>i;i++)t.push({end:1e3*e.end(i),start:1e3*e.start(i)});return r.TimeRange.normalizeRawTimeRanges(t).map(function(e){return new r.TimeRange(e.start,e.end-e.start)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.buildTimeRanges=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(1),o=n(2);!function(e){e.DecodeError=r.DecodeError,e.NetworkError=o.NetworkError}(i=t.errors||(t.errors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3);!function(e){var t;!function(e){e.buildTimeRanges=r.buildTimeRanges}(t=e.timeRanges||(e.timeRanges={}))}(i=t.helpers||(t.helpers={}))},function(e,t,n){"use strict";function i(e){e.load()}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),a=n(2),l=n(3),u=n(7),c=o.helpers.deferred.buildDeferred,d=o.helpers.url.getExtension,p=o.helpers.Promise,h=o.helpers.compact,f=o.logger.prefixLogger,g=o.errors.NotSupportedError,m=o.errors.PlayerFatalError,v=new Error("Media element was revoked."),_=10,y=200,b=function(e){
function t(t,n){var i=e.call(this,n)||this;i._duration=null,i._stallDetected=!1,i._initialized=!1,i._deferredProvideMediaElementCallback=null,i._playInProgress={inProgress:!1},i._lastStallCheckPos=null,i._stallCheckTimerId=null,i._endedOverride=!1,i._volume=1,i._muted=!1,i._pauseEventTimer=null,i._positionWhenMediaElementRevoked=0,i._playingWhenMediaElementRevoked=!1,i._provideMediaElementDeferred=null,i._mediaElementAndState=null,i._listeners=[],i._currentSeekCallback=null,i._playDetectionPosition=0,i._playDetectionTimer=null,i._playDetectionTimerNumAttempts=0,i._logger=f(i._logger,"HTML5Player"),i._descriptor=t,i._playerDependencies=n,i._mimeType=t.getFormat().mimeType||i._buildMimeTypeAndCodecString(t.getFormat(),i._inferFormat(t.getUrl()));var r=void 0!==n.mediaElement?n.mediaElement:i._createDefaultMediaElement();return r&&i.provideMediaElement(r)["catch"](function(e){return e===v?void i._logger.debug("Initial provideMediaElement() call was aborted."):void i._triggerError(new u.InitializeError(e))}),i._logger.info("Checking if the player can play the provided descriptor."),i._canPlayTimer=window.setTimeout(function(){i._canPlay().then(function(e){return i.isDead()?void 0:e instanceof o.errors.NotSupportedError?(i._logger.info("Player not supported.",e),void i._triggerError(e)):e?(i._logger.info("Player supported."),void i._initialize()):(i._logger.info("Player not supported."),void i._triggerError(new g))})["catch"](function(e){i._logger.error("Unexpected error during can play check.",e),i._triggerError(new m("An unexpected error occured during initialization.",e))})},0),i}return r(t,e),t.prototype.getMediaElement=function(){return this._mediaElementAndState&&this._mediaElementAndState.element},t.prototype.provideMediaElement=function(e){var t=this;if(this._ensureNotDead(),this._mediaElementAndState)throw new Error("Already have a media element.");this._logger.debug("provideMediaElement() called.",e),this._initMediaElementLocal(e,null);var n=this._provideMediaElementDeferred=c(),i=this._mediaElementAndState={element:e,state:"INITIALIZING"},r=function(){t._logger.debug("Initializing media element."),t._initMediaElement(e,t._descriptor.getUrl()),t._attachListeners();var r=t._listenToOnce("error",function(){t._provideMediaElementDeferred=null;var i=e.error.code+" = "+(e.error.message||"[unknown]");t._logger.error("Error whilst initializing media element.",i),t.revokeMediaElement(),n.reject(new Error("Error when initializing media element. Error: "+i))},{earlyAttach:!0});t._listenToOnce("loadeddata",function(){t._logger.debug("Got loadeddata event from media element."),o()},{earlyAttach:!0});var o=function(){t._logger.debug("Putting media element in the state that is expected..."),s()},s=function(){null===t._getQueuedSeekPosition()&&t._positionWhenMediaElementRevoked>0?(t._logger.debug("Seeking to expected position..."),t._performSeek(t._positionWhenMediaElementRevoked,function(e){return void 0!==e?(t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to seek to the expected position."),t.revokeMediaElement(),void n.reject(new Error("An error occurred when trying to restore the position."))):(t._logger.debug("Seeked to expected position."),void a())})):a()},a=function(){t.isPlaying()===t.isActuallyPlaying()&&t._playingWhenMediaElementRevoked?(t._logger.debug("Calling play to match previous state..."),t._play()["catch"](function(){t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to play."),i===t._mediaElementAndState&&t.revokeMediaElement(),n.reject(new Error("Browser refused play() request on media element."))}),t._listenToOnce("play",function(){t._logger.debug("Play succeeded."),l()},{earlyAttach:!0})):l()},l=function(){return t._mediaElementAndState!==i?void t._triggerError(new m("Media element switched unexpectedly.")):(t._provideMediaElementDeferred=null,r.remove(),n.resolve(void 0),t._mediaElementAndState.state="STABLE",t._logger.debug("Finished putting element in expected state."),void(null!==t._duration&&t._update(function(){t.isReady()||t._signalReady(),t._handleDefferredPauseAndSeek()})))}};return this._initialized?r():this._deferredProvideMediaElementCallback=r,this._provideMediaElementDeferred.promise},t.prototype.revokeMediaElement=function(){if(!this._mediaElementAndState)throw new Error("There is no media element to revoke.");this._deferredProvideMediaElementCallback=null,this._provideMediaElementDeferred&&(this._provideMediaElementDeferred.reject(v),this._provideMediaElementDeferred=null),this._logger.debug("revokeMediaElement() called."),this._detachListeners();var e=this._mediaElementAndState.element;this.isDead()||(this._positionWhenMediaElementRevoked=this.getPosition(),this._playingWhenMediaElementRevoked=this.isPlaying()),this._mediaElementAndState=null,this._initMediaElement(e,null),this.isDead()||this._handleStalled()},t.prototype.getVolume=function(){return this._volume},t.prototype.getMuted=function(){return this._muted},t.prototype.setMuted=function(e){this._muted=e,this._mediaElementAndState&&(this._mediaElementAndState.element.muted=e)},t.prototype.getBufferedTimeRanges=function(){return this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state?l.buildTimeRanges(this._mediaElementAndState.element.buffered):[]},t.prototype.getMaxBufferLength=function(){return null},t.prototype._setVolume=function(e){this._volume=e,this._mediaElementAndState&&(this._mediaElementAndState.element.volume=e)},t.prototype._inferFormat=function(e){var t=d(e);switch(t){case"mp3":return{mimeType:"audio/mpeg"};case"opus":return{mimeType:"audio/ogg",audioCodec:{id:"opus"}};case"mp4":return{mimeType:"video/mp4"};case"m3u8":return{mimeType:"application/x-mpegURL"};default:return{}}},t.prototype._buildMimeTypeAndCodecString=function(e,t){void 0===t&&(t={});var n=e.mimeType||t.mimeType,i=e.audioCodec||t.audioCodec,r=e.videoCodec||t.videoCodec,o=h([i,r]),s=o.length>0?'; codecs="'+o.map(function(e){return e.id}).join(",")+'"':"";return n+s},t.prototype._getResolvedMimeType=function(){return this._mimeType},t.prototype._canPlay=function(){return this._mimeType&&this._canPlayProtocol(this._descriptor.getProtocol())&&this._canPlayType(this._mimeType)?p.resolve(!0):p.resolve(!1)},t.prototype._canPlayProtocol=function(e){return["http","hls"].indexOf(e.name)>=0},t.prototype._canPlayType=function(e){try{var t=document.createElement("audio");return!!t.canPlayType(e)}catch(n){return!1}},t.prototype._initialize=function(){var e=this;this._initialized=!0,this._listenTo("error",function(){if("INITIALIZING"===e._mediaElementAndState.state)return void e._logger.debug("An error occurred, but the media element is initializing, so ignoring...");var t=e._mediaElementAndState.element.error;switch(t.code){case 2:e._triggerError(new a.NetworkError);break;case 3:e._triggerError(new s.DecodeError);break;default:e._triggerError(new o.errors.PlayerFatalError("An unexpected error occurred.",t))}},{earlyAttach:!0}),this._listenTo("play",function(){e._logger.debug("Media element play event."),e.isPlaying()||!e._mediaElementAndState||e._mediaElementAndState.element.paused||(e._logger.debug("Calling play() because something external called play() on media element."),e.play())}),this._listenTo("playing",function(){e._logger.debug("Media element playing event."),e._mediaElementAndState&&!e._mediaElementAndState.element.paused?e._handlePlayingEvent():e._logger.debug("Ignoring playing event because media element is reporting it is paused.")}),this._listenTo("timeupdate",function(){return e._determineIfPlaying()}),this._listenTo("pause",function(){e._logger.debug("Media element pause event."),e._mediaElementAndState&&e._mediaElementAndState.element.paused?e._handlePauseEvent():e._logger.debug("Ignoring pause event because media element is reporting it is not paused.")}),this._listenTo("ended",function(){e._logger.debug("Media element ended event."),e._mediaElementAndState&&!e._mediaElementAndState.element.ended?e._handleEndedEvent():e._logger.debug("Ignoring ended event because media element is reporting it is not ended.")}),this._listenTo("stalled",function(){e._logger.debug("Media element stalled event."),e._checkIfStalled()}),this._stallCheckTimerId=window.setInterval(function(){return e._checkIfStalled()},400),this._retrieveDuration().then(function(t){e._logger.debug("Duration retrieved.",t),e._duration=t,e._update(function(){e._provideDuration(t),e._mediaElementAndState&&"STABLE"===e._mediaElementAndState.state&&(e._signalReady(),e._handleDefferredPauseAndSeek())})})["catch"](function(t){e._triggerError(new o.errors.PlayerFatalError("An unexpected error occurred when attempting to retrieve the duration.",t))}),this._deferredProvideMediaElementCallback&&this._deferredProvideMediaElementCallback()},t.prototype._createDefaultMediaElement=function(){return document.createElement(this._playerDependencies.mediaElementType||"audio")},t.prototype._handlePauseEvent=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element should exist.");var t=this._mediaElementAndState.element;this._pauseEventTimer||(this._pauseEventTimer=window.setTimeout(function(){e._pauseEventTimer=null,t.paused&&e.isActuallyPlaying()&&e._update(function(){e.isEnded()||(e._notifyNotStalled(),e._notifyPlaying(!1))})},0))},t.prototype._handlePlayingEvent=function(){var e=this,t=this._duration;if(null===t)throw new Error("Expecting duration to exist.");var n=this._getTruePosition();return n>=t?void this._logger.warn("Got a media element playing event and the positon was >= the duration.",n,t):this.isEnded()||this._shouldBeEnded()?void this._logger.warn("Got a media element playing event when the player is/should be ended."):void this._update(function(){e._notifyNotStalled(),e._determineIfPlaying(),e.isActuallyPlaying()||(e._playDetectionTimerNumAttempts=0,e._playDetectionTimer||(e._playDetectionTimer=window.setInterval(function(){return e._determineIfPlaying()},_)))})},t.prototype._handleEndedEvent=function(){return null!==this._getQueuedSeekPosition()?void this._logger.warn("Got a media element ended event but ignoring because a seek is in progress."):void this._update()},t.prototype._shouldBeEnded=function(){return this._endedOverride||this._mediaElementReportingEnded()},t.prototype._mediaElementReportingEnded=function(){return!!(this._mediaElementAndState&&this._mediaElementAndState.element.ended&&this._mediaElementAndState.element.paused)},t.prototype._retrieveDuration=function(){var e=this;return new p(function(t){e._listenToOnce("loadedmetadata",function(){var n=e._mediaElementAndState;n&&t(1e3*n.element.duration)},{reattach:!0,earlyAttach:!0})})},t.prototype._handlePlayPauseChange=function(e){var t=this;if(this.isEnded())!e&&this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state&&this._mediaElementAndState.element.pause(),this._notifyPlaying(e);else if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var n=this._mediaElementAndState.element,i=this._playInProgress.inProgress||!n.paused;if(i!==e)if(e){this._playDetectionPosition=this._getTruePosition();var r={inProgress:!0};this._playInProgress=r,this._play().then(function(){return r.inProgress=!1})["catch"](function(e){r.inProgress=!1,t._notifyPlayRejection(e)})}else this._playInProgress={inProgress:!1},n.pause(),this._notifyPlaying(!1);else this._playInProgress.inProgress||this._notifyPlaying(e)}},t.prototype._handleSeekChange=function(e){var t=this,n=this._mediaElementAndState;if(n&&"USABLE"===n.state){var i=this._mediaElementReportingEnded();this._endedOverride=!1,this._performSeek(e,function(n){return void 0!==n?void t._triggerError(new o.errors.PlayerFatalError("An error occurred when trying to seek.",n)):(e===t._duration&&(t._endedOverride=!0),void t._signalSeekComplete())}),i&&this._handlePlayPauseChange(this.isPlaying())}},t.prototype._performSeek=function(e,t){var n=this,i=this._mediaElementAndState;if(!i)throw new Error("Media element does not exist.");var r=this._currentSeekCallback;if(r&&(this._currentSeekCallback=null,r.listenerHandle.remove()),i.element.currentTime===e/1e3)return void t();i.element.currentTime=e/1e3;var o=this._listenToOnce("seeked",function(){n._currentSeekCallback=null,t()},{earlyAttach:!0});this._currentSeekCallback={listenerHandle:o,callback:t}},t.prototype._getPosition=function(){var e=null!==this._duration?this._duration:1/0;if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)return this._positionWhenMediaElementRevoked;this._determineIfPlaying();var t=Math.min(this._getTruePosition(),e);return this._shouldBeEnded()?e:t},t.prototype._getTruePosition=function(){if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)throw new Error("Media element does not exist or is in invalid state.");var e=this._mediaElementAndState.element;return 1e3*e.currentTime},t.prototype._kill=function(){window.clearTimeout(this._canPlayTimer),this._playDetectionTimer&&window.clearInterval(this._playDetectionTimer),this._mediaElementAndState&&this.revokeMediaElement(),this._stallCheckTimerId&&window.clearInterval(this._stallCheckTimerId),this._listeners=[]},t.prototype._listenToOnce=function(e,t,n){void 0===n&&(n={});var i=n.reattach,r=n.earlyAttach;void 0===i&&(i=!1),void 0===r&&(r=!1);var o=function(e){s.remove(),t(e)},s=this._listenTo(e,o,{reattach:i,earlyAttach:r});return s},t.prototype._listenTo=function(e,t,n){var i=this;void 0===n&&(n={});var r=n.reattach,o=n.earlyAttach;void 0===r&&(r=!0),void 0===o&&(o=!1);var s=function(e){a.attached?t(e):i._logger.warn("Got media element event after handler was removed. Ignoring.",e)},a={attached:!1,handler:s,eventType:e,once:!1,reattach:r,earlyAttach:o};if(this._listeners.push(a),!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state&&!o)return{remove:function(){var e=i._listeners.indexOf(a);e>=0&&i._listeners.splice(e,1)}};var l=this._mediaElementAndState.element;return l.addEventListener(e,s,!1),a.attached=!0,{remove:function(){var t=i._listeners.indexOf(a);t>=0&&(i._listeners.splice(t,1),a.attached=!1,l.removeEventListener(e,s,!1))}}},t.prototype._notifyNotStalled=function(){this._stallDetected=!1,this._lastStallCheckPos=null,this._handleStalled()},t.prototype._initMediaElement=function(e,t){this._initMediaElementLocal(e,t)},t.prototype._determineIfPlaying=function(){var e=this;this._playDetectionTimer&&(!this.isPlaying()||++this._playDetectionTimerNumAttempts>=y)&&(window.clearInterval(this._playDetectionTimer),this._playDetectionTimer=null),this._update(function(){e._mediaElementAndState&&"USABLE"===e._mediaElementAndState.state&&e.isReady()&&e.isPlaying()&&!e.isActuallyPlaying()&&!e._mediaElementAndState.element.paused&&e._getTruePosition()!==e._playDetectionPosition&&(e._logger.debug("Detected that playback has started."),e._playDetectionTimer&&(window.clearInterval(e._playDetectionTimer),e._playDetectionTimer=null),e._notifyPlaying(!0))})},t.prototype._initMediaElementLocal=function(e,t){e.setAttribute("msAudioCategory","BackgroundCapableMedia"),e.mozAudioChannelType="content",e.removeAttribute("src"),i(e),t?(this._logger.debug("Setting media element src.",t),e.src=t):this._pauseEventTimer&&(this._logger.debug("Clearing pause event timer."),window.clearTimeout(this._pauseEventTimer),this._pauseEventTimer=null),e.volume=this._volume,e.muted=this._muted,e.playbackRate=1,e.setAttribute("preload","metadata"),e.pause(),e.load()},t.prototype._checkIfStalled=function(){if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var e=this._mediaElementAndState.element;if(!e.paused&&this.isActuallyPlaying()){var t=e.currentTime;this._stallDetected=e.readyState<=2||this._lastStallCheckPos===t,this._lastStallCheckPos=t,this._handleStalled()}}},t.prototype._handleStalled=function(){this._shouldBeEnded()&&null===this._getQueuedSeekPosition()?this.isEnded()||(this._logger.debug("Updating because stalled near end."),this._update()):this._notifyStalled(this._stallDetected||!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)},t.prototype._play=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");if(this._mediaElementReportingEnded())return this._logger.debug("Not calling play() because we are at the end. It will be called after a seek."),p.resolve();var t=this._mediaElementAndState.element.play();return new p(function(n,i){t?t.then(function(){n()})["catch"](function(t){"AbortError"===t.name?(e._logger.debug("Media element play() promise rejected with AbortError."),n()):i(t)}):n()})},t.prototype._handleDefferredPauseAndSeek=function(){var e=this;if(!this._mediaElementAndState||"STABLE"!==this._mediaElementAndState.state)throw new Error("Media element must be in the STABLE state.");this._logger.debug("Handling deferred pause and seek..."),this._mediaElementAndState.state="USABLE",this._attachListeners(),this._update(function(){e._handleStalled();var t=e._getQueuedSeekPosition();null!==t&&e._handleSeekChange(t),e.isPlaying()!==e.isActuallyPlaying()&&e._handlePlayPauseChange(e.isPlaying())})},t.prototype._detachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");var e=this._mediaElementAndState.element;this._listeners.forEach(function(t){t.attached&&(t.attached=!1,e.removeEventListener(t.eventType,t.handler,!1))}),this._listeners=this._listeners.filter(function(e){return e.reattach})},t.prototype._attachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");this._logger.debug("Attaching listeners...");var e=this._mediaElementAndState,t=e.element,n=e.state;this._listeners.forEach(function(e){e.attached||!e.reattach||"USABLE"!==n&&!e.earlyAttach||(t.addEventListener(e.eventType,e.handler,!1),e.attached=!0)}),this._logger.debug("Attached listeners.")},t}(o.BasePlayer);t.HTML5Player=b},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t){return e.call(this,"An error occurred when initializing the media element.",t)||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.INITIALIZE_ERROR"},t}(r.errors.PlayerFatalError);t.InitializeError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.4",t.buildNumber=1050;var i=n(6);t.HTML5Player=i.HTML5Player;var r=n(4);t.errors=r.errors;var o=n(5);t.helpers=o.helpers}])})},330:function(e,t,n){"use strict";e.exports=n(69).extend({model:n(169),lastFetchTime:Date.now(),next_href:!1},{neverRelease:!0,hashFn:function(){return 1}})},331:function(e,t,n){"use strict";function i(e,t,i){var r=n(1233).instances.get(i.id),o=new a;r&&r.add(i.last_message),o.add(i,{userAction:!0,merge:!0});var l=n(158).instances.get(i.id);l&&l.markAsRead(),n(54).trigger("new-message:sent",{recipient:e,showSuccessMessage:t}),s(["messages","new-message-sent"])}function r(e,t){var i=t.responseText,r=function(e){return i.indexOf(e)>-1},o=i?r("confirmed their address")?"emailnotconfirmed":r("sender must be followed")?"privacy":r("receiver blocked sender")?"youareblocked":r("rate limit")?"ratelimit":r("receiver does not exist")?"receiverdoesntexist":"default":"default";n(54).trigger("new-message:failed",{errorCode:o,recipient:e})}function o(e){var t=this,n=e.reduce(function(e,n){return t.get(n)||(t.add({id:n},{at:0}),e++),e},0);n&&this.trigger("new-conversations-added")}var s=n(56).trackV0Click,a=e.exports=n(69).extend({model:n(158),currentConversationId:null,baseUrl:n(303).baseUrl,setup:function(){this.listenTo(n(54),"new-unread-messages",o).listenTo(this,"change:last_message",this.sort)},getCurrentConversationId:function(){return this.currentConversationId},fetch:function(e){var t=this;return n(69).prototype.fetch.apply(this,arguments).done(function(){e&&e.reset&&t.trigger("new-conversations-added")})},setCurrentConversationId:function(e){e!==this.currentConversationId&&(this.currentConversationId=e,this.trigger("change:currentConversationId",{currentConversationId:e}))},comparator:function(e,t){return t.lastMessageSentAt()-e.lastMessageSentAt()}},{hashFn:function(){return 1},neverRelease:!0,send:function(e,t,o){return n(303).post(e.id,t).done(i.bind(this,e,o)).fail(r.bind(this,e))}})},332:function(e,t,n){"use strict";var i={user:{playlists:"userPlaylists",playlists_without_albums:"userPlaylistsWithoutAlbums",albums:"userAlbums"},sound:{playlists:"playlistsForTrack",playlists_without_albums:"playlistsWithoutAlbumsForTrack",albums:"albumsForTrack"}},r=(e.exports=n(131).extend({model:n(80),defaults:{resource_id:null,playlists_for:null,exclude:null,playlistType:"playlists"},setupSources:function(){var e=this.options.exclude;return e&&(this.filters=[function(t){return t.id!==e}]),[new r(null,this.options)]}},{hashFn:function(e,t){var n=r.hashFn.apply(this,arguments);return t.exclude&&(n+="_"+t.exclude),n}}),n(69).extend({model:n(80),parse:function(e){return e.collection.forEach(function(e){null===e.tracks&&delete e.tracks}),e.collection},baseUrl:function(){var e,t=this.options,n=t.playlists_for,r=t.resource_id,o=t.playlistType,s={representation:"mini"},a=(e={},e["user"===n?"id":"trackId"]=r,e);return this.getEndpointUrl(i[n][o],a,s)}},{hashFn:function(e,t){var n=t.playlists_for,i=t.resource_id,r=t.limit,o=t.offset,s=t.playlistType;return n+"_"+i+"_"+r+"_"+o+"_"+s}}))},333:function(e,t,n){"use strict";function i(e){var t=e.context;if(t){var i=n(3).findIndex(this.models,function(e){return e.get("context_urn")===t.resourceUrn});0!==i&&(i>0&&this.remove(this.at(i)),this.add(r(t),{at:0}))}}function r(e){var t,i=e.resourceId,r=e.resourceType,o=e.resourceUrn,s=new(n(490))((t={context_urn:o,kind:r,played_at:Date.now()},t[r]={id:i},t));return s.release(),s}function o(){this.reset([])}var s=e.exports=n(69).extend({model:n(490),baseUrl:function(){return this.getEndpointUrl("playHistoryContexts")},setup:function(){this.listenTo(n(71),"addToPlayHistory",i),this.listenTo(n(71),"clearPlayHistory",o)}},{hashFn:function(){return 1}});n(353).applyTo(s,{fields:["station.title","playlist.title","playlist.user.username","user.username"]})},334:function(e,t,n){"use strict";function i(){var e=n(52).get("experiments").get("v2_listening",/^reco-ss-/);return e||null}function r(e){return e.resource_type="playlist"===e.kind?"playlist":"sound",e}var o=Math.floor(1e8*Math.random());e.exports=n(69).extend(n(126),{model:n(73),audioSourceVersion:null,queryUrn:null,defaults:{resource_id:null,resource_type:null},getSourceInfo:function(){return{type:"recommender",queryUrn:this.queryUrn,version:this.audioSourceVersion,resourceId:this.options.resource_id,resourceType:this.options.resource_type}},parse:function(e){var t=e.query_urn,n=e.collection,i=e.variant;return this.audioSourceVersion=i||"no_version",this.queryUrn=t,n.map(r)},baseUrl:function(){var e=n(52).get("me").id||null;return this.getEndpointUrl("relatedSounds",{track_id:this.options.resource_id},{user_id:e,anon_user_id:e?null:o,variant:i()})}},{hashFn:function(e,t){var n=t.resource_id;return n}})},335:function(e,t,n){"use strict";e.exports=n(69).extend({model:n(61),setup:function(){n(60).isLoggedIn()||this.setToFullyPopulated()},comparator:function(e){return e.get("username").toLowerCase()},baseUrl:function(){return this.getEndpointUrl("shortcutsFollowings")},parse:function(e){var t=e.collection,i=n(52).get("me"),r=i.id;return r&&t.unshift({id:r}),t}},{hashFn:function(){return n(52).get("me").get("id")}})},337:function(e,t,n){"use strict";function i(e){var t=e.object;this.add(n(374).getModelData(this.options.userId,"playlist",t.id),{at:0})}function r(e){var t=(e.targetType,e.state),i=e.origin,r=e.target,s=void 0;t?this.add(n(374).getModelData(i,"playlist-like",r),{at:0}):(s=o.call(this,r))&&this.remove(s)}function o(e){return this.find(function(t){return e===t.get("playlist").id})}var s=[{emitter:n(71),event:"like",getInstance:function(e,t){var n=t.origin,i=t.targetType;return e.options.userId===n&&"playlist"===i},handler:r},{emitter:n(71),event:"createPlaylist",getInstance:function(e,t){var n=t.object;return e.options.userId===n.get("user_id")},handler:i}];e.exports=n(153).extend(n(191).withOptions({events:s}),{model:n(374),defaults:{type:"playlists/liked_and_owned"},baseUrl:function(){return this.getEndpointUrl("collectionPlaylists",{id:this.options.userId})},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()}})},338:function(e,t,n){"use strict";function i(e){var t,i=e.state,r=e.origin,o=e.target,s=e.targetType;i&&this.acceptsType(s)?this.add(n(491).getLikeModelData(r,s,o),{at:0}):(t=this.find(function(e){var t="sound"===s?e.get("track"):"playlist"===s?e.get("playlist"):null;return t&&o===t.id}),t&&this.remove(t))}var r=[{emitter:n(71),event:"like",getInstance:function(e,t){var n=t.origin;return e.options.userId===n},handler:i}];e.exports=n(153).extend(n(191).withOptions({events:r}),{model:n(491),defaults:{type:"likes"},baseUrl:function(){return this.getEndpointUrl("userLikes",{id:this.options.userId})},parse:function(e){var t=this.options.userId;return e.collection.forEach(function(e){e.user_id=t}),e.collection},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()},acceptsType:function(e){return"sound"===e||"playlist"===e}})},342:function(e,t,n){"use strict";function i(e,t){var i=this,r=new(n(346))(null,this);r.check(t,function(e){var r=t&&(e?t:n(62).normalize(t))||"";r!==t&&i.set("url",r),i.set("network",o(r))})}function r(e,t){this._webProfile.set("network",t),this.set("icon",this._webProfile.getNetworkClassName())}function o(e){var t;return e?(n(3).any(a,function(n,i){return n.test(e)?(t=i,!0):void 0}),t||"personal"):""}function s(){var e=this.getAttributesFromModel();this.set(e),this.markFieldsClean()}var a={bandpage:/\bbandpage\.com/i,bandcamp:/\bbandcamp\.com/i,bandsintown:/\bbandsintown\.com/i,beatport:/\bbeatport\.com/i,berklee:/\bberkleemusic\.com/i,ccmixter:/\bccmixter\.org/i,discogs:/\bdiscogs\.com/i,facebook:/\bfacebook\.com/i,flavors:/\bflavors.me/i,flickr:/\bflickr\.com/i,foursquare:/\bfoursquare\.com/i,freesound:/\bfreesound\.org/i,gigatools:/\bgigs\.gigatools\.com/i,google_plus:/\bplus\.google\.com/i,hypem:/\bhypem\.com/i,instagram:/\binstagram\.com/i,itunes_podcast:/\bitunes\.apple\.com/i,lastfm:/\b(last\.fm|lastfm\.[a-z]*)/i,mixcloud:/\bmixcloud\.com/i,myspace:/\bmyspace\.com/i,ning:/\bning\.com/i,pinterest:/\bpinterest\.com/i,purevolume:/\bpurevolume\.com/i,residentadvisor:/\bresidentadvisor\.net\/(profile|dj)/i,residentadvisorlabel:/\bresidentadvisor\.net\/record-label/i,reverbnation:/\breverbnation\.com/i,snapchat:/\bsnapchat\.com/i,songkick:/\bsongkick\.com/i,soundcloud:/\bsoundcloud\.com/i,spotify:/\bspotify\.com/i,thedjlist:/\bthedjlist.com/i,tumblr:/\btumblr\.com/i,twitter:/\btwitter\.com/i,vimeo:/\bvimeo\.com/i,vkontakte:/\bvk\.com/i,virb:/\bvirb\.com/i,whatpeopleplay:/\bwhatpeopleplay\.com/i,wordpress:/\bwordpress\.com/i,youtube:/\byoutube\.com/i,zeroinch:/\bzero-inch\.com/i,email:/@/};e.exports=n(77).extend({resource_type:"web-profile-form",_webProfile:null,fields:{icon:{defaultValue:""},url:{defaultValue:""},title:{defaultValue:""}},constraints:{url:[[n(1645),{message:n(48).t("This URL or email is invalid."),constraints:[[n(108),{maxLength:0}],[n(301),{strict:!1}],[n(346)]]}]]},setup:function(e,t){this._webProfile=new(n(614))(e,t),this.addSubmodel(this._webProfile),s.call(this),this.listenTo(this,"change:url",i).listenTo(this,"change:network",r)},removeWebProfile:function(){this.trigger("form:dirty"),this.destroy()},getAttributesFromModel:function(){var e=this._webProfile.getNetworkClassName();return n(3).assign(this.getWebProfile().pick("id","title","url","network"),{icon:e})},getWebProfile:function(){return this._webProfile},isEmpty:function(){var e=this,t=function(t){return e.get(t)};return!t("url")&&!t("title")}})},374:function(e,t,n){"use strict";e.exports=n(63).extend({resource_type:"liked-and-owned-playlist",submodelMap:{playlist:n(80)},setup:function(e){},isOwned:function(){return"playlist"===this.get("type")},isLiked:function(){return"playlist-like"===this.get("type")},isAlbum:function(){return this.getAudible().isAlbum()},createSubmodel:function(){var e=n(3).last(this._submodels);n(63).prototype.createSubmodel.apply(this,arguments);var t=n(3).last(this._submodels);t!==e&&this.listenTo(t,"destroy",this.onSubmodelDestroy)},onSubmodelDestroy:function(){this.destroy()},getAudible:function(){return n(80).instances.get(this.get("playlist").id)}},{hashFn:function(e){var t=e.type,n=e.user,i=e.playlist;return[t,n.id,i.id].join("_")},getModelData:function(e,t,n){return{type:t,created_at:(new Date).toISOString(),playlist:{id:n},user:{id:e}}}})},376:function(e,t,n){"use strict";e.exports=n(63).extend({submodelMap:{promoted_by:n(61),user:n(61)},urnPrefix:"soundcloud:users",hasDataForView:function(){return!0},getUser:function(){return n(61).instances.get(this.get("user").id)},parse:function(e){return e.origin&&(e.user=e.origin,delete e.origin),e.user&&(e.id=e.user.id),e},isPromoted:function(){return"promoted"===this.get("source")||"promoted"===this.get("campaign")}})},409:function(e,t,n){"use strict";e.exports=function(e){var t,i;return t=n(3).defaults(e.hash,{href:null,className:null,label:null,type:null}),i='<<%-tag%> class="<%-className%>"'+(t.href?' href="<%-href%>" target="blank"':"")+"><%-label%></<%-tag%>>",new(n(20).SafeString)(n(3).template(i)({tag:t.href?"a":"span",className:("sc-label sc-label-small sc-label-"+t.type+" "+t.className).trim(),label:t.label,href:t.href}))}},410:function(e,t,n){"use strict";e.exports=function(e){var t=n(48).t("Private",null,{comment:"This is a track label. If track is private it has small tag `Private`"}),i=n(3).defaults({type:"private",label:t},e.hash);return n(409)({hash:i})}},422:function(e,t,n){"use strict";e.exports=n(2620)()?Set:n(2623)},427:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-fluid-fixed">\n  <div class="sc-border-light-right l-main">\n    <div class="l-tabs">\n\n    </div>\n    <div class="l-content">\n\n    </div>\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},449:function(e,t){var n={"'":/[\u042C\u044C]/gi,"":/[\u042a\u044a]/gi,a:/[\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250\u0410\u0430]/gi,aa:/[\uA733]/gi,ae:/[\u00E6\u01FD\u01E3]/gi,ao:/[\uA735]/gi,au:/[\uA737]/gi,av:/[\uA739\uA73B]/gi,ay:/[\uA73D]/gi,b:/[\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253\u0411\u0431]/gi,c:/[\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/gi,ch:/[\u0427\u0447]/gi,d:/[\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u0414\u0434]/gi,dz:/[\u01F3\u01C6]/gi,e:/[\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD\u0415\u042D]/gi,f:/[\u24D5\uFF46\u1E1F\u0192\uA77C\u0424\u0444]/gi,g:/[\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F\u0413\u0433]/gi,h:/[\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/gi,hv:/[\u0195]/gi,i:/[\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131\u0418\u0438]/gi,j:/[\u24D9\uFF4A\u0135\u01F0\u0249]/gi,k:/[\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3\u041A\u043A]/gi,kh:/[\u0425\u0445]/gi,
l:/[\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747\u041B\u043B]/gi,lj:/[\u01C9]/gi,m:/[\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F\u041C\u043C]/gi,n:/[\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u041D\u043D]/gi,nj:/[\u01CC]/gi,o:/[\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275\u041E\u043E]/gi,oi:/[\u01A3]/gi,ou:/[\u0223]/gi,oo:/[\uA74F]/gi,p:/[\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755\u041F\u043F]/gi,q:/[\u24E0\uFF51\u024B\uA757\uA759]/gi,r:/[\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783\u0420\u0440]/gi,s:/[\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F\u0421\u0441]/gi,shch:/[\u0429\u0449]/gi,sh:/[\u0428\u0448]/gi,t:/[\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787\u0422\u0442]/gi,ts:/[\u0426\u0446]/gi,tz:/[\uA729]/gi,u:/[\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289\u0423\u0443]/gi,v:/[\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C\u0412\u0432]/gi,vy:/[\uA761]/gi,w:/[\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/gi,x:/[\u24E7\uFF58\u1E8B\u1E8D]/gi,y:/[\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF\u0419\u0439\u042B\u044B]/gi,ya:/[\u042F\u044F]/gi,yo:/[\u0401\u0451]/gi,yu:/[\u042E\u044E]/gi,z:/[\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763\u0417\u0437]/gi,zh:/[\u0416\u0436]/gi},i=/^\[|\]$/g,r=new RegExp("["+Object.keys(n).reduce(function(e,t){return e+n[t].source.replace(i,"")},"")+"]","i");e.exports=function(e){if(r.test(e))for(var t in n)n[t].lastIndex=0,n[t].test(e)&&(e=e.replace(n[t],t));return e.toLowerCase()}},450:function(e,t,n){"use strict";function i(e,t){var n=o({},P,t),r=n.links,D=n.userLinks,M=n.internalLinks,I=n.externalLinks,R=n.deepLinks,O=n.escapeExpression,L=n.hashtagLinks,F=n.internalLinksBaseUrl,N=n.isOpeningNewWindow,B=n.maxExternalLinksLength,U=n.maxLength,z=n.paragraphs,j=n.redirectorPattern,$=n.splitWordsAtLength,H=n.whitelist,q=O!==!1;if("string"!=typeof e)return"";r?D||M||I||(r=!1):D=M=I=!1;var W=r?c():{},V=W.flatten,Y=W.addPlaceholder;return h.lastIndex=m.lastIndex=g.lastIndex=0,e=s(e),r&&(e=e.replace(A,function(e,t,n,i){var r=n||t;return Y(r,i!==r?i:null)}).replace(h,function(e,t){return Y(t)})),e=e.replace(x,"\n\n").replace(k,"\n").replace(T," "),e=H&&H.length?e.replace(new RegExp("<(?!\\s*\\/?("+H.join("|")+")\\b)[^>]*>","ig"),""):e.replace(S,""),q&&(e=a(e)),r&&(e=e.replace(g,'<a href="mailto:$1">$1</a>'),e=V(e,function(e,t){var r={},s="",u=b.test(e)?e:"http://"+e;if(0===e.indexOf("mailto:"))r.href=e,r.text=e.replace("mailto:","");else if(M&&_.test(e))r.href=e.replace(_,F),r.text=e.replace(b,"");else if(I){var c=y.test(u);r.href=c?u:l(j,u,y),c||(r.title=u,r.rel="nofollow"),r.text=p(e,B,b),r.target="_blank"}else r.href=e;return t&&(q?s=i(t,o({},n,{paragraphs:!1,splitWordsAtLength:0})).trim()+(/[!?:;.]$/.test(t)?" ":": "):r.text=t),s+(r.text?'<a href="'+a(r.href)+'"'+(r.rel?' rel="'+r.rel+'"':"")+(r.target?' target="'+r.target+'"':"")+(r.title?' title="'+a(r.title)+'"':"")+(">"+(q?a(r.text):r.text)+"</a>"):a(r.href))}),D&&(e=e.replace(m,'$1@<a href="'+F+'$2"'+(N?' target="_blank"':"")+">$2</a>")),L&&(e=e.replace(v,'$1<a href="/tags/$3">$2</a>')),R&&(e=e.replace(f,'<a href="#t=$1">$1</a>'))),U&&(e=u(e,U)),$>0&&(e=d(e,$)),e=z?e.split(w).map(function(e){return"<p>"+e.trim().replace(E,"<br>")+"</p>"}).join(""):e.replace(C," ").replace(T," ")}function r(e,t){var n=t&&t.redirectorPattern;return n?l(n,e,y):e}var o=n(1539),s=n(1540),a=n(1541),l=n(1542),u=n(1543),c=n(1544),d=n(1545),p=n(1546);e.exports=i;var h=/\b((?:https?:\/\/|www\d{0,3}\.|(?:[a-z0-9\-]+\.)+[a-z]{2,4}\/)[^\s'’"]*[^\s`!()\[\]{};:'".,<>?«»“”‘’])/gi,f=/(\b(?:[0-5]?[0-9])(?::[0-5][0-9]){1,2}\b)/g,g=/([a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,24})/gi,m=/(\s|[^\w]|^)@([\w\-]+)/g,v=/( |^)(#([\w-]+))/gm,_=/^((?:https?:\/\/)?(?:www\.|m\.)?soundcloud\.(?:com|dev))\/?|^\//i,y=/^((?:https?:\/\/)?([a-z0-9-]+\.)*soundcloud\.(?:com|dev))(?:\/|$)/i,b=/^(?:ht|f)tps?:\/\//i,w=/(?:[ \t]*\r?\n[ \t]*){2,}/,x=/<\/p>/g,k=/<br\s*\/?>/g,S=/<\/?[a-z].*?>/gi,E=/\r?\n/g,T=/[ \t]{2,}/g,C=/[\r\n]+/g,A=/<a\s+[^>]*?href=(['"]([^'"\s]+)['"]|[^'"\s]+)[^>]*?>(.+?)<\/a>/gi,P={paragraphs:!0,links:!0,externalLinks:!0,internalLinks:!0,userLinks:!0,deepLinks:!1,whitelist:[],internalLinksBaseUrl:"/",isOpeningNewWindow:!1,maxLength:null,truncateExternalLinks:!0,maxExternalLinksLength:50,hashtagLinks:!0,splitWordsAtLength:null,redirectorPattern:null};i.redirectLink=r,i.withDefaults=function(e){var t=o({},P,e),n=function(e,n){var r=n?o({},t,n):t;return i(e,r)};return n.redirectLink=function(e,n){var i=n?o({},t,n):t;return r(e,i)},n}},451:function(e,t,n){"use strict";function i(){var e=new(n(73))({id:this.options.resource_id,resource_type:this.options.resource_type});return e.release(),e.get("secret_token")}e.exports=n(1236).extend({defaults:{type:null,resource_id:null,resource_type:null},actionName:function(){return"likers"===this.options.type?"like":"repost"},setup:function(){this.options.secret_token=i.call(this),n(1236).prototype.setup.apply(this,arguments)},baseUrl:function(){var e=this.options,t=e.resource_type,n=e.resource_id,i=e.type,r={id:n,category:i};return"sound"===t&&"likers"===i?this.getEndpointUrl("trackCategory",r):"sound"===t&&"reposters"===i?this.getEndpointUrl("soundReposters",r):"likers"===i?this.getEndpointUrl("playlistCategory",r):this.getEndpointUrl("edgePlaylistCategory",r)}},{hashFn:function(e,t){return t?t.resource_id+"_"+t.type+"_"+t.resource_type:null}})},452:function(e,t,n){"use strict";function i(e){var t=e.target,i=this.find(function(e){return e.get("track_id")===t});i&&this.remove(i);var r=new(n(607))({track_id:t,played_at:Date.now()});r.release(),this.add(r,{at:0})}function r(){this.reset([])}var o=e.exports=n(69).extend(n(126),{getSourceInfo:function(){return{type:"history"}},model:n(607),baseUrl:function(){return this.getEndpointUrl("playHistoryTracks")},setup:function(){this.listenTo(n(71),"addToPlayHistory",i),this.listenTo(n(71),"clearPlayHistory",r)},audibleAt:function(e){var t=this.at(e);return t&&t.sound}},{hashFn:function(){return 1}});n(353).applyTo(o,{fields:["track.title","track.genre","track.user.username"],mixins:[n(126)]})},453:function(e,t,n){"use strict";function i(e){e.length>0&&n(54).trigger("new-unread-messages",e)}function r(e){var t;e.forEach(function(e){t=n(158).instances.get(e),t&&t.setRead(!0)})}function o(){var e=n(123)[this.notificationType];return{backoffRate:1.1,baseDelay:e.get("minPollInterval"),maxDelay:e.get("maxPollInterval")}}function s(){this._breaker&&this.restart()}function a(){this.trigger("anyUnreadMessages",this.hasAnyUnreadMessages())}function l(e){this.remove(e),a.call(this)}function u(e){var t=n(158).instances.get(e);t&&this.add(t),a.call(this)}e.exports=n(69).extend({model:n(158),notificationType:"unreadConversations",defaults:{limit:20},setup:function(){this.listenTo(n(123)[this.notificationType],"pollIntervalChange",s).listenTo(n(54),"conversation:read",l).listenTo(n(54),"conversation:unread",u)},baseUrl:function(){return n(123)[this.notificationType].get("baseUrl")()},startPolling:function(){var e=this;this._isPolling||!function(){var t=e._breaker=new(n(144))(o.call(e)),i=function(){e._isPolling&&(window.clearTimeout(e._pollingId),e.fetch({reset:!0,remove:!0}).done(function(){t.succeeded(),e._pollingId=window.setTimeout(i,t.currentDelay())}).fail(function(e){e.status>=400&&e.status<500?t.disable({autoEnable:!1}):t.failed()}))};e._isPolling=!0,e._breaker.on("enabled",i),i()}()},stopPolling:function(){this._isPolling&&(window.clearTimeout(this._pollingId),this._breaker.dispose(),this._isPolling=!1,this._pollingId=this._breaker=null)},restart:function(){this.stopPolling(),this.startPolling()},parse:function(){return this.next_href=null,n(69).prototype.parse.apply(this,arguments)},reset:function(e,t){var o,s,l,u;t=t||{},o=n(69).prototype.reset.call(this,e,t),l=n(3).pluck(o,"id"),s=n(3).difference(t.previousModels,this.models),u=n(3).pluck(s,"id"),i(l),r.call(this,u),a.call(this)},hasAnyUnreadMessages:function(){return this.length>0}},{hashFn:function(){return 1},onCleanup:function(e){e.stopPolling()},neverRelease:!0})},454:function(e,t,n){"use strict";function i(e,t){t&&n(3).chain(this.where({primary:!0})).without(e).invoke("set",{primary:!1})}var r=n(467).isSoundCloudMail;e.exports=n(153).extend({model:n(606),defaults:{type:"emails"},setup:function(e){n(153).prototype.setup.call(this,e),this.on("change:primary",i)},baseUrl:function(){return this.getEndpointUrl("userEmails",{id:this.options.userId})},comparator:function(e){return!e.get("primary")},parse:function(e){return n(3).reject(e.collection,function(e){return r(e.address)})}})},455:function(e,t,n){"use strict";function i(e){var t=e.state,n=e.origin,i=void 0;t&&this.shouldAddFromActions?this.add({id:n},{at:0}):!t&&(i=this.get(n))&&this.remove(i)}var r=[{emitter:n(71),event:"follow",getInstance:function(e,t){var n=t.target;return e.options.userId===n},handler:i}];e.exports=n(153).extend(n(191).withOptions({events:r}),{model:n(61),defaults:{limit:7,type:"followers"},shouldAddFromActions:!0,baseUrl:function(){return this.getEndpointUrl("userFollowers",{id:this.options.userId})}})},456:function(e,t,n){"use strict";e.exports=n(69).extend({model:n(614),defaults:{type:"web-profiles"},url:function(){return this.getEndpointUrl("userWebProfiles",{urn:n(88).generate("user",this.options.userId)})},parse:function(e){return e.forEach(function(e){var t=e.url,n=e.network,i=e.title;e.id=t+"_"+n+"_"+i}),e},getProfileByName:function(e){return this.find(function(t){return t.get("network")===e})}},{hashFn:function(e,t){return t.userId}})},460:function(e,t,n){"use strict";e.exports=n(77).extend(n(238).withOptions({read:"artwork_url"}),n(354),{resource_type:"multi-track-artwork",fields:{artwork_url:{defaultValue:""}},setup:function(){var e=this;this.on("imageDataChanged",function(t){t.file&&e.markFieldsDirty("artwork_url")}).on("canceled",this.unsetImageFile.bind(this,{force:!0})).on("allSaved",this.unsetImageFile.bind(this,{force:!0}))},saveSound:function(e){var t=this.getImageFileInfo(),i={sound:e,isSuccess:!1};return t.file?(e.setImageFile(t.file,t.source),e.uploadImage().then(function(){return{sound:e,isSuccess:!0}},function(){return i})):n(53).reject(i)},getAttributesFromModels:function(){return null},getAttributesToBeSaved:function(){return{}}})},461:function(e,t,n){"use strict";function i(){var e=this;this.validate().then(function(t){return t?(e.set("editing",!1),e.saveEdits()):n(53).reject()})}function r(){this.isDirty()||this.setToModelAttributes()}function o(e){this.getAudible().set(e),this.trigger("saved")}function s(e){this.set({errorMessage:this.getErrorMessageTemplate("save",this.getAudible().get("kind"),this.extractErrorMessage(e))})}e.exports=n(77).extend(n(562),n(204),{resource_type:"restricted-audible-edit",requiredModelAttributes:["description","purchase_title","purchase_url"],actions:{"default":"save",save:function(){return i.call(this)},cancel:function(){this.cancel()},retry:function(){return i.call(this)}},fields:{buyLink:{defaultValue:""},buyTitle:{defaultValue:"Buy"},description:{defaultValue:""}},buttons:{save:{label:n(48).t("Save changes"),pendingLabel:n(48).t("Saving"),action:"save"},cancel:{label:n(48).t("Cancel"),action:"cancel"},retry:{label:n(48).t("Retry"),action:"retry"}},constraints:{buyLink:[[n(301),{strict:!1}]],buyTitle:[[n(542)]],description:[[n(108),{maxLength:4e3,message:n(48).t("Playlist description must not exceed 4000 characters")}]]},constraintConditions:{buyTitle:{fields:[],check:function(){return n(52).get("me").getPerk("customBuyTitle")}}},setup:function(e,t){var i=t.resource_id,o=t.resource_type;this._audible="restricted-playlist-edit"===o?new(n(80))({id:i}):new(n(64))({id:i});var s=this.requiredModelAttributes.map(function(e){return"change:"+e});this.listenTo(this._audible,s.join(" "),r),this._audible.attrExists(this.requiredModelAttributes)?this.setToModelAttributes():this._audible.fetch({attrs:this.requiredModelAttributes}).fail(function(){return n(119).raise({fatal:!0})})},saveEdits:function(){var e=this.getAudible(),t=this.getAttributesToBeSaved(),i="restricted-playlist-edit"===this.options.resource_type,r=i?{id:e.id}:{urn:e.get("urn")},a=i?{playlist:t}:{track:t},l=i?"feedPlaylistUpdate":"feedTrackUpdate";return n(23).callEndpoint(l,r,null,null,a).then(o.bind(this,t),s.bind(this))},getAudible:function(){return this._audible},getAttributesFromModel:function(){var e=this.getAudible();return{buyLink:e.get("purchase_url"),buyTitle:e.get("purchase_title")||this.getFieldMetadata("buyTitle").defaultValue,description:e.get("description")}},getAttributesToBeSaved:function(){var e=this.get("buyLink");return{purchase_url:e?n(62).normalize(e):"",purchase_title:this.get("buyTitle")||"",description:this.get("description")||""}},cancel:function(){this.set("errorMessage",""),this.markFieldsClean(),this.trigger("canceled")},saveCleanup:function(e){this.markFieldsClean()}},{hashFn:function(e,t){return e.resource_id||t&&t.resource_id||e.id||null}})},462:function(e,t,n){"use strict";function i(){var e="check_identifier_recaptcha";return this.getValidFieldValues(["identifier",e]).then(n(241).checkIdentifier).then(s(this,e))}function r(){var e="signin_with_password_recaptcha";return this.getValidFieldValues(["identifier","password",e]).then(n(241).signinWithPassword).then(s(this,e))}function o(){var e="signup_with_email_recaptcha";return this.getValidFieldValues(["identifier","password","age",e,"accept_terms"]).then(n(241).signupWithEmail).then(s(this,e))}function s(e,t){arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return function(i){return i.error===w?(e.toggleRecaptcha(t,!0),n(53).reject()):i}}function a(){return this.getValidFieldValues(["accept_terms"]).then(v).then(n(241).signupWithFacebook)}function l(){return this.getValidFieldValues(["accept_terms"]).then(y).then(n(241).signupWithGoogle)}function u(){return v().then(n(241).signinWithFacebook)}function c(){return y().then(n(241).signinWithGoogle)}function d(){var e=this;return this.getValidFieldValues(["username"]).then(function(t){var i=e.get("gender"),r=e.get("genderCustom"),o=n(52).get("me"),s={username:t,gender:"custom"===i?r:i};return o&&o.set(s),n(53).mapEither(h,b("meUpdate",null,null,null,s))})}function p(){return this.getValidFieldValues(["identifier"]).then(function(e){return n(53).mapEither(h,b("resetPassword",null,{email:e}))})}function h(e){return n(53).resolve(e.body||{})}var f=n(3).assign,g=n(3).mapObject,m=n(115).loadFacebookSDK,v=n(115).getFacebookToken,_=n(212).loadGoogleAuthSDK,y=n(212).getGoogleToken,b=n(23).callEndpoint,w=n(118).RECAPTCHA_REQUIRED,x=["check_identifier_recaptcha","signup_with_email_recaptcha","signin_with_password_recaptcha"];e.exports=n(77).extend(n(472),n(1288).withOptions({recaptchas:x}),{resource_type:"signin-form",fields:g({identifier:"",password:"",age:null,accept_terms:!1,username:"",reset_password_addresses:null},function(e){return{defaultValue:e}}),constraints:{identifier:[[n(67),{message:n(48).t("Enter a valid email address or profile URL.")}]],password:[[n(67),{message:n(48).t("Enter a password.")}],[n(1269),{minLength:6,message:n(48).t("Use at least [[minLength]] characters.")}]],age:[[n(67),{message:n(48).t("Enter your age.")}],[n(1271),{minValue:13,message:n(48).t("You must be at least [[minValue]] years old.")}]],accept_terms:[[n(183),{value:!0,message:n(48).t("Accept the terms before continuing.")}]],username:[[n(67),{message:n(48).t("Enter your display name. You can change it later.")}],[n(108),{maxLength:50,message:n(48).t("Enter a display name that is up to [[maxLength]] characters.")}]]},buttons:g({checkIdentifier:{label:n(48).t("Continue")},signinWithPassword:{label:n(48).t("Sign in")},signupWithEmail:{label:n(48).t("Continue")},signupWithGoogle:{label:n(48).t("Get started")},signupWithFacebook:{label:n(48).t("Get started")},addUserInformation:{label:n(48).t("Get started")},promptPasswordReset:{label:n(48).t("Request a password reset")}},function(e,t){return f(e,{action:t})}),actions:{checkIdentifier:i,signinWithGoogle:c,signinWithFacebook:u,signinWithPassword:r,signupWithEmail:o,signupWithGoogle:l,signupWithFacebook:a,addUserInformation:d,promptPasswordReset:p},setup:function(){m(),_(),this.toggleRecaptcha("signup_with_email_recaptcha",!0)}})},488:function(e,t,n){"use strict";e.exports=n(63).extend({submodelMap:{comment:n(107),playlist:n(80),promoted_by:n(61),track:n(64),user:n(61)},baseUrl:function(){var e={cursor:this.get("uuid"),limit:1};return this.getEndpointUrl("myActivitiesTracks",{},e)},parse:function(e){return e.collection?e.collection[0]:e},createSubmodel:function(){var e,t=n(3).last(this._submodels);n(63).prototype.createSubmodel.apply(this,arguments),e=n(3).last(this._submodels),e!==t&&this.listenTo(e,"destroy",this.onSubmodelDestroy)},onSubmodelDestroy:function(){this.destroy()},getSound:function(){var e,t;switch(this.get("type")){case"track":case"track-like":case"track-repost":case"track-sharing":case"track-promoted":e=this.get("track").id,t=n(64);break;case"comment":e=this.get("comment").track.id,t=n(64);break;case"playlist":case"playlist-like":case"playlist-repost":case"playlist-sharing":case"playlist-promoted":e=this.get("playlist").id,t=n(80)}return e?t.instances.get(e):null},equivalentTo:function(e){return this.get("uuid")===e.get("uuid")},getUuid:function(){return this.get("uuid")||this.id},isPromoted:function(){var e=this.get("type");return"track-promoted"===e||"playlist-promoted"===e}},{convert:function(e,t){var i,r,o,s={};if(r=(e.get||function(e){return this[e]}).bind(e),r("type")&&r("created_at")&&(r("track")||r("playlist"))&&(i={uuid:n(3).uniqueId(),type:r("type").replace(/_/g,"-"),created_at:r("created_at"),tags:"affiliated"},o=r("track"),o?i.track=o:i.playlist=r("playlist"),t))try{s=t.toJSON()}finally{i.user=s}return i},hashFn:function(){return null}})},489:function(e,t,n){"use strict";e.exports=n(240).extend({readEndpoint:"myFollowingsIds",createEndpoint:"myFollowingsCreate",deleteEndpoint:"myFollowingsDelete"})},490:function(e,t,n){"use strict";function i(e){var t=e.kind,i=e.station,r=e.playlist,o=e.user;switch(t){case"station":return new(n(125))(i);case"playlist":return new(n(80))(r);case"user":return new(n(61))(o);default:return null}}e.exports=n(63).extend({resource_type:"historicalPlayContext",submodelMap:{playlist:n(80),station:n(125),user:n(61)},setup:function(e){this.contextModel=i(e),this.contextModel&&this.addSubmodel(this.contextModel)},getContextId:function(){var e=this.get("context_urn"),t=n(88).toComponents(e),i=t.id;switch(this.get("kind")){case"station":return e;case"user":case"playlist":return i}}},{hashFn:function(e){var t=e.id,n=e.resource_id,i=e.context_urn;return t||n||i}})},491:function(e,t,n){"use strict";e.exports=n(63).extend({resource_type:"like",submodelMap:{track:n(64),playlist:n(80)},url:null,setup:function(e){},getAudible:function(){var e=void 0,t=void 0;return(e=this.get("track"))?(t=n(64).instances.get(e.id),t||window.console.error("Could not find sound with id "+e.id,e)):(e=this.get("playlist"))?(t=n(80).instances.get(e.id),t||window.console.error("Could not find playlist with id "+e.id,e)):window.console.error("No track or playlist data found",this.attributes),t},isPlaylist:function(){return!this.get("track")},isSound:function(){return!!this.get("track")}},{hashFn:function(e){return e.id||[e.user_id,e.track?"s":"p",(e.track||e.playlist).id].join("_")},getLikeModelData:function(e,t,n){var i={user_id:e,created_at:(new Date).toISOString(),kind:"like"};return"sound"===t?(i.track={id:n},i.playlist=null):(i.playlist={id:n},i.track=null),i}})},513:function(e,t){"use strict";var n="https://exit.sc?url=%s";e.exports={oneline:{paragraphs:!1,whitelist:[],externalLinks:!1},"default":{redirectorPattern:n}}},515:function(e,t){"use strict";var n=Object.prototype.toString,i=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===i}},516:function(e,t,n){"use strict";e.exports=n(1447)()?Object.setPrototypeOf:n(1448)},517:function(e,t){"use strict";var n=Object.prototype.toString,i=n.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===i)||!1}},518:function(e,t,n){e.exports=n.p+"assets/images/close-modal-dark-6aac3b9.svg"},526:function(e,t,n){function i(e,t,n){function i(){be&&(L()?(me("Init in single connection mode",ge),he&&R(),re(),ie()?(me("Attaching to already existing connection",ne()),U()):(me("Becoming connection owner"),X(),z())):(me("Init in plain mode"),z()))}function s(){if(!be){var e=15e3*Math.random();me("Reconnecting"),be=!0,we=g.setTimeout(function(){i(),J("meta",{connected:be})},e)}}function c(){be&&(me("Disconnecting"),be=!1,g.clearTimeout(we),P(),J("meta",{connected:be}))}function T(){D(),S=null}function A(){P(),i()}function P(){M(!1)}function D(){M(!0)}function M(e){me("Disposing instance: unregistering window events & clearing timeouts"),q(),g.clearTimeout(_e),F()?(me("Closing connection"),ve.dispose(),ve=null,L()&&(me("Clearing single connection lock if it is mine"),Z(),e&&(me("Broadcasting dispose event"),J(b,null)))):re()}function I(){he&&ke.on(y,function(e){e===f.actions.HEARTBEAT&&R()})}function R(){g.clearTimeout(_e),_e=g.setTimeout(O,he)}function O(){me("Heartbeat timed out. Will cleanup lock & re-init..."),ee(),A()}function L(){return!xe}function F(){return!!ve}function N(){return F()&&L()}function B(){return!F()&&L()}function U(){p.on(_,function(e){ke.trigger(_,e)}).on(y,function(e){ke.trigger(y,e)}).on(b,function(){window.setTimeout(i,200*Math.random())})}function z(){if(ve)throw new Error("Can't initialize client twice");ve=new l({eventUrl:t,withCredentials:ae,log:me,json:le}),ve.on(v,j).on(_,Q).on(m,$),H(),L()&&p.on(w,function(e){V(e)}).on(x,function(e){Y(e)})}function j(e){me("Handling SSE open (first bit of event stream received)"),K(v,ve.getEventSourceReadyState())}function $(e){me.error("Handling SSE error"),K(m,e)}function H(){g.onbeforeunload&&(ye=g.onbeforeunload),g.onbeforeunload=W,ce&&(g.SCBananaBus=ke)}function q(){g.onbeforeunload=ye,ye=null,ce&&delete g.SCBananaBus}function W(){ye&&ye(),T()}function V(t){if("object"!=typeof t)throw new Error("BananaBus: can only publish Object-payload");B()?J(w,t):te()?(me("Sending payload to publish endpoint:",t),r(e,t,de)):(me.warn("Attempting to publish when not parent. Owner is %s. Giving up SSE connection.",ne()),A())}function Y(e){B()?J(x,e):V(G(e))}function G(e){return C(e)?f.createMessage(pe):void me("Can not generate payload for unknown event type:",e)}function Q(e){if(!te())return me.warn("Received SSE event while not owner. Owner is %s. Giving up SSE connection.",ne()),void A();var t=f.parseAction(e);me("Handling SSE message"),K(_,e),t&&K(y,t)}function K(e,t){ke.trigger(e,t),N()&&J(e,t)}function J(e,t){me.info("broadcasting",e,t),p.broadcast(e,t)}function X(){h.set(E,ge)}function Z(){te()&&ee()}function ee(){h.remove(E)}function te(){return ne()===ge}function ne(){return h.get(E)}function ie(){return!!ne()}function re(){p.off(w+" "+x+" "+_+" "+y+" "+b)}function oe(){p.on("meta",function(e){e.connected===!0?s():e.connected===!1&&c()})}if(!e||!t)throw new Error("Need a publish & event endpoint URL");var se=a({},k,n),ae=se.withCredentials,le=se.json,ue=se.singleConnection,ce=se.debug,de=se.authorization,pe=se.registrationId,he=se.heartbeatTimeoutMs,fe=se.connected,ge=Math.random().toString(16).substr(2),me=u({enabled:ce,buffer:!0,label:"trinity"}),ve=void 0,_e=void 0,ye=void 0,be=!!fe,we=void 0,xe=!ue||!o(),ke=a({},d,{publish:V,publishEvent:Y,dispose:T,disconnect:c,reconnect:s});return i(),ce&&ke.on(v,me.info.bind(null,"Connection open")).on(y,me.info.bind(null,"Received action")).on(m,me.error.bind(me,"Error")),I(),oe(),ke}function r(e,t,n){return s({url:e,data:JSON.stringify(t),type:"POST",dataType:"text",beforeSend:function(e){n&&e.setRequestHeader("Authorization","OAuth "+n)}})}function o(){try{var e=g.localStorage,t=Date.now();if(e.getItem)return e.setItem(t,t),e.removeItem(t),!0}catch(n){}return!1}n(2629);var s=n(1513),a=n(1158),l=n(1516),u=n(527),c=n(1225),d=n(25),p=n(1514),h=n(1486),f=n(1515),g=window,m=c.ERROR,v=c.OPEN,_=c.DATA,y=c.ACTION,b=c.DISPOSE,w=c.PUBLISH,x=c.PUBLISH_EVENT,k={withCredentials:!1,json:!1,singleConnection:!0,debug:!1,authorization:null,registrationId:void 0,heartbeatTimeoutMs:null,connected:!0},S=void 0,E="trinity-owner";e.exports={SCMessages:f,Events:c,getInstance:function(e,t,n){return S||(S=i(e,t,n))}};var T=function(e){return Object.keys(e).map(function(t){return e[t]})},C=function(e){return function(t){return e.indexOf(t)>-1}}(T(f.events))},527:function(e,t){"use strict";function n(){function e(e,n){if(h){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;i>o;o++)r[o-2]=arguments[o];"string"==typeof n?n=" "+n:(r.unshift(n),n="");var s=[t()+" | "+T+(k?"%c":"")+n].concat(C,r);m?E.push({level:e,logArgs:s})>x&&E.shift():p[e].apply(p,s)}}function t(){var e=new Date,t=null===S?0:e-S,n=k?"%c":"";return S=+e,n+i(e)+(n+" ("+n)+r("+"+t+"ms"," ",8)+(n+")")}function n(e){return e.enable=function(){h=!0},e.disable=function(){h=!1},e.bufferOn=function(){m=!0},e.bufferOff=function(){m=!1,E.length=0},e.flush=u()?function(){E.forEach(function(e){var t=e.level,n=e.logArgs;p[t].apply(p,n)}),E.length=0}:function(){},e}var o=c.apply(void 0,arguments),s=o.enabled,h=void 0===s?!0:s,g=o.buffer,m=void 0===g?!1:g,v=o.label,_=void 0===v?"":v,y=o.plainOutput,b=void 0===y?!1:y,w=o.bufferSize,x=void 0===w?1e3:w;if(!u())return n(d.reduce(function(e,t){return e[t]=e},function(){}));p.CL||(p.CL={_cssCounter:0});var k=!b&&l(),S=null,E=[],T=a(_,k),C=k?["color: green","color: grey","color: blue","color: grey",f(_),""]:[],A=p.CL[_]=n(d.reduce(function(t,n){return t[n]=e.bind(null,n),t},e.bind(null,"log")));return A}function i(e){return o(e.getHours())+":"+o(e.getMinutes())+":"+o(e.getSeconds())+"."+r(e.getMilliseconds(),"0",3)}function r(e,t,n){return s(t,n-(""+e).length)+e}function o(e){return r(e,"0",2)}function s(e,t){return t>0?new Array(t+1).join(e):""}function a(e,t){return(t?"%c":"")+(e?e:"")}function l(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent;return/chrome|firefox|opr/i.test(e)&&!/msie|edge/i.test(e)}function u(){return p&&d.every(function(e){return"function"==typeof p[e]})}function c(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return"object"==typeof e&&e||{enabled:e,label:t}}e.exports=n;var d=["log","info","warn","error"],p="undefined"!=typeof console?console:null,h=["color:#fff","border-radius:3px","padding:2px 4px","font-family:sans-serif","text-transform:uppercase","font-size:9px"].join(";")+";",f=function(){var e=["#51613C","#447848","#486E5F","#787444","#6E664E"];return function(t){return t?"background:"+e[p.CL._cssCounter++%e.length]+";"+h:""}}()},528:function(e,t,n){!function(t,i){e.exports=i(n(161))}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return e.call(this,"Cast context was not provided.")||this}return i(t,e),t.prototype.getCode=function(){return"CHROMECAST.NO_CAST_CONTEXT"},t}(r.errors.NotSupportedError);t.NoCastContextError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return e.call(this,"Chromecast sdk missing.")||this}return i(t,e),t.prototype.getCode=function(){return"CHROMECAST.SDK_MISSING"},t}(r.errors.NotSupportedError);t.SDKMissingError=o},function(e,t,n){"use strict";function i(e){return"function"==typeof e.then}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(5),a=n(1),l="maestro.chromecast",u=function(e){function t(t,n){var r=e.call(this,n)||this;if(r._descriptor=t,r._playerDependencies=n,r._logger=o.logger.prefixLogger(r._logger,"ChromecastPlayer"),t.getProtocol().name!==l)return r._triggerError(new o.errors.NotSupportedError),r;if(i(n.castContext)){var s=n.castContext;r._logger.debug("Waiting for cast context promise to resolve with context."),s.then(function(e){r._whenCastContextReceived(e)}),"function"==typeof s["catch"]&&s["catch"](function(e){r._logger.error("Cast context promise rejected.",e),r._triggerError(new a.NoCastContextError)})}else r._whenCastContextReceived(n.castContext);return r}return r(t,e),t.prototype._handleFatalError=function(e){this._triggerError(e)},t.prototype._whenCastContextReceived=function(e){this.isDead()?this._logger.debug("Got cast context but ignoring because player is dead."):(this._logger.debug("Got cast context."),this._providePlayer(new s.ChromecastPlayerImpl(this._descriptor,this._playerDependencies,e),{syncPosition:!1,syncVolume:!1}))},t}(o.ProxyPlayerBase);t.ChromecastPlayer=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(2),o=n(1);!function(e){e.SDKMissingError=r.SDKMissingError,e.NoCastContextError=o.NoCastContextError}(i=t.errors||(t.errors={}))},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(2),s=function(e){function t(t,n,i){var s=e.call(this,n)||this;return s._volumeOverride=null,s._mutedOverride=null,s._playPauseRequestInProgress=!1,s._lastKnownPosition=0,s._hadStateUpdate=!0,s._changeTimeout=null,s._playPauseWaiting=!1,s._seekWaiting=!1,s._seekHandle=null,s._anyChangeHandler=s._anyChangeHandler.bind(s),"chrome"in window&&"cast"in window.chrome&&"cast"in window?(s._chromeCastLib=window.chrome.cast,s._castLib=window.cast,s._logger=r.logger.prefixLogger(s._logger,"ChromecastPlayerImpl"),s._castContext=i,
s._contentId=t.getUrl(),s._remotePlayer=new s._castLib.framework.RemotePlayer,s._remotePlayerController=new s._castLib.framework.RemotePlayerController(s._remotePlayer),s._refresh(),s._addListeners(!0),s):(s._logger.error("Chromecast SDK missing."),s._triggerError(new o.SDKMissingError),s)}return i(t,e),t.prototype.getVolume=function(){return null!==this._volumeOverride?this._volumeOverride:this._remotePlayer.volumeLevel},t.prototype.getMuted=function(){return null!==this._mutedOverride?this._mutedOverride:this._remotePlayer.isMuted},t.prototype.setMuted=function(e){var t=this;if(!this.isDead()){var n=this._getCastSession();n&&(this._mutedOverride=e,n.setMute(e)["catch"](function(e){t._logger.warn("Error setting mute.",e)}).then(function(){t._mutedOverride=null}))}},t.prototype.getBufferedTimeRanges=function(){var e=this.getDuration();return null===e?[]:[new r.TimeRange(0,e)]},t.prototype.getMaxBufferLength=function(){return null},t.prototype._setVolume=function(e){var t=this;if(!this.isDead()){var n=this._getCastSession();n&&(this._volumeOverride=e,n.setVolume(e)["catch"](function(e){t._logger.warn("Error setting volume.",e)}).then(function(){t._volumeOverride=null}))}},t.prototype._handlePlayPauseChange=function(e){var t=this;this._playPauseRequestInProgress=!0;var n=this._getMediaSession();n&&this.isReady()?e?(this._logger.debug("Requesting play on chromecast."),this._performSeek(n,1e3*this._remotePlayer.currentTime+1),n.play(null,function(){t._hadStateUpdate=!1,t._playPauseRequestInProgress=!1,t._logger.debug("Play request completed on chromecast.")},function(e){t._playPauseRequestInProgress=!1,t._logger.warn("Play request failed.",e),t.isDead()||t.isActuallyPlaying()||t._notifyPlayRejection(new Error("Error from chromecast: "+e.code))})):(this._logger.debug("Requesting pause on chromecast."),n.pause(null,function(){t._hadStateUpdate=!1,t._playPauseRequestInProgress=!1,t._logger.debug("Pause request completed on chromecast.")},function(e){t._playPauseRequestInProgress=!1,t._logger.warn("Pause request on chromecast failed.",e),!t.isDead()&&t.isActuallyPlaying()&&t._notifyPauseRejection(new Error("Error from chromecast: "+e.code))})):this._playPauseWaiting=!0},t.prototype._handleSeekChange=function(e){var t=this._getMediaSession();t&&this.isReady()?this._performSeek(t,e):this._seekWaiting=!0},t.prototype._getPosition=function(){var e=this._getActualPosition(),t=this.getDuration()||0;return e>t-200&&(e=t),e},t.prototype._kill=function(){null!==this._changeTimeout&&window.clearTimeout(this._changeTimeout),this._addListeners(!1)},t.prototype._refresh=function(){var e=this;this._update(function(){if(e._logger.debug("Updating...",e._remotePlayer),e._chromecastRepresenting()){var t=e._remotePlayer.playerState,n=1e3*e._remotePlayer.duration,i=1e3*e._remotePlayer.currentTime;if(e._logger.debug("Chromecast is representing this player.",t,n,i),e._lastKnownPosition=i,e._provideDuration(n),t&&t!==e._chromeCastLib.media.PlayerState.IDLE&&!e.isReady()&&e._signalReady(),e.isReady()){if(!e._playPauseRequestInProgress&&e._hadStateUpdate){var r=t===e._chromeCastLib.media.PlayerState.PLAYING||t===e._chromeCastLib.media.PlayerState.BUFFERING;e._notifyPlaying(r)}if(e._notifyStalled(!t||t===e._chromeCastLib.media.PlayerState.BUFFERING||t===e._chromeCastLib.media.PlayerState.IDLE),e._playPauseWaiting&&(e._playPauseWaiting=!1,e.isPlaying()!==e.isActuallyPlaying()&&e._handlePlayPauseChange(e.isPlaying())),e._seekWaiting){e._seekWaiting=!1;var o=e._getQueuedSeekPosition();null!==o&&e._handleSeekChange(o)}}}else e.isReady()&&(e._notifyStalled(!0),e._notifyPlaying(!1))})},t.prototype._chromecastRepresenting=function(){return!!this._remotePlayer.mediaInfo&&this._remotePlayer.mediaInfo.contentId===this._contentId&&this._remotePlayer.isConnected},t.prototype._getCastSession=function(){return this._chromecastRepresenting()?this._castContext.getCurrentSession():null},t.prototype._getMediaSession=function(){var e=this._getCastSession();return e&&e.getMediaSession()||null},t.prototype._getActualPosition=function(){var e=this._getMediaSession();return e&&this.isActuallyPlaying()?this._lastKnownPosition=1e3*e.getEstimatedTime():this._lastKnownPosition},t.prototype._performSeek=function(e,t){var n=this,i=new this._chromeCastLib.media.SeekRequest;i.currentTime=t/1e3,this._logger.debug("Requesting seek.",t);var r=this._seekHandle=Object.create(null);e.seek(i,function(){r===n._seekHandle&&(n._logger.debug("Seek completed.",t),n.isDead()||null===n._getQueuedSeekPosition()||n._signalSeekComplete())},function(e){r===n._seekHandle&&(n._logger.warn("Error performing seek.",e),n.isDead()||null===n._getQueuedSeekPosition()||n._notifySeekRejection(new Error("Error from chromecast when seeking: "+e.code)))})},t.prototype._addListeners=function(e){this._logger.debug((e?"Adding":"Removing")+" chromecast listeners."),e?this._remotePlayerController.addEventListener(this._castLib.framework.RemotePlayerEventType.ANY_CHANGE,this._anyChangeHandler):this._remotePlayerController.removeEventListener(this._castLib.framework.RemotePlayerEventType.ANY_CHANGE,this._anyChangeHandler)},t.prototype._anyChangeHandler=function(e){var t=this;this._logger.debug("Received chromecast event.",e),"playerState"===e.field&&(this._hadStateUpdate=!0),null===this._changeTimeout&&(this._changeTimeout=window.setTimeout(function(){t._changeTimeout=null,t._refresh()},0))},t}(r.BasePlayer);t.ChromecastPlayerImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.3",t.buildNumber=1046;var i=n(3);t.ChromecastPlayer=i.ChromecastPlayer;var r=n(4);t.errors=r.errors}])})},529:function(e,t,n){!function(t,i){e.exports=i(n(161),n(1533),n(329))}(this,function(e,t,n){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.MSE_ERROR"},t}(r.errors.PlayerFatalError);t.MSEError=o},function(e,n){e.exports=t},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(t){return e.call(this,"An error occurred trying to append to the buffer.",t)||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.APPEND_ERROR"},t}(r.MSEError);t.AppendError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(t){return e.call(this,"An error occurred trying to initialize the buffer.",t)||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.INITIALIZE_ERROR"},t}(r.MSEError);t.InitializeError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return e.call(this,"A format could not be determined.")||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_FORMAT_DETERMINED_ERROR"},t}(r.errors.NotSupportedError);t.NoFormatDeterminedError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return e.call(this,"A transmuxer could not be found.")||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"},t}(r.errors.NotSupportedError);t.NoTransmuxerError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(t){var n=e.call(this,"An error occurred when trying to retrieve a segment/key.",t)||this;return n._internalRetrievalError=t,n}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.RETRIEVAL_ERROR."+this._internalRetrievalError.getCode()},t}(r.errors.PlayerError);t.RetrievalError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return e.call(this,"The playlist type is not supported.")||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.UNSUPPORTED_PLAYLIST_TYPE_ERROR"},t}(r.errors.PlayerFatalError);t.UnsupportedPlaylistTypeError=o},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(3),o=n(4),s=n(1),a=n(5),l=n(6),u=n(7),c=n(8);!function(e){e.AppendError=r.AppendError,e.InitializeError=o.InitializeError,e.MSEError=s.MSEError,e.NoFormatDeterminedError=a.NoFormatDeterminedError,e.NoTransmuxerError=l.NoTransmuxerError,e.RetrievalError=u.RetrievalError,e.UnsupportedPlaylistTypeError=c.UnsupportedPlaylistTypeError}(i=t.errors||(t.errors={}))},function(e,t,n){"use strict";function i(e){return void 0!==e.mimeType}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(2),a=n(9),l=n(12),u=n(13),c=n(8),d=n(3),p=n(4),h=n(7),f=n(6),g=n(5),m=o.helpers.find,v=o.helpers.Promise,_=o.helpers.time.now,y=o.helpers.deferred.buildDeferred,b=o.errors.DependencyError,w=o.errors.PlayerFatalError,x=o.errors.URLUpdateError,k=o.eventDispatcher.EventDispatcher,S=o.logger.prefixLogger,E=o.helpers.abortableJob.abortedError,T=o.helpers.browser.getSafariVersion(),C=o.helpers.browser.isSafari(),A=o.helpers.browser.isFirefox(),P=o.helpers.browser.isEdge(),D=3e4,M=1e8,I=600,R=50,O=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._onPlaylistRequestQueued=new k,i._onPlaylistRequestStart=new k,i._onPlaylistRetrieved=new k,i._onPlaylistRequestFailed=new k,i._onInitDataRequestQueued=new k,i._onInitDataRequestStart=new k,i._onInitDataRetrieved=new k,i._onInitDataRequestFailed=new k,i._onKeyRequestQueued=new k,i._onKeyRequestStart=new k,i._onKeyRetrieved=new k,i._onKeyRequestFailed=new k,i._onPlaylistParseStart=new k,i._onPlaylistParseEnd=new k,i._onSegmentRequestQueued=new k,i._onSegmentRequestStart=new k,i._onSegmentRetrieved=new k,i._onSegmentRequestFailed=new k,i._onSegmentTransmuxStart=new k,i._onSegmentTransmuxEnd=new k,i._onSegmentDecryptionStart=new k,i._onSegmentDecryptionEnd=new k,i._onSegmentReady=new k,i._onSegmentAppendQueued=new k,i._onSegmentAppendEnd=new k,i._playlist=null,i._playlistSegmentRetriever=null,i._initialPlaylistRetrieveCompleted=!1,i._mse=null,i._simpleMSE=null,i._retrieveDurationDeferred=y(),i._html5PlayerReady=!1,i._startPositionOffset=0,i._transmuxerAndMSEType=null,i._lastSegmentAppended=null,i._maxBufferLength=null,i._cacheSize=null,i._onFirstSegmentRetrieved=null,i._seekAttemptTimer=null,i._seekMetadataEventHandle=null,i._playlistDuration=null,i._logger=S(i._logger,"HLSMSEPlayer"),i.onPlaylistRequestQueued=i._onPlaylistRequestQueued.getHandle(),i.onPlaylistRequestStart=i._onPlaylistRequestStart.getHandle(),i.onPlaylistRetrieved=i._onPlaylistRetrieved.getHandle(),i.onPlaylistRequestFailed=i._onPlaylistRequestFailed.getHandle(),i.onInitDataRequestQueued=i._onInitDataRequestQueued.getHandle(),i.onInitDataRequestStart=i._onInitDataRequestStart.getHandle(),i.onInitDataRetrieved=i._onInitDataRetrieved.getHandle(),i.onInitDataRequestFailed=i._onInitDataRequestFailed.getHandle(),i.onKeyRequestQueued=i._onKeyRequestQueued.getHandle(),i.onKeyRequestStart=i._onKeyRequestStart.getHandle(),i.onKeyRetrieved=i._onKeyRetrieved.getHandle(),i.onKeyRequestFailed=i._onKeyRequestFailed.getHandle(),i.onPlaylistParseStart=i._onPlaylistParseStart.getHandle(),i.onPlaylistParseEnd=i._onPlaylistParseEnd.getHandle(),i.onSegmentRequestQueued=i._onSegmentRequestQueued.getHandle(),i.onSegmentRequestStart=i._onSegmentRequestStart.getHandle(),i.onSegmentRetrieved=i._onSegmentRetrieved.getHandle(),i.onSegmentRequestFailed=i._onSegmentRequestFailed.getHandle(),i.onSegmentTransmuxStart=i._onSegmentTransmuxStart.getHandle(),i.onSegmentTransmuxEnd=i._onSegmentTransmuxEnd.getHandle(),i.onSegmentDecryptionStart=i._onSegmentDecryptionStart.getHandle(),i.onSegmentDecryptionEnd=i._onSegmentDecryptionEnd.getHandle(),i.onSegmentReady=i._onSegmentReady.getHandle(),i.onSegmentAppendQueued=i._onSegmentAppendQueued.getHandle(),i.onSegmentAppendEnd=i._onSegmentAppendEnd.getHandle(),i.__descriptor=t,i.__playerDependencies=n,i._url=t.getUrl(),i}return r(t,e),t.prototype.getBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?o.TimeRange.normalize(e.getSegmentsWithData().map(function(e){return e.segment.getTimeRange()})):[]},t.prototype.getMaxBufferLength=function(){return this._maxBufferLength},t.prototype.getBufferController=function(){var e=this;return{setMaxBufferLength:function(t){if(0>t)throw new Error("Max buffer length cannot be < 0.");e._logger.debug("Updating max buffer length.",t),e._maxBufferLength=t,e._playlistSegmentRetriever?e._playlistSegmentRetriever.updateMaxBufferLength(t):e._logger.debug("Cannot update right now. Playlist segment retriever doesn't exist.")}}},t.prototype.getUrlController=function(){var e=this;return{updateUrl:function(t){e._logger.debug("Updating URL.",t),e._url=t;var n=e._playlist;return n?(e._playlistRetrieveJob&&(e._playlistRetrieveJob.abort(),e._playlistRetrieveJob=null,e._logger.debug("Aborted playlist retrieve job.")),e._playlistSegmentRetriever&&(e._playlistSegmentRetriever.switchPlaylist(null),e._logger.debug("Removed current URL.")),e._playlist=null,void e._retrievePlaylist()):void e._logger.debug("Cannot update right now. Playlist doesn't exist yet.")}}},t.prototype.getMemoryCacheMaxSize=function(){return null!==this._cacheSize?this._cacheSize:M},t.prototype.getMemoryCacheUsage=function(){return this._playlistSegmentRetriever?this._playlistSegmentRetriever.getCacheUsage():0},t.prototype.getMemoryCacheController=function(){var e=this;return{setMaxCacheSize:function(t){if(0>t)throw new Error("Max size cannot be < 0.");e._logger.debug("Updating maximum cache size.",t),e._cacheSize=t,e._playlistSegmentRetriever&&e._playlistSegmentRetriever.updateCacheSize(t)}}},t.prototype._canPlay=function(){var t=this;return l.MSE.isSupported()?e.prototype._canPlay.call(this).then(function(e){if(e!==!0)return v.resolve(e);var n=t.__descriptor.getSegmentFormat();if(!i(n))return t._logger.debug("Format could not be determined."),v.resolve(new g.NoFormatDeterminedError);var r=t._findTransmuxer(n);if(!r)return t._logger.debug("No transmuxer found."),v.resolve(new f.NoTransmuxerError);var o=r.getOutputFormat(),s=n;return t._transmuxerAndMSEType={transmuxer:r,mseType:t._buildMimeTypeAndCodecString(o,s)},v.resolve(!0)}):(this._logger.debug("MSE not supported."),v.resolve(!1))},t.prototype._canPlayProtocol=function(e){return"hls"===e.name},t.prototype._canPlayType=function(e){return"application/x-mpegURL"===e},t.prototype._retrieveDuration=function(){return this._retrieveDurationDeferred.promise},t.prototype._signalReady=function(){this._html5PlayerReady=!0,this._initialPlaylistRetrieveCompleted&&e.prototype._signalReady.call(this)},t.prototype._initialize=function(){var t=this.__playerDependencies;if(null===this._maxBufferLength)if(void 0!==t.maxBufferLength){if(t.maxBufferLength<0)return void this._triggerError(new b("maxBufferLength cannot be < 0."));this._maxBufferLength=t.maxBufferLength}else this._maxBufferLength=D;if(this._logger.debug("Initialized max buffer length.",this._maxBufferLength),null===this._cacheSize)if(void 0!==t.memoryCacheSize){if(t.memoryCacheSize<0)return void this._triggerError(new b("memoryCacheSize cannot be < 0."));this._cacheSize=t.memoryCacheSize}else this._cacheSize=M;this._logger.debug("Initialized cache size.",this._cacheSize),e.prototype._initialize.call(this),this._retrievePlaylist()},t.prototype._initMediaElement=function(t,n){if(this._simpleMSE&&(this._simpleMSE.kill(),this._simpleMSE=null,this._logger.debug("Killed SimpleMSE.")),this._mse&&(this._mse.kill(),this._mse=null,this._logger.debug("Killed MSE.")),null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled seek attempt timer.")),this._onFirstSegmentRetrieved=null,this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null),null===n)e.prototype._initMediaElement.call(this,t,null);else{this._initMSE();var i=this._mse.getUrl();this._logger.debug("Setting MSE url.",i),e.prototype._initMediaElement.call(this,t,i)}},t.prototype._shouldBeEnded=function(){if(!C)return e.prototype._shouldBeEnded.call(this);if(e.prototype._shouldBeEnded.call(this))return!0;if(!this.getMediaElement())return!1;var t=this._duration;return this._stallDetected&&null!==t&&this._getTruePosition()>=t-I},t.prototype._getTruePosition=function(){var e=this.getMediaElement();if(!e)throw new Error("Media element should exist.");return this._startPositionOffset+this._getMediaElementPosition()},t.prototype._handleSeekChange=function(t){e.prototype._handleSeekChange.call(this,t),this._playlistSegmentRetriever&&(this._logger.debug("Explicitly updating playlist segment retriever, as seek requested."),this._playlistSegmentRetriever.update(),this._findSegmentAndAppendToMSE())},t.prototype._performSeek=function(t,n){var i=this,r=this,o=r._simpleMSE,s=r._mse,a=this.getMediaElement();if(!s)throw new Error("MSE should exist.");if(!a)throw new Error("Media element should exist.");var l=!a.paused;null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled previous seek attempt timer.")),this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null,this._logger.debug("Removed previous loaded metadata event handler.")),o&&o.kill(),s.kill(),this._logger.debug("SimpleMSE and MSE destroyed."),this._startPositionOffset=t;var u=null;this._onFirstSegmentRetrieved=function(e){return u=e},this._logger.debug("Initializing MSE and SimpleMSE for new position."),this._initMSE();var c=this._mse.getUrl();if(this._logger.debug("Updated media element MSE src.",c),e.prototype._initMediaElement.call(this,a,c),l){this._logger.debug("Calling play() on media element as it was playing previously.");var d=a.play();d&&d["catch"]&&d["catch"](function(e){"AbortError"!==e.name&&(i._logger.error("Unexpected play() error.",e),i._triggerError(new w("Exception from calling play() after seek.",e)))})}var p=function(e){(T&&T.major<11||A)&&R>e&&(i._logger.debug("Tweaking offset to fix glitch issue."),e=R);var t=function(){i._startPositionOffset=Math.max(0,i._startPositionOffset-e),i._logger.debug("Updated start position offset.",i._startPositionOffset,e);var t=function(){i._seekAttemptTimer=null,i._logger.debug("Attempting to seek to the required offset.",e),a.currentTime=e/1e3;var r=1e3*a.currentTime;Math.abs(r-e)<=100?(i._logger.debug("Seeked to the required offset.",r),n()):(i._logger.warn("Seek attempt failed. Trying again shortly.",r),i._seekAttemptTimer=window.setTimeout(t,50))};t()};i._onFirstSegmentRetrieved=null,P||a.readyState===a.HAVE_METADATA?(i._logger.debug("Media element has metadata. Seeking to offset."),t()):(i._logger.debug("Media element has not loaded metadata. Waiting for metadata..."),i._seekMetadataEventHandle=i._listenToOnce("loadedmetadata",function(){i._seekMetadataEventHandle=null,i._logger.debug("Got metadata. Seeking to offset."),t()},{earlyAttach:!0}))};null!==u?(this._logger.debug("First segment already retrieved. Preparing to seek to initial offset."),p(u)):(this._logger.debug("Waiting for first segment to be retrieved."),this._onFirstSegmentRetrieved=function(e){i._logger.debug("First segment retrieved. Preparing to seek to initial offset."),p(e)})},t.prototype._kill=function(){this._simpleMSE&&(this._logger.debug("Killing SimpleMSE."),this._simpleMSE.kill(),this._simpleMSE=null),this._mse&&(this._logger.debug("Killing MSE."),this._mse.kill(),this._mse=null),this._playlistRetrieveJob&&(this._logger.debug("Aborting playlist retrieve job."),this._playlistRetrieveJob.abort(),this._playlistRetrieveJob=null),this._playlistSegmentRetriever&&(this._logger.debug("Killing playlist segment retriever."),this._playlistSegmentRetriever.kill(),this._playlistSegmentRetriever=null),this._playlist=null,e.prototype._kill.call(this)},t.prototype._initMSE=function(){var e=this;if(!this._transmuxerAndMSEType)throw new Error("Transmuxer should have been configured.");this._lastSegmentAppended=null;var t=!1;T&&T.major<10&&this._transmuxerAndMSEType.transmuxer===s.MP3ToMP4Transmuxer&&(t=!0);var n=new l.MSE(this._transmuxerAndMSEType.mseType,this._logger,t),i=new u.SimpleMSE(n,function(){return e.getSegmentDataToAppendNext()},function(){return e._getMediaElementPosition()},function(t){e._triggerError(new d.AppendError(t))},this._logger);i.onAppendQueued.subscribe(this._onSegmentAppendQueued.dispatch),i.onAppendEnd.subscribe(this._onSegmentAppendEnd.dispatch),this._simpleMSE=i,i.start(),this._mse=n,n.whenInitialized()["catch"](function(t){t!==l.killedError&&(e._logger.error("Error during mse initialization.",t),e._triggerError(new p.InitializeError(t)))})},t.prototype._getMediaElementPosition=function(){var e=this.getMediaElement();if(!e)throw new Error("No media element.");return 1e3*e.currentTime},t.prototype._whenPlaylistRetrieved=function(){var t=this,n=this._playlist;if(!n)throw new Error("Playlist should have been retrieved.");var i=!this._initialPlaylistRetrieveCompleted;if(i)this._initialPlaylistRetrieveCompleted=!0,this._playlistDuration=n.getTotalDuration(),this._retrieveDurationDeferred.resolve(this._playlistDuration);else{var r=n.getTotalDuration();if(this._playlistDuration!==r)return this._logger.error("The duration from the new URL did not match the previous one."),void this._triggerError(new x("The duration from the new URL did not match the previous one.",{oldDuration:this._playlistDuration,newDuration:r}))}if(!this._transmuxerAndMSEType)throw new Error("Transmuxer should have been configured.");if(this._playlistSegmentRetriever)this._logger.debug("Switching playlist for playlist segment retriever."),this._playlistSegmentRetriever.switchPlaylist(n);else{var o=this._maxBufferLength;if(null===o)throw new Error("maxBufferLength should have been initiaized by now.");this._logger.debug("Creating playlist segment retriever.");var a=this._cacheSize;if(null===a)throw new Error("cacheSize should be set.");var l=new s.PlaylistSegmentRetriever({playlist:n,getPosition:function(){return t.getPosition()},maxBufferLength:o,cacheSize:a,transmuxer:this._transmuxerAndMSEType.transmuxer,logger:this._logger});l.onSegmentRequestQueued.subscribe(this._onSegmentRequestQueued.dispatch),l.onSegmentRequestStart.subscribe(this._onSegmentRequestStart.dispatch),l.onSegmentRetrieved.subscribe(this._onSegmentRetrieved.dispatch),l.onSegmentRequestFailed.subscribe(this._onSegmentRequestFailed.dispatch),l.onSegmentDecryptionStart.subscribe(this._onSegmentDecryptionStart.dispatch),l.onSegmentDecryptionEnd.subscribe(this._onSegmentDecryptionEnd.dispatch),l.onSegmentTransmuxStart.subscribe(this._onSegmentTransmuxStart.dispatch),l.onSegmentTransmuxEnd.subscribe(this._onSegmentTransmuxEnd.dispatch),this._playlistSegmentRetriever=l,l.onError.subscribe(function(e){t._logger.error("Error from playlist segment retriever.",e),e instanceof s.retrievalErrors.RetrievalError?t._triggerError(new h.RetrievalError(e)):t._triggerError(new w("Unexpected error when trying to retrieve segment.",e))}),l.onSegmentReady.subscribe(function(e){var n=e.eventRepresentation,i=_();t._logger.debug("Segment ready.",n),t._findSegmentAndAppendToMSE(),t._onSegmentReady.dispatch({segment:n},{time:i})})}this._initialPlaylistRetrieveCompleted=!0,i&&this._html5PlayerReady&&e.prototype._signalReady.call(this)},t.prototype._findSegmentAndAppendToMSE=function(){var e=this._simpleMSE;if(e&&e.waitingForSegmentData()){var t=this.getSegmentDataToAppendNext();t&&(this._logger.debug("Providing segment to SimpleMSE.",t.eventRepresentation),e.provideNextSegmentData(t))}},t.prototype._retrievePlaylist=function(){var e=this;if(this._playlist)throw new Error("Playlist already exists.");var t=this.__playerDependencies,n=t.playlistLoader,i=t.segmentLoader,r=t.keyLoader,o=t.isPlaylistResponseCodeAcceptable,a=t.isPlaylistResponseCodeRetryable,l=t.isSegmentResponseCodeAcceptable,u=t.isSegmentResponseCodeRetryable,d=t.isKeyResponseCodeAcceptable,p=t.isKeyResponseCodeRetryable;this._logger.debug("Creating playlist.",this._url);var f=new s.Playlist({url:this._url,segmentFormat:this.__descriptor.getSegmentFormat(),playlistLoader:n,segmentLoader:i,keyLoader:r,isPlaylistResponseCodeAcceptable:o,isPlaylistResponseCodeRetryable:a,isSegmentResponseCodeAcceptable:l,isSegmentResponseCodeRetryable:u,isKeyResponseCodeAcceptable:d,isKeyResponseCodeRetryable:p,logger:this._logger});f.onPlaylistRequestQueued.subscribe(this._onPlaylistRequestQueued.dispatch),f.onPlaylistRequestStart.subscribe(this._onPlaylistRequestStart.dispatch),f.onPlaylistRetrieved.subscribe(this._onPlaylistRetrieved.dispatch),f.onPlaylistRequestFailed.subscribe(this._onPlaylistRequestFailed.dispatch),f.onInitDataRequestQueued.subscribe(this._onInitDataRequestQueued.dispatch),f.onInitDataRequestStart.subscribe(this._onInitDataRequestStart.dispatch),f.onInitDataRetrieved.subscribe(this._onInitDataRetrieved.dispatch),f.onInitDataRequestFailed.subscribe(this._onInitDataRequestFailed.dispatch),f.onKeyRequestQueued.subscribe(this._onKeyRequestQueued.dispatch),f.onKeyRequestStart.subscribe(this._onKeyRequestStart.dispatch),f.onKeyRetrieved.subscribe(this._onKeyRetrieved.dispatch),f.onKeyRequestFailed.subscribe(this._onKeyRequestFailed.dispatch),f.onPlaylistParseStart.subscribe(this._onPlaylistParseStart.dispatch),f.onPlaylistParseEnd.subscribe(this._onPlaylistParseEnd.dispatch),this._playlist=f,this._playlistRetrieveJob=this._playlist.retrieve(),this._playlistRetrieveJob.onCompletion(function(){var t=e._playlist.getType();t!==s.PlaylistType.VOD?(e._logger.error("Unsupported playlist type.",t),e._triggerError(new c.UnsupportedPlaylistTypeError)):(e._logger.debug("Playlist retrieved."),e._whenPlaylistRetrieved())}),this._playlistRetrieveJob.onError(function(t){t!==E&&(e._logger.error("Error when retrieving playlist.",t),t instanceof s.retrievalErrors.RetrievalError?e._triggerError(new h.RetrievalError(t)):e._triggerError(new w("Unexpected error when retrieving playlist.",t)))})},t.prototype._findTransmuxer=function(e){var t=this,n=s.TransmuxerFactory.retrieveTransmuxers(e);this._logger.info("Finding a transmuxer...",e);var i=m(n,function(n){return l.MSE.isSupported(t._buildMimeTypeAndCodecString(n.getOutputFormat(),e))})||null;return i?this._logger.info("Transmuxer found.",i.getInputFormat(),i.getOutputFormat()):this._logger.warn("No transmuxer found."),i},t.prototype.getSegmentDataToAppendNext=function(){var e=this._lastSegmentAppended;this._logger.debug("Looking for segment to append next.",!!e);var t=this._playlistSegmentRetriever,n=this._playlist;if(!t||!n)return this._logger.debug("No segment retriever/playlist."),null;if(e){var i=n.hasEnded()?n.getStartingSequenceNumber()+n.getSegmentCount()-1:null,r=t.getSegmentsWithData(),o=r[r.map(function(e){return e.segment}).indexOf(e)+1];return o?(this._logger.debug("Found segment.",o.eventRepresentation),this._lastSegmentAppended=o.segment,{data:o.data,eventRepresentation:o.eventRepresentation}):(this._logger.debug("No segment found."),e.getSequenceNumber()===i&&(this._logger.debug("The last segment we appended was the last one in the stream. Signalling EOS.",i),this._signalEOS()),null)}var s=this.getPosition(),o=m(t.getSegmentsWithData(),function(e){return e.segment.getTimeRange().containsTime(s)});if(!o)return this._logger.debug("No segment found.",s),null;var a=s-o.segment.getTimeRange().start,l=this.getMediaElement();if(!l)throw new Error("Media element should exist.");this._logger.debug("Found initial segment.",o.eventRepresentation),this._lastSegmentAppended=o.segment,this._onFirstSegmentRetrieved&&this._onFirstSegmentRetrieved(a);var u=o.data,c=o.initData,d=u;return c&&(this._logger.debug("Prepending init data."),d=new Uint8Array(c.length+u.length),d.set(c,0),d.set(u,c.length)),{data:d,eventRepresentation:o.eventRepresentation}},t.prototype._signalEOS=function(){var e=this;this._logger.debug("Signalling EOS."),this._simpleMSE&&(this._simpleMSE.kill(),this._logger.debug("Killed SimpleMSE."),this._simpleMSE=null);var t=this._mse;t&&!t.eosSignalled()&&t.signalEOS()["catch"](function(n){t===e._mse&&(e._logger.error("Error occurred when signalling EOS.",n),e._triggerError(new d.AppendError(n)))})},t}(a.HTML5Player);t.HLSMSEPlayer=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(9),o=i.helpers.deferred.buildDeferred,s=r.helpers.timeRanges.buildTimeRanges,a=i.helpers.Promise,l=i.logger.prefixLogger,u=i.logger.noOpLogger,c=/(MSIE )|(Trident\/)/,d=i.helpers.browser.isSafari(),p='audio/mp4; codecs="mp3"',h=i.helpers.browser.getSafariVersion();t.killedError=new Error("MSE killed.");var f=function(){function e(e,t,n){var i=this.constructor;if(void 0===t&&(t=u),void 0===n&&(n=!1),this._sourceBuffer=null,this._initialized=!1,
this._initializeDeferred=o(),this._whenIdleDeferred=o(),this._error=null,this._dead=!1,this._eosSignalled=!1,this._pendingActions=[],this._currentAction=null,this._bufferEnd=0,this._logger=l(t,"MSE"),this._onMediaSourceInit=this._onMediaSourceInit.bind(this),this._onMediaSourceEnded=this._onMediaSourceEnded.bind(this),this._onMediaSourceError=this._onMediaSourceError.bind(this),this._onSourceBufferUpdateEnd=this._onSourceBufferUpdateEnd.bind(this),this._onSourceBufferError=this._onSourceBufferError.bind(this),!i.isSupported(e))throw this._logger.error("Not supported."),new Error("Not supported.");d&&e===p&&(e="audio/mp4"),this._type=e,this._useSegmentsMode=n,this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.addEventListener("error",this._onMediaSourceError,!1),this._url=URL.createObjectURL(this._mediaSource),this._logger.debug("Created URL.",this._url)}return e.isSupported=function(e){return c.test(window.navigator.userAgent)?!1:"MediaSource"in window?e?d&&e===p?!0:h&&h.major<10&&"audio/mpeg"===e?!1:MediaSource.isTypeSupported(e):!0:!1},e.prototype.whenInitialized=function(){return this._initializeDeferred.promise},e.prototype.whenIdle=function(){return this._whenIdleDeferred?this._whenIdleDeferred.promise:a.resolve(void 0)},e.prototype.isIdle=function(){return this._dead||!this._whenIdleDeferred},e.prototype.hasInitialized=function(){return this._initialized},e.prototype.getError=function(){return this._error},e.prototype.getUrl=function(){return this._ensureNotDead(),this._url},e.prototype.getBuffered=function(){return this._ensureNotDead(),this._sourceBuffer?s(this._sourceBuffer.buffered):[]},e.prototype.append=function(e){this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("append() called.");var t=o();return this._pendingActions.push({type:"append",data:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.remove=function(e){if(0===e.duration)throw new Error("Remove range must have a duration > 0.");this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("remove() called.",e);var t=o();return this._pendingActions.push({type:"remove",range:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.signalEOS=function(){this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("signalEOS() called."),this._eosSignalled=!0;var e=o();return this._pendingActions.push({type:"eos",deferred:e}),this._performNextAction(),e.promise},e.prototype.eosSignalled=function(){return this._eosSignalled},e.prototype.kill=function(){if(!this._dead){if(this._logger.debug("kill() called."),this._dead=!0,this._sourceBuffer){this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.removeEventListener("error",this._onSourceBufferError,!1);try{this._mediaSource.removeSourceBuffer(this._sourceBuffer)}catch(e){this._logger.error("Error from removeSourceBuffer()",e)}}this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.removeEventListener("sourceended",this._onMediaSourceEnded,!1),this._mediaSource.removeEventListener("error",this._onMediaSourceError,!1),URL.revokeObjectURL(this._url);var n=this._currentAction?[this._currentAction]:[];n=n.concat(this._pendingActions),n.forEach(function(e){e.deferred.reject(t.killedError)}),this._whenIdleDeferred||(this._whenIdleDeferred=o()),this._whenIdleDeferred.reject(t.killedError),this._initialized||this._initializeDeferred.reject(this._error||t.killedError),this._pendingActions.length=0,this._logger.debug("Killed.")}},e.prototype._ensureInitialized=function(){if(!this._initialized)throw new Error("Not initialized yet.")},e.prototype._ensureNotEOS=function(){if(this._eosSignalled)throw new Error("EOS signalled.")},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("MSE is dead.")},e.prototype._onMediaSourceInit=function(){this._logger.debug("MSE initialized."),this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1);try{this._logger.debug("Creating source buffer.",this._type),this._sourceBuffer=this._mediaSource.addSourceBuffer(this._type),this._sourceBuffer.mode=this._useSegmentsMode?"segments":"sequence",this._logger.debug("Using append mode: "+this._sourceBuffer.mode),this._sourceBuffer.addEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.addEventListener("error",this._onSourceBufferError,!1)}catch(e){this._handleError(e)}this._initializeDeferred.resolve(void 0),this._whenIdleDeferred.resolve(void 0),this._initialized=!0,this._performNextAction()},e.prototype._onMediaSourceEnded=function(){this._onSourceBufferUpdateEnd()},e.prototype._onMediaSourceError=function(e){this._handleError(e)},e.prototype._handleError=function(e){this._ensureNotDead(),this._logger.error("Error occurred.",e),this._error=e||new Error("Unknown error."),this.kill()},e.prototype._onSourceBufferUpdateEnd=function(){var e=this._currentAction;return this._logger.debug("Update ended.",this.getBuffered()),e?"append"===e.type&&0===i.TimeRange.getCoverage(this.getBuffered()).end?void this._handleError(new Error("Buffer end point is still 0 after an append.")):(this._currentAction=null,e.deferred.resolve(void 0),void this._performNextAction()):void this._handleError(new Error("No action in progress."))},e.prototype._onSourceBufferError=function(e){this._handleError(e)},e.prototype._performNextAction=function(){var e=this._whenIdleDeferred;if(!this._currentAction&&this._sourceBuffer){var t=this._pendingActions.shift();if(!t)return this._logger.debug("No more actions."),void(e&&(this._whenIdleDeferred=null,e.resolve(void 0)));switch(e||(this._whenIdleDeferred=o()),this._currentAction=t,this._logger.debug("Performing next action..."),t.type){case"append":var n=i.TimeRange.getCoverage(this.getBuffered());try{if("segments"===this._sourceBuffer.mode){var r=n.end/1e3;this._logger.debug("Setting timestampOffset because detected safari.",r),this._sourceBuffer.timestampOffset=r}this._logger.debug("Calling appendBuffer()."),this._bufferEnd=n.end,this._sourceBuffer.appendBuffer(t.data)}catch(s){this._handleError(s)}break;case"remove":try{var a=t.range;this._logger.debug("Calling remove().",a.start,a.end),this._sourceBuffer.remove(a.start/1e3,a.end/1e3)}catch(s){this._handleError(s)}break;case"eos":try{this._logger.debug("Calling endOfStream()."),this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._mediaSource.addEventListener("sourceended",this._onMediaSourceEnded,!1),this._mediaSource.endOfStream()}catch(s){this._handleError(s)}}}},e}();t.MSE=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=i.helpers.Promise,o=i.eventDispatcher.EventDispatcher,s=i.logger.prefixLogger,a=i.logger.noOpLogger,l=7e3,u=2e4,c=function(){function e(e,t,n,i,r){void 0===r&&(r=a);var l=this;this._onAppendQueued=new o,this._onAppendEnd=new o,this._updateTimerId=null,this._gcTimerId=null,this._waitingForData=!1,this._started=!1,this._resettingPromise=null,this._error=null,this._logger=s(r,"SimpleMSE"),this.onAppendQueued=this._onAppendQueued.getHandle(),this.onAppendEnd=this._onAppendEnd.getHandle(),this._mse=e,this._getNextSegmentData=t,this._getPosition=n,this._onError=i,e.whenInitialized().then(function(){!l._error&&l._started&&(l._logger.debug("MSE initialized. Preparing to update."),l._prepareUpdate())})["catch"](function(e){l._error||(l._logger.error("Error when waiting for MSE to initialize.",e),l._handleError(e||new Error("Error waiting for MSE to initialize.")))})}return e.prototype.start=function(){if(this._checkNotErrored(),this._resettingPromise)throw new Error("start() is not allowed whilst a reset is in progress.");if(this._started)throw new Error("Already started. reset() first.");this._logger.debug("start() called."),this._scheduleGC(),this._started=!0,this._prepareUpdate()},e.prototype.kill=function(){this._error||(this._logger.debug("kill() called."),this._updateTimerId&&(this._logger.debug("Clearing update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._gcTimerId&&(window.clearTimeout(this._gcTimerId),this._gcTimerId=null),this._error=new Error("Killed."),this._logger.debug("Killed."))},e.prototype.reset=function(){var e=this;if(this._checkNotErrored(),this._logger.debug("reset() called."),this._resettingPromise)return this._logger.debug("Reset already in progress."),this._resettingPromise;if(!this._started)return this._logger.debug("Nothing to do to, already reset."),r.resolve();var t=this._mse;return this._waitingForData=!1,this._started=!1,this._updateTimerId&&(this._logger.debug("Claring update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._gcTimerId&&(window.clearTimeout(this._gcTimerId),this._gcTimerId=null),this._logger.debug("Waiting to clear MSE buffer..."),this._resettingPromise=t.whenIdle().then(function(){if(e._error)throw e._error;e._logger.debug("Clearing MSE buffer.");var n=t.getBuffered(),r=i.TimeRange.getCoverage(n);return r.duration>0?t.remove(r):void 0}).then(function(){e._logger.debug("MSE buffer cleared."),e._resettingPromise=null})["catch"](function(t){e._logger.error("Error resetting MSE.",t);var n=t||new Error("Error resetting MSE.");throw e._handleError(n),n})},e.prototype.waitingForSegmentData=function(){return this._checkNotErrored(),this._waitingForData},e.prototype.provideNextSegmentData=function(e){if(this._checkNotErrored(),!this._waitingForData)throw new Error("Not waiting for data.");this._logger.debug("Segment data provided."),this._waitingForData=!1,this._update(e)},e.prototype._prepareUpdate=function(){if(!this._updateTimerId){var e=this._mse;if(e.hasInitialized()){var t=i.TimeRange.getCoverage(e.getBuffered());if(t.end<=this._getPosition()+l){this._logger.debug("Requesting next segment data.");var n=this._getNextSegmentData();n?(this._logger.debug("Got segment data."),this._update(n)):(this._logger.debug("Did not get any data."),this._waitingForData=!0)}else this._scheduleUpdate()}}},e.prototype._gc=function(){var e=this,t=this._mse;if(!t.hasInitialized())return void this._scheduleGC();var n=i.TimeRange.getCoverage(t.getBuffered()),r=this._getPosition()-5e3;if(n.start<r){var o=new i.TimeRange(n.start,r-n.start);this._logger.debug("Removing media that has been played.",o),t.remove(o).then(function(){e._logger.debug("Removed media that has been played.",o),e._error||e._scheduleGC()})["catch"](function(t){e._logger.error("Error when attempting to remove media that has been played.",o,t),e._error||e._scheduleGC()})}else this._scheduleGC()},e.prototype._update=function(e){var t=this;this._logger.debug("Updating...");var n=this._mse;this._onAppendQueued.dispatch({segment:e.eventRepresentation}),this._logger.debug("Appending..."),n.append(e.data).then(function(){t._logger.debug("Appended."),t._onAppendEnd.dispatch({segment:e.eventRepresentation}),t._resettingPromise||t._error||t._prepareUpdate()})["catch"](function(e){t._error||(t._logger.error("Error updating MSE.",e),t._handleError(e||new Error("Error updating MSE.")))})},e.prototype._scheduleUpdate=function(){var e=this;this._updateTimerId=window.setTimeout(function(){e._updateTimerId=null,e._prepareUpdate()},500)},e.prototype._scheduleGC=function(){var e=this;this._gcTimerId||(this._gcTimerId=window.setTimeout(function(){e._gcTimerId=null,e._gc()},u))},e.prototype._checkNotErrored=function(){if(this._error)throw this._error},e.prototype._handleError=function(e){this._error||(this._error=e,this._onError(e))},e}();t.SimpleMSE=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.4",t.buildNumber=1050;var i=n(11);t.HLSMSEPlayer=i.HLSMSEPlayer;var r=n(10);t.errors=r.errors;var o=n(2);t.retrievalErrors=o.retrievalErrors}])})},530:function(e,t,n){!function(t,i){e.exports=i(n(161))}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=function(e){function t(t,n,i){void 0===n&&(n={}),void 0===i&&(i=2e4);var r=e.call(this)||this;if(0>i)throw new Error("Invaid timeout.");return r._timeoutTimer=window.setTimeout(function(){return r._onManualTimeout()},i),r._xhr=new XMLHttpRequest,r._xhr.addEventListener("load",function(){return r._onLoad()}),r._xhr.addEventListener("abort",function(){return r._onAbort()}),r._xhr.addEventListener("error",function(){return r._onError()}),r._xhr.addEventListener("timeout",function(){return r._onTimeout()}),r._xhr.addEventListener("loadend",function(){return r._onLoadEnd()}),r._xhr.open("GET",t,!0),r._xhr.timeout=i,r._xhr.responseType=r._getResponseType(),Object.keys(n).forEach(function(e){return r._xhr.setRequestHeader(e,n[e])}),r._signalRequestStart(),r._xhr.send(),r}return i(t,e),t.prototype._abort=function(){this._xhr.abort()},t.prototype._onAbort=function(){this.hasCompleted()||this._provideResponse(new Error("Request was aborted."))},t.prototype._onManualTimeout=function(){this.hasCompleted()||(this._provideResponse(null),this._xhr.abort())},t.prototype._onTimeout=function(){this.hasCompleted()||this._provideResponse(null)},t.prototype._onLoad=function(){if(!this.hasCompleted()){var e=this._xhr;this._provideResponse({statusCode:e.status,data:this._xhr.response,headers:this._parseHeaders(e.getAllResponseHeaders()||"")})}},t.prototype._onError=function(){this.hasCompleted()||(0===this._xhr.status?this._provideResponse({statusCode:0,data:null,headers:{}}):this._provideResponse(new Error("An error occurred.")))},t.prototype._onLoadEnd=function(){window.clearTimeout(this._timeoutTimer),this.hasCompleted()||this._provideResponse(new Error("Unexpected error occurred."))},t.prototype._parseHeaders=function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0,r=n.length;r>i;i++){var o=n[i],s=o.indexOf(": ");if(s>0){var a=o.substring(0,s).trim(),l=o.substring(s+2);t[a]=l}}return t},t}(r.loader.LoaderRequest);t.LoaderRequest=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);t.arrayBufferLoader={request:function(e){var t=e.url,n=e.headers,r=e.timeout;return new i.ArrayBufferLoaderRequest(t,n,r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);t.stringLoader={request:function(e){var t=e.url,n=e.headers,r=e.timeout;return new i.StringLoaderRequest(t,n,r)}}},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._getResponseType=function(){return"arraybuffer"},t}(r.LoaderRequest);t.ArrayBufferLoaderRequest=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._getResponseType=function(){return"text"},t}(r.LoaderRequest);t.StringLoaderRequest=o},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.3",t.buildNumber=1046;var i=n(2);t.stringLoader=i.stringLoader;var r=n(1);t.arrayBufferLoader=r.arrayBufferLoader}])})},531:function(e,t,n){"use strict";e.exports=n(360).extend(n(470),{notificationType:"activities",parse:function(e){var t=e.collection;return t&&t.forEach(function(e){e.comment&&!e.comment.user&&(e.comment.user=e.user,e.comment.user_id=e.user.user_id),e.user&&(delete e.user.cpp,delete e.user.default_tracks_feedable),e.resource&&(delete e.resource.cpp,delete e.resource.default_tracks_feedable)}),t}},{hashFn:function(){return 1}})},532:function(e,t,n){"use strict";e.exports=n(297).extend({baseUrl:function(){return this.getEndpointUrl("trackCommentsFilterReplies",{id:this.options.sound_id})},getCommentAtTimestamp:function(e,t){return t=n(3).isNumber(t)?t:0,this.find(function(i){var r=i.get("timestamp"),o=e-r;return 0===t?r===e:o>=0&&Math.abs(o)<=t&&r!==n(107).EMPTY_TIMESTAMP})||null},onCommentCreated:function(e){e.get("replyTo")||this.add(e,{at:0})}},{hashFn:function(e,t){return t&&t.sound_id||null}})},535:function(e,t,n){"use strict";e.exports=n(69).extend({model:n(64),setup:function(){n(60).isLoggedIn()||this.setToFullyPopulated()},baseUrl:function(){return this.getEndpointUrl("shortcutsTrackLikes")}},{hashFn:function(){return n(52).get("me").get("id")}})},537:function(e,t,n){"use strict";e.exports=n(153).extend({model:n(80),defaults:{type:"playlists"},baseUrl:function(){return this.getEndpointUrl("userPlaylistsWithoutAlbums",{id:this.options.userId})}})},538:function(e,t,n){"use strict";e.exports=n(153).extend(n(1286),{defaults:{type:"sounds"},baseUrl:function(){return this.getEndpointUrl("streamUserProfile",{id:this.options.userId})},setup:function(e){n(153).prototype.setup.call(this,e),this.isMe=n(60).currentUserId()===e.userId},parse:function(e){var t=e.collection,i=void 0===t?[]:t,r=n(60).currentUserId();return i.length&&!this.isMe&&(i=i.filter(function(e){return e.user&&(delete e.user.cpp,delete e.user.default_tracks_feedable),e.track||e.playlist&&e.playlist.track_count||e.playlist&&e.playlist.user_id===r})),i}})},603:function(e,t,n){"use strict";e.exports=n(63).extend({resource_type:"chartTrack",submodelMap:{track:n(64)},createSubmodel:function(e,t){this.soundModel=new e(this.get(t)),this.addSubmodel(this.soundModel)}})},605:function(e,t,n){"use strict";function i(){this._messageSentAt=new Date(this.get("sent_at"))}function r(){var e=this,t=this.getPossibleAudibleLinks();t&&n(174).getAudibleModels(t).done(function(t){t.forEach(function(e){e&&o.call(this,e.audible,e.link)},e),e.trigger("audibleFinishedResolving")})}function o(e,t){var i=n(62).parse(e.getShareURL()).path,r={link:null,model:e};-1!==t.indexOf(i)&&(r.link=t,this.addSubmodel(r.model),s.call(this,r))}function s(e){var t=this.get("audibleInformation");t.push(e),this.set("audibleInformation",t),this.trigger("audibleInformationUpdated",{audibleInformation:e,timestamp:this.sentAt()})}var a=n(52).get("systemUserId");e.exports=n(63).extend({resource_type:"conversation_message",_messageSentAt:null,getSenderId:function(){var e=this.get("sender_urn");return e?n(88).getAsAttributes(e).id:null},setup:function(){this.set("audibleInformation",[]),i.call(this)},sentAt:function(){return this._messageSentAt},fetchAudibles:function(){r.call(this)},getAudible:function(){var e=this.get("audibleInformation");return e&&e[0]&&e[0].model},hasDataForView:function(){return!0},getPossibleAudibleLinks:function(){var e=this.get("content")?this.get("content"):"";return e.match(n(174).scLinksRegexGlobal)},isFromSoundCloud:function(){return this.getSenderId()===a},isFromMissingUser:function(){var e=this.get("sender");return e&&"missing_user"===e.kind}},{hashFn:function(e){return e.id||[e.conversation_id,e.sent_at].join("_")}})},606:function(e,t,n){"use strict";var i={create:"userEmailCreate",update:"userEmailUpdate","delete":"userEmailDelete"};e.exports=n(63).extend({resource_type:"email",setup:function(e,t){!t||!t.userId||e&&e.user_id||this.set({user_id:t.userId})},baseUrl:null,getEndpointForMethod:function(e){return i[e]}})},607:function(e,t,n){"use strict";e.exports=n(63).extend({resource_type:"historicalPlay",submodelMap:{track:n(64)},setup:function(e){this.sound=new(n(64))({id:e.track_id}),this.addSubmodel(this.sound)}},{hashFn:function(e){var t=e.id,n=e.resource_id,i=e.track_id;return t||n||i}})},611:function(e,t,n){"use strict";e.exports=n(63).extend({resource_type:"search",baseUrl:null,submodelMap:{origin:null},createSubmodel:function(){var e,t;switch(this.get("kind")){case"user":e=n(61);break;case"track":e=n(64);break;case"playlist":e=n(80)}t=new e(this.get("origin")),this.addSubmodel(t),this.resource=t},getAudible:function(){switch(this.get("kind")){case"track":case"playlist":return this.resource;default:return null}},isPromoted:function(){return"promoted"===this.get("campaign")}},{hashFn:function(e){return e.resource_id||e.id}})},614:function(e,t,n){"use strict";var i={bandpage:"BandPage",bandcamp:"Bandcamp",bandsintown:"Bandsintown",beatport:"Beatport",berklee:"Berklee",ccmixter:"ccMixter",discogs:"Discogs",facebook:"Facebook",flavors:"flavors.me",flickr:"Flickr",foursquare:"Foursquare",freesound:"Freesound",gigatools:"Gigatools",google_plus:"Google+",hypem:"Hype Machine",instagram:"Instagram",itunes_podcast:"iTunes Podcast",lastfm:"Last.fm",mixcloud:"Mixcloud",myspace:"MySpace",ning:"Ning",pinterest:"Pinterest",purevolume:"PureVolume",residentadvisor:"Resident Advisor",residentadvisorlabel:"Resident Advisor",reverbnation:"ReverbNation",snapchat:"Snapchat",songkick:"Songkick",soundcloud:"SoundCloud",spotify:"Spotify",thedjlist:"The DJ List",tumblr:"Tumblr",twitter:"Twitter",vimeo:"Vimeo",virb:"Virb",vkontakte:"VK",whatpeopleplay:"Whatpeopleplay",wordpress:"Wordpress",youtube:"YouTube",zeroinch:"zero"};e.exports=n(63).extend({resource_type:"web-profile",getUserId:function(){return this.collection?this.collection.resource_id:this.options.userId},getNetworkName:function(){var e=this.pick("network","title","url"),t=e.network,n=e.title,r=e.url;return n?n:"personal"===t||"other"===t?r.replace(/^https?:\/\//,""):"email"===t?r:i[t]||""},isEmail:function(){return this.get("url").indexOf("@")>0},getNetworkClassName:function(){return(this.get("network")||"").replace(/[^a-z]/g,"")}},{hashFn:function(e,t){return e.id}})},704:function(e,t){function n(e){if(this.size=0,this._data=[],e)for(var t=0;t<e.length;++t)this.insert(t,e[t])}function i(){this._data.push(0)}function r(){this._data.pop()}function o(e){for(var t=0;t<this._data.length;++t)this._data[t]&=e._data[t]}function s(e){for(var t=0;e;++t)e&=e-1;return t}function a(e,t,n){var i=(1<<t-e+1)-1<<e;return n||(i=~i),i}var l=1<<31;e.exports=n,n.combine=function(e){var t=e[0].clone();return t.applyAnd(e.slice(1)),t},n.prototype={get:function(e){return 0!==(this._data[e/32|0]&1<<e%32)},set:function(e,t){if(!(0>e||e>=this.size)){var n=e/32|0,i=e%32;this._data[n]^=(!t-1^this._data[n])&1<<i}},insert:function(e,t){if(!(e>this.size||0>e)){var n,r,o,s,u;if(this.size%32===0&&i.call(this),e<this.size){for(n=e/32|0,r=e%32,o=this._data[n],u=this._data.length-1;u>n;--u)this._data[u]<<=1,this._data[u-1]&l&&(this._data[u]|=1);s=a(0,r-1,!1),this._data[n]=o<<1&s|o&~s}++this.size,this.set(e,t)}},remove:function(e){if(!(e>=this.size||0>e)){var t,n,i,o,s;if(e<this.size-1)for(t=e/32|0,n=e%32,i=this._data[t],o=a(0,n-1,!1),this._data[t]=i>>>1&o|i&~o,s=t+1;s<this._data.length;++s)1&this._data[s]&&(this._data[s-1]|=l),this._data[s]>>>=1;--this.size%32===0&&r.call(this)}},applyAnd:function(e){for(var t=0;t<e.length;++t)o.call(this,e[t])},clearRange:function(e,t){var n,i,r,o=e/32|0,s=t/32|0;for(r=o;s>=r;++r)n=Math.max(0,e-32*r),i=Math.min(31,t-32*r),0===n&&31===i?this._data[r]=0:this._data[r]&=a(n,i,0)},clone:function(){var e=new n;return e._data=this._data.slice(),e.size=this.size,e},getIndexes:function(e){for(var t=[],n=!!e,i=0;i<this.size;++i)this.get(i)===n&&t.push(i);return t},countValuesInRange:function(e,t,n){t=t||0,n=void 0===n?this.size-1:n;var i,r,o,l,u=t/32|0,c=n/32|0,d=0;for(o=u;c>=o;++o)i=Math.max(0,t-32*o),r=Math.min(31,n-32*o),l=0===i&&31===r?this._data[o]:this._data[o]&a(i,r,1),d+=s(l);return e?d:n-t-d+1}}},705:function(e,t,n){/*!
	 * Bowser - a browser detector
	 * https://github.com/ded/bowser
	 * MIT License | (c) Dustin Diaz 2015
	 */
!function(t,i){"undefined"!=typeof e&&e.exports?e.exports=i():n(3587)(t,i)}("bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var i,r=t(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(e),a=!o&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),u=!l&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),d=/silk/i.test(e),p=/sailfish/i.test(e),h=/tizen/i.test(e),f=/(web|hpw)os/i.test(e),g=/windows phone/i.test(e),m=!g&&/windows/i.test(e),v=!r&&!d&&/macintosh/i.test(e),_=!a&&!p&&!h&&!f&&/linux/i.test(e),y=t(/edge\/(\d+(\.\d+)?)/i),b=t(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e),x=!w&&/[^-]mobi/i.test(e),k=/xbox/i.test(e);/opera|opr|opios/i.test(e)?i={name:"Opera",opera:s,version:b||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:s,version:b||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:s,version:b||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:s,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:s,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:s,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:s,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:s,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:s,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(i={name:"Windows Phone",windowsphone:s},y?(i.msedge=s,i.version=y):(i.msie=s,i.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:s,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?i={name:"Chrome",chromeos:s,chromeBook:s,chrome:s,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?i={name:"Microsoft Edge",msedge:s,version:y}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:s,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||b}:p?i={name:"Sailfish",sailfish:s,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:s,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:s,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=s)):d?i={name:"Amazon Silk",silk:s,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:s,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:s,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",blackberry:s,version:b||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(i={name:"WebOS",webos:s,version:b||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=s)):/bada/i.test(e)?i={name:"Bada",bada:s,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:h?i={name:"Tizen",tizen:s,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:s,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(e)?i={name:"Chromium",chromium:s,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:s,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?i={name:"Android",version:b}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:s},b&&(i.version=b)):r?(i={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},b&&(i.version=b)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:s,version:t(/googlebot\/(\d+(\.\d+))/i)||b}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=s):(i.name=i.name||"Webkit",i.webkit=s),!i.version&&b&&(i.version=b)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=s,i.version=i.version||t(/gecko\/(\d+(\.\d+)?)/i)),i.msedge||!a&&!i.silk?r?(i[r]=s,i.ios=s):v?i.mac=s:k?i.xbox=s:m?i.windows=s:_&&(i.linux=s):i.android=s;var S="";i.windowsphone?S=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r?(S=t(/os (\d+([_\s]\d+)*) like mac os x/i),S=S.replace(/[_\s]/g,".")):a?S=t(/android[ \/-](\d+(\.\d+)*)/i):i.webos?S=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?S=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?S=t(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(S=t(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(i.osversion=S);var E=S.split(".")[0];return w||u||"ipad"==r||a&&(3==E||E>=4&&!x)||i.silk?i.tablet=s:(x||"iphone"==r||"ipod"==r||a||l||i.blackberry||i.webos||i.bada)&&(i.mobile=s),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=s:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=s:i.x=s,i}function t(e){return e.split(".").length}function n(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)i.push(t(e[n]));return i}function i(e){for(var i=Math.max(t(e[0]),t(e[1])),r=n(e,function(e){var r=i-t(e);return e+=new Array(r+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(r[0][i]>r[1][i])return 1;if(r[0][i]!==r[1][i])return-1;if(0===i)return 0}}function r(t,n,r){var o=a;"string"==typeof n&&(r=n,n=void 0),void 0===n&&(n=!1),r&&(o=e(r));var s=""+o.version;for(var l in t)if(t.hasOwnProperty(l)&&o[l])return i([s,t[l]])<0;return n}function o(e,t,n){return!r(e,t,n)}var s=!0,a=e("undefined"!=typeof navigator?navigator.userAgent:"");return a.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in a)return!0}return!1},a.isUnsupportedBrowser=r,a.compareVersions=i,a.check=o,a._detect=e,a})},768:function(e,t,n){"use strict";e.exports=n(2602)()?Object.assign:n(2603)},769:function(e,t,n){"use strict";e.exports=n(2613)()?String.prototype.contains:n(2614)},770:function(e,t,n){"use strict";var i,r=n(1443),o=n(768),s=n(228),a=n(229),l=n(287),u=n(2588),c=n(258),d=Object.defineProperty,p=Object.defineProperties;e.exports=i=function(e,t){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");p(this,{__list__:l("w",a(e)),__context__:l("w",t),__nextIndex__:l("w",0)}),t&&(s(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete i.prototype.constructor,p(i.prototype,o({_next:l(function(){var e;return this.__list__?this.__redo__&&(e=this.__redo__.shift(),void 0!==e)?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind():void 0}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:l(function(e){return this.__list__[e]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[c.toStringTag]||"Object")+"]"})},u({_onAdd:l(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void d(this,"__redo__",l("c",[e]));this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)}}),_onDelete:l(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),-1!==t&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:l(function(){this.__redo__&&r.call(this.__redo__),this.__nextIndex__=0})}))),d(i.prototype,c.iterator,l(function(){return this}))},1030:function(e,t,n){e.exports=n.p+"assets/images/header/cloud-e365a47.png"},1031:function(e,t,n){e.exports=n.p+"assets/images/header/cloud@2x-e5fba46.png"},1032:function(e,t,n){e.exports=n.p+"assets/images/header/wordmark-d95b0ac.png"},1033:function(e,t,n){e.exports=n.p+"assets/images/header/wordmark@2x-8fdb346.png"},1034:function(e,t,n){e.exports=n.p+"assets/images/list-bullet-ab4e6e4.png"},1037:function(e,t,n){e.exports=n.p+"assets/images/messages/deleted_user_40-8817cd0.png"},1072:function(e,t,n){e.exports=n.p+"assets/images/playlist-cover-bg_small-1e40200.png"},1073:function(e,t,n){e.exports=n.p+"assets/images/playlist-cover-bg_small@2x-c437aa7.png"},1088:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-confirm-email-banner l-inner-fullwidth"></div>\n<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="l-listen-hero">\n\n</div>\n<div class="l-listen-wrapper">\n  <div class="l-about-main">\n    <div class="l-about-rows">\n      <div class="l-about-row">\n        <div class="l-about-top">\n\n        </div>\n      </div>\n      <div class="l-about-row l-listen__mainContent">\n        <div class="l-about-left">\n\n        </div>\n        <div class="l-about-right">\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},1089:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-premium">\n  <div class="l-creators-navigation l-inner-fullwidth"></div>\n  <div class="l-premium-banner l-inner-fullwidth">\n\n  </div>\n  <div class="l-premium-content">\n\n  </div>\n</div>\n'},useData:!0})},1090:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-creators-navigation l-inner-fullwidth"></div>\n<div class="l-main l-inner-fullwidth"></div>\n<div class="l-stats-footer"></div>\n'},useData:!0})},1158:function(e,t,n){function i(e,t,n){for(var i=-1,r=s(t),o=r.length;++i<o;){var a=r[i],l=e[a],u=n(l,t[a],a,e,t);(u===u?u===l:l!==l)&&(void 0!==l||a in e)||(e[a]=u)}return e}var r=n(3207),o=n(3210),s=n(1487),a=o(function(e,t,n){return n?i(e,t,n):r(e,t)});e.exports=a},1159:function(e,t,n){var i=n(2196);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1160:function(e,t,n){var i=n(2199);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1226:function(e,t){!function(){var t,n,i,r,o,s,a,l;t={html5:{allowed_params:["url","auto_play","color","show_artwork","show_comments","show_user","show_reposts","hide_related","show_teaser"],supported_types:["track","playlist","group","user"],root_url:"https://w.soundcloud.com/player/",template:'<iframe width="100%" height="{height}" scrolling="no" frameborder="no" src="{src}"></iframe>',height:{single:166,multi:450}},visual:{allowed_params:["url","auto_play","visual","show_comments","show_user","show_reposts","hide_related","color","show_teaser"],supported_types:["track","playlist","group","user"],root_url:"https://w.soundcloud.com/player/",template:'<iframe width="100%" height="{height}" scrolling="no" frameborder="no" src="{src}"></iframe>',height:{single:450,multi:450}},html5_mini:{allowed_params:["url","auto_play","color","inverse","show_user"],supported_types:["track"],root_url:"https://w.soundcloud.com/player/",template:'<iframe width="100%" height="20" scrolling="no" frameborder="no" src="{src}"></iframe>',height:{single:20,multi:20}}},a={track:'<span><a href="{resource_url}">{resource_title}</a> by <a href="{user_url}">{user_name}</a></span>',playlist:'<span><a href="{resource_url}">{resource_title}</a> by <a href="{user_url}">{user_name}</a></span>',user:'<span>Latest sounds by <a href="{resource_url}">{resource_title}</a></span>',group:'<span><a href="{resource_url}">{resource_title}</a></span>'},n=function(e){return[].slice.call(arguments,1).forEach(function(t){if(t)for(var n in t)e[n]=t[n]}),e},s={render:function(e,t){var n=/\{([^\{\}]*)\}/g;return t.replace(n,function(t,n){var i=e[n];return"string"==typeof i||"number"==typeof i?i:t})},html:function(e,n){var i=t[n.type].template,r=n.text?a[e.resource_type]||"":"";return this.render(e,i)+this.render(e,r)}},r=function(e,r){var a,u,c={type:"html5",text:!1},d=i(e);return r=n(c,r),r.params=n({},r.params),u=t[r.type],-1===u.supported_types.indexOf(e.kind)?!1:("visual"===r.type&&(r.params.visual=!0),a={user_name:e.user?e.user.username:null,user_url:e.user?e.user.permalink_url.replace(/^http:/,"https:"):null,resource_title:e.title||e.name||e.username,resource_url:e.permalink_url.replace(/^http:/,"https:"),resource_type:e.kind,api_url:d,height:o(e,r,u),params:r.params,src:[u.root_url,"?",l(n({url:d},r.params),r.type)].join("")},s.html(a,r))},i=function(e){var t=e.secret_uri||e.uri,n="public"===e.sharing;return n&&(t=t.replace(/\?secret_token=([^&]*)/,"")),t.replace(/^http:/,"https:")},l=function(e,n){var i,r,o,s,a,l=[];if(e)for(i in e)if(e.hasOwnProperty(i)&&-1!==t[n].allowed_params.indexOf(i)&&(s=e[i],null!==s&&s!==a))if("object"==typeof s)for(o=s.length,r=0;o>r;++r)l.push(encodeURIComponent(i)+"="+encodeURIComponent(s[r]).replace(/%2F/g,"/"));else l.push(encodeURIComponent(i)+"="+encodeURIComponent(s).replace(/%2F/g,"/"));return l.join("&amp;")},o=function(e,t,n){return t.height?t.height:"track"===e.kind?n.height.single:n.height.multi},"undefined"!=typeof e&&e.exports?e.exports=r:(window.SC=window.SC||{},window.SC.getEmbedCode=r)}()},1227:function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:",",decimal:"."},relativeTime:{justNow:"Just now",rightNow:"Right now",future:"%s",past:"%s",sec:n(["1 second","%d seconds"]),min:n(["1 minute","%d minutes"]),hour:n(["1 hour","%d hours"]),day:n(["1 day","%d days"]),month:n(["1 month","%d months"]),year:n(["1 year","%d years"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortWeekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minWeekdays:["Su","Mo","Tu","We","Th","Fr","Sa"]},d3:{grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},1228:function(e,t){var n={getPurchaseTitle:function(e,t){var n,i=e.purchase_url,r=this._shops;if(t=t||"Buy",i&&!e.purchase_title)for(n in r)if(r.hasOwnProperty(n)&&r[n].test(i))switch(n){case"Flattr":return"Flattr";case"Promohutt":return"Subscribe on Promo Hutt";default:return t+" on "+n}return e.purchase_title||t},getStoreName:function(e){var t,n=e.purchase_url,i=this._shops;if(n)for(var r in i)if(i[r].test(n)){t=r;break}return t},_shops:{Amazon:/ama?zo?n\.(co\.(jp|uk)|com|de|to)/,Beatport:/beatport\.(com|it)/,iTunes:/apple\.com/,Juno:/juno(\.co\.uk|download\.com)/,"Digital Tunes":/digital-tunes\.net/,'zero"':/zero-inch\.com/,trackitdown:/trackitdown\.net/,whatpeopleplay:/whatpeopleplay\.com/,DJdownload:/djdownload\.com/,Minno:/soundra\.in/,Flattr:/flattr\.com/,Ganxy:/ganxy\.com/,Legitmix:/legitmix\.com|lgt\.mx/,Promohutt:/promohutt\.com/}};"undefined"!=typeof e&&e.exports?e.exports=n:(window.SC=window.SC||{},window.SC.OnlineStores=n)},1229:function(e,t,n){e.exports=n(1536)},1230:function(e,t,n){!function(t,i){e.exports=i(n(161),n(173))}(this,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2),s=r.helpers.abortableJob.AbortableJob,a=r.helpers.Promise,l=function(e){function t(t){var n=t.urlsWithRenditions,i=t.trackId,r=void 0===i?null:i,o=e.call(this)||this;return o._trackId=r,o._urlsWithRenditions=n,o}return i(t,e),t.prototype.getTrackId=function(){return this._trackId},t.prototype.excludeRendition=function(e){this._urlsWithRenditions=this._urlsWithRenditions.filter(function(t){return t.rendition!==e})},t.prototype.getUrl=function(){var e=this,t=new s(function(){var t=e._urlsWithRenditions[0]||null;return{result:a.resolve(t)}});return t.run()},t}(o.BaseStreamUrlRetriever);t.StreamUrlRetriever=l},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.7.8",t.buildNumber=379;var i=n(0);t.StreamUrlRetriever=i.StreamUrlRetriever}])})},1231:function(e,t){"use strict";function n(e,t,i,s){var a=e.firstChild,l=void 0;if(a)do a.nodeType===r?t(a):a.nodeType===o&&n(a,t,i,s),l=a;while((a=a.nextSibling)&&(!i||i(l)));s&&a&&s(a)}var i=Node,r=i.TEXT_NODE,o=i.ELEMENT_NODE;e.exports=n},1232:function(e,t,n){"use strict";var i=n(1278).makeFilterGenerator(["output"]);e.exports=n(131).extend({model:n(246),defaults:{query:null},setupSources:function(){var e=this.options.query;return this.remoteCollection=new(n(1561))(null,{query:e,limit:10}),[[new(n(335)),{maxModels:2}],[new(n(535)),{maxModels:2}],[new(n(337))(null,{userId:n(52).get("me").id}),{maxModels:2}],this.remoteCollection]},updateFilter:function(e){var t=i(e);this.setFilter("term",function(e){return"query"===e.get("kind")||t(e)}),this.remoteCollection.updateQuery(e)},getQueryUrn:function(){return this.remoteCollection.queryUrn},extractModel:function(e){switch(e.get("kind")||e.get("type")){case"user":return new(n(246))({entity:n(3).clone(e.attributes),output:e.get("username"),highlights:[],kind:"following"});case"track":return new(n(246))({entity:n(3).clone(e.attributes),output:e.get("title"),highlights:[],kind:"like"});case"playlist":case"playlist-like":return new(n(246))({entity:n(3).clone(e.get("playlist")),output:e.get("playlist").title,highlights:[],kind:"playlist"});default:return!1}}},{hashFn:function(){return 1}})},1233:function(e,t,n){"use strict";function i(e){var t=e.audibleInformation.model;t&&this.attachments.add({urn:t.getUrn(),timestamp:e.timestamp})}function r(e){var t=this;e.some(function(e){return e===t.options.resource_id?(t.fetchUnread(),!0):void 0})}e.exports=n(69).extend({model:n(605),attachments:null,setup:function(e){var t=e.resource_id;this.attachments=new(n(1551))(null,{conversationId:t}),this.listenTo(this,"audibleInformationUpdated",i).listenTo(n(54),"new-unread-messages",r)},baseUrl:function(){return n(303).baseUrlWithId(this.resource_id,"messages")},comparator:function(e,t){return t.sentAt()-e.sentAt()},fetchUnread:function(){this.fetch({add:!0,remove:!1,url:this.baseUrl()+"?limit=10&linked_partitioning=1"})},getAttachments:function(){return this.attachments}},{onCleanup:function(e){e.attachments.release()}})},1234:function(e,t,n){"use strict";e.exports=n(131).extend(n(306).withOptions({fields:["username"]}),{model:n(61),defaults:{limit:2e3,maxModels:null},setup:function(e){var t=e.query;n(131).prototype.setup.apply(this,arguments),this.setUserInput(t)},setupSources:function(){return[[new(n(335)),{maxModels:this.options.maxModels}]]}},{prefetch:function(){n(335).prefetch()}})},1235:function(e,t,n){"use strict";e.exports=n(69).extend(n(126),{model:n(64),next_href:!1,lastFetchTime:Date.now(),getSourceInfo:function(){return this.options.sourceInfo||{}}})},1236:function(e,t,n){"use strict";e.exports=n(69).extend({actionName:null,defaults:{resource_id:null,resource_type:null},model:n(61),setup:function(e){var t=e.resource_type,i=e.resource_id,r=n(3).result(this,"actionName"),o=t,s=r+":target:"+o+":"+i;this.listenTo(n(71),s,this.onAction)},onAction:function(e){if(e.state)this.add({id:e.origin},{at:0});else{var t=this.get(e.origin);t&&this.remove(t)}}})},1237:function(e,t,n){"use strict";function i(e){var t=e.state,i=e.target,r=this.get(i);if(r&&this.remove(r),t){var o=new(n(125))({id:i});o.release(),this.add(o,{at:0})}}var r=e.exports=n(69).extend({model:n(125),setup:function(){this.listenTo(n(71),"likeStation",i)},baseUrl:function(){return this.getEndpointUrl("likedStations")},parse:function(e){var t=e.collection,i=n(3).values(n(125).types);return t.filter(function(e){var t=e.type;return i.indexOf(t)>-1})}},{hashFn:function(){return 1}});n(353).applyTo(r,{fields:["title"]})},1239:function(e,t,n){"use strict";function i(e){return"artist_recommended"}function r(e){return e.split("").reduce(function(e,t){return e+t.charCodeAt(0)},0)%1e3}e.exports=n(69).extend({model:n(125),defaults:{type:"artist"},baseUrl:function(){var e=i(this.options.type);return this.getEndpointUrl("recommendedStations",{type:e})},shuffleBy:function(e){var t=r(e);this.comparator=function(i){return i.id===e?1/0:n(88).toComponents(i.id).id%t},this.sort()}},{hashFn:function(e,t){return t.type||"artist"}})},1243:function(e,t,n){(function(t){"use strict";var i=200,r=1e3,o=5e3;e.exports=n(69).extend({model:n(1735),_isLooping:!1,_loopInterval:null,_approvalDeferred:null,_isPending:!1,setup:function(){var e=this;this.listenTo(this,"change:entry_time",n(3).debounce(function(){e.sort({silent:!0})},i)).listenTo(this,"submission:success",function(){e._isPending=!0,e.trigger("change:approval")})},fetch:function(e){return e.timeout=o,n(69).prototype.fetch.call(this,e)},baseUrl:function(){return this.getEndpointUrl("visuals",{},{urn:"soundcloud:sounds:"+this.resource_id})},isLooping:function(){return this._isLooping},getLoopInterval:function(){return this._loopInterval},parse:function(e){var t=e&&e.visuals;return t?(t=n(3).map(t,function(e){return e.id=n(88).getAsAttributes(e.urn).id,e.filename=e.visual_url.split("/").pop(),e}),e.is_looping&&e.loop_interval&&(this._isLooping=!0,this._loopInterval=Math.max(r,e.loop_interval)),t):this.toJSON()},isApproved:function(){return!(!this.length||!this.at(0).get("urn"))},isPending:function(){return this._isPending},submitForApproval:function(e){if(!n(96).formData)return void this.trigger("submission:error");var i=new window.FormData,r={visuals:[],user_urn:n(52).get("me").getUrn(),urn:e};return this.forEach(function(e,t){var o;e&&e.has("file")&&(o=e.toJSON(),n(3).omit(o,"visual_url","urn","_resource_id","_resource_type"),o.entry_time=Math.floor(o.entry_time),r.visuals.push(o),i.append("visuals[upload-"+t+"]",e.get("file"),e.get("filename")))}),i.append("visuals_data",JSON.stringify(r)),t.ajax({url:n(52).get("visualsQueueHost"),type:"POST",data:i,processData:!1,contentType:!1,dataType:"json",beforeSend:function(e){e.setRequestHeader("Authorization","OAuth "+n(60).getAuthToken())}}).done(this.trigger.bind(this,"submission:success")).fail(this.trigger.bind(this,"submission:error"))},fetchApprovalStatus:function(){var e=this,i="soundcloud:sounds:"+this.options.resource_id,r=n(52).get("me").getUrn(),o=this._approvalDeferred,s=function(t){t&&t.urn&&(e._isPending=!0),o.resolve()};return o&&"rejected"!==o.state()?o:(o=this._approvalDeferred=n(53).defer(),t.ajax(n(52).get("visualsQueueHost")+"/"+i,{data:{user_urn:r},beforeSend:function(e){e.setRequestHeader("Authorization","OAuth "+n(60).getAuthToken())}}).done(s).fail(o.reject),o)},comparator:function(e){return e.get("entry_time")}})}).call(t,n(1))},1244:function(e,t,n){"use strict";var i=(e.exports=n(131).extend({model:n(376),setupSources:function(){var e=this.options,t=e.category,r=[new(n(1564))(null,e)];return t&&"who_to_follow"!==t||r.unshift(new i(null,e)),r}}),n(69).extend(n(1670),{model:n(376),adZone:"suggestedUsers",_deferred:null,meIds:null,setup:function(){this.meIds=new(n(489))},fetch:function(e){var t=this;if(this._deferred)return this._deferred;var i=this._deferred=n(53).defer();return this.meIds.fetch().done(function(){n(69).prototype.fetch.call(t,e).done(i.resolve).fail(i.reject)}).fail(i.reject),i.always(function(){t._deferred=null}),i},parse:function(e){var t=this.meIds;return e.filter(function(e){return!t.get(e.origin.id)})}},{onCleanup:function(e){e.meIds.release(),e.meIds=null},hashFn:function(e,t){return t&&t.category||1}}))},1245:function(e,t,n){"use strict";e.exports=n(297).extend({defaults:{limit:n(52).get("maxComments")},initialize:function(){n(297).prototype.initialize.apply(this,arguments),this.threads=[],this.listenTo(this,"remove",this._removeComment)},threads:null,_addComment:function(e){var t,i,r,o,s=e.get("timestamp");r=this.getTimestampIndex(s),i=this.threads[r],e.created_timestamp=Date.parse(e.get("created_at")),i&&i[0]===s?(o=n(3).sortedIndex(i[1],e,function(e){return e.created_timestamp}),i[1].splice(o,0,e)):(t=[s,[e]],this.threads.splice(r,0,t))},_removeComment:function(e){var t,n=this.getThreadAtTimestamp(e.get("timestamp"));n&&(t=n[1].indexOf(e),t>-1&&n[1].splice(t,1))},_prepareModel:function(){var e=n(297).prototype._prepareModel.apply(this,arguments);return e.created_timestamp=Date.parse(e.created_at),e.get("timestamp")>this.soundDuration&&e.set({timestamp:n(107).EMPTY_TIMESTAMP},{silent:!0}),this._addComment(e),e},comparator:function(e,t){var i=e.attributes.timestamp===n(107).EMPTY_TIMESTAMP?1/0:e.attributes.timestamp,r=t.attributes.timestamp===n(107).EMPTY_TIMESTAMP?1/0:t.attributes.timestamp;return i-r||e.created_timestamp-t.created_timestamp},getThreadComments:function(e){var t,i,r=arguments[1],o=n(3).isNumber(r)?r:0,s=n(3).isBoolean(r)?r:!1;return t=0===o?this.getThreadAtTimestamp(e):n(3).find(this.threads,function(t){return Math.abs(e-t[0])<=o&&t[0]!==n(107).EMPTY_TIMESTAMP}),i=t?t[1]:[],i.filter(s?function(e){return e.id}:n(3).identity)},getTimestamps:function(){return n(3).pluck(this.threads,0)},getTimestampIndex:function(e){return n(3).sortedIndex(this.threads,[e],function(e){return e[0]===n(107).EMPTY_TIMESTAMP?1/0:e[0]})},getThreadAtTimestamp:function(e){var t=this.getTimestampIndex(e),n=this.threads[t];return n&&n[0]===e?n:null}})},1247:function(e,t,n){"use strict";e.exports=n(131).extend(n(126),n(306).withOptions({fields:["playlist.title","playlist.user.username"]}),{model:n(374),filters:{likedAlbumsOnly:function(e){return e.isAlbum()&&e.isLiked()}},setupSources:function(){return[new(n(337))(null,this.options)]},getSourceInfo:function(){return{type:"user-liked-albums",resourceId:this.options.userId,resourceType:"user"}}})},1248:function(e,t,n){"use strict";function i(e){return e.isOwned()}function r(e){return e.isLiked()}e.exports=n(131).extend(n(126),n(306).withOptions({fields:["playlist.title","playlist.user.username"]}),{model:n(374),_filterType:"all",filters:{playlistsOnly:function(e){return!e.isAlbum()}},setupSources:function(){return[new(n(337))(null,this.options)]},setTypeFilter:function(e){if(e!==this._filterType)switch(this._filterType=e,e){case"all":this.setFilter("likedOrCreated",null);break;case"liked":this.setFilter("likedOrCreated",r);break;case"owned":this.setFilter("likedOrCreated",i)}},compareModels:function(e,t){return e.get("playlist").id===t.get("playlist").id},getSourceInfo:function(){return{type:"user-playlists",resourceId:this.options.userId,resourceType:"user"}}})},1250:function(e,t,n){"use strict";e.exports=n(69).extend({model:n(64),defaults:{limit:250},baseUrl:function(){return this.getEndpointUrl("userTracks",{id:this.options.userId})}})},1251:function(e,t,n){"use strict";e.exports=n(69).extend({model:n(342),url:null,defaults:{userId:null},setup:function(e){this.webProfiles=new(n(456))(null,e)},fetch:function(){var e=this;return this.webProfiles.fetch().done(function(t){e.lastFetchTime=Date.now(),e.reset(t)})},toJSON:function(e){return this.filter(function(e){return!e.isEmpty()}).map(function(t){return t.toJSON(e)})},saveEdits:function(){var e=this,t=this.map(function(e){return e.validate()});return n(53).all(t).then(function(){for(var t=arguments.length,i=Array(t),r=0;t>r;r++)i[r]=arguments[r];return n(3).all(i)?n(22).sync("create",e,{url:e.webProfiles.url()}):n(53).reject()})}},{hashFn:function(e,t){return t.userId}})},1252:function(e,t,n){"use strict";e.exports=[n(48).t("January"),n(48).t("February"),n(48).t("March"),n(48).t("April"),n(48).t("May"),n(48).t("June"),n(48).t("July"),n(48).t("August"),n(48).t("September"),n(48).t("October"),n(48).t("November"),n(48).t("December")]},1253:function(e,t){"use strict";function n(e,t){return 1===t?"rgb("+e+")":"rgba("+e+","+t+")"}var i="0,0,0",r="102,102,102",o="153,153,153",s="229,229,229",a="255,0,0",l="255,191,153",u="255,51,0",c="255,85,0",d="255,119,0",p="255,101,0",h="255,255,255";e.exports={_config:{barWidth:2,gapWidth:1,fadeInSteps:10,fixedTimeIndicator:!0,commentLines:!1,fullHighlight:!0},"default":{progressGradient:[[0,d],[.7,u],[.701,c],[1,c]],loaderGradient:[[0,i,.5],[1,i,.5]],backgroundGradient:[[0,r],[.7,r],[.701,r,.5],[1,r,.5]],gapGradient:[[0,o,.5],[.7,o,.5],[.701,h,0],[1,h,0]],scrubberGradientBackward:[[0,r,.5],[.7,r,.5],[.701,r,0],[1,r,0]],scrubberGradientForward:[[0,c,.5],[.7,c,.5],[.701,c,0],[1,c,0]],highlightGradientPlayed:[[0,c],[.7,c],[.701,c],[1,c]],highlightGradientUnplayed:[[0,i,.5],[1,i,.5]],progressIndicatorBg:n(i,1),progressIndicatorColor:n(p,1),durationIndicatorBg:n(i,1),durationIndicatorColor:n(o,1),dividerColorPrevious:n(a,1),dividerColorUpcoming:n(o,1)},inverted:{progressGradient:[[0,d],[.7,u],[.701,l],[1,l]],loaderGradient:[[0,h],[1,h]],backgroundGradient:[[0,h],[.7,h],[.701,s],[1,s]],gapGradient:[[0,h,0],[.28,h,.3],[.7,h,.5],[.701,h,.125],[1,h,.125]],scrubberGradientBackward:[[0,h,.5],[.7,h,.5],[.701,h,0],[1,h,0]],scrubberGradientForward:[[0,c,.5],[.7,c,.5],[.701,c,0],[1,c,0]],highlightGradientPlayed:[[0,c],[.7,c],[.701,c],[1,c]],highlightGradientUnplayed:[[0,h],[1,h]],progressIndicatorBg:n(i,1),progressIndicatorColor:n(p,1),durationIndicatorBg:n(i,1),durationIndicatorColor:n(o,1),dividerColorPrevious:n(a,1),dividerColorUpcoming:n(o,1)}}},1263:function(e,t,n){(function(t){"use strict";var i=(new Date).getFullYear();e.exports=n(77).extend({fields:{year:{defaultValue:null,datasource:n(3).range(i-13,i-100,-1).map(function(e){return{value:e,label:e}})},month:{defaultValue:null,datasource:n(1252).map(function(e,t){return{value:t+1,label:e}})}},buttons:{save:{label:n(48).t("Verify age"),action:"save"}},actions:{"default":"save",save:function(){var e=this,t=n(53).defer();return this.validate().done(function(n){n?e.saveOwnAge().done(t.resolve).fail(t.reject):t.reject()}).fail(t.reject),t}},constraints:{year:[[n(67),{message:n(48).t("Select a year.")}]],month:[[n(67),{message:n(48).t("Select a month.")}]]},saveOwnAge:function(){var e="/users/"+n(52).get("me").getUrn(),i=n(62).stringify({path:e},n(52).get("api_v2_host"));return t.ajax({type:"PUT",url:i,contentType:"application/json",dataType:"json",data:JSON.stringify({date_of_birth:this.pick("year","month")})})}},{hashFn:function(){return 1}})}).call(t,n(1))},1320:function(e,t,n){"use strict";var i=new(n(103))("already-seen"),r=function(e){var t=e.id,n=e.key;return t||n||null};e.exports=n(63).extend({resource_type:"announcement",defaults:{key:"",message:"",dismissable:!0
},baseUrl:function(){return this.getEndpointUrl("announcement",{id:this.id})},fetch:function(){},dismiss:function(){this.destroy()},isNew:function(){return!n(60).isLoggedIn()||!this.get("dismissable")},isAlreadySeen:function(){return 1===i.get(this.get("key"))},markAsSeen:function(){i.set(this.get("key"),1)}},{hashFn:r})},1321:function(e,t,n){"use strict";e.exports=n(63).extend({resource_type:"app",baseUrl:function(){return this.getEndpointUrl("app",{id:this.id})}})},1322:function(e,t,n){"use strict";e.exports=n(240).extend({readEndpoint:"userBlockingsIds",createEndpoint:"userBlockingsCreate",deleteEndpoint:"userBlockingsDelete",getDeleteEndpointPathParams:function(e){return{urn:n(88).fromComponents({collection:"users",id:e})}},getCreateEndpointQueryParams:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.reported,i=t.remove_activities;return{user_id:e,reported:n?"true":null,remove_activities:i?"true":null}}})},1326:function(e,t,n){"use strict";e.exports=n(63).extend({baseUrl:function(){return this.getEndpointUrl("territoriesWhichRequireExplicitRightsholder",{},{isrc:this.id})},parse:function(e){return{territories:e}}},{hashFn:function(e){var t=e.id,n=void 0===t?"":t,i=e.resource_id;return i||"isrc:"+n}})},1327:function(e,t,n){"use strict";e.exports=n(240).extend({maxResults:1e3,readOnly:!0,readEndpoint:"myFollowersIds"})},1328:function(e,t,n){"use strict";e.exports=n(240).extend({readEndpoint:"likedStationIds",createEndpoint:"likeStation",deleteEndpoint:"unlikeStation"})},1331:function(e,t,n){"use strict";e.exports=n(240).extend({readEndpoint:"playlistLikesIds",createEndpoint:"playlistLikesCreate",deleteEndpoint:"playlistLikesDelete"})},1332:function(e,t,n){"use strict";e.exports=n(240).extend({readEndpoint:"playlistRepostsIds",createEndpoint:"playlistRepostsCreate",deleteEndpoint:"playlistRepostsDelete"})},1333:function(e,t,n){"use strict";e.exports=n(63).extend({setup:function(){this.set("restoreToSound",null)}},{hashFn:function(){return 1}})},1335:function(e,t,n){"use strict";e.exports=n(240).extend({readEndpoint:"soundLikesIds",createEndpoint:"soundLikesCreate",deleteEndpoint:"soundLikesDelete"})},1336:function(e,t,n){"use strict";e.exports=n(240).extend({readEndpoint:"soundRepostsIds",createEndpoint:"soundRepostsCreate",deleteEndpoint:"soundRepostsDelete"})},1395:function(e,t,n){"use strict";e.exports=function(e){var t=n(175).usertextOneline(e,{links:!1});return new(n(20).SafeString)(n(175).splitWords(t))}},1396:function(e,t){"use strict";e.exports={"sc-artwork-placeholder-0":["#846170","#70929c"],"sc-artwork-placeholder-1":["#846170","#e6846e"],"sc-artwork-placeholder-2":["#846170","#8e8485"],"sc-artwork-placeholder-3":["#70929c","#846170"],"sc-artwork-placeholder-4":["#70929c","#e6846e"],"sc-artwork-placeholder-5":["#70929c","#8e8485"],"sc-artwork-placeholder-6":["#e6846e","#846170"],"sc-artwork-placeholder-7":["#e6846e","#70929c"],"sc-artwork-placeholder-8":["#e6846e","#8e8485"],"sc-artwork-placeholder-9":["#8e8485","#846170"],"sc-artwork-placeholder-10":["#8e8485","#70929c"],"sc-artwork-placeholder-11":["#8e8485","#e6846e"]}},1397:function(e,t,n){"use strict";function i(e){function t(e){var t=e.prefix;return[r(e)].filter(Boolean).concat(e.subroutes).map(function(e){var i=e.route,r=""===i?"":o(e.route).test("")?"(?:/(?:"+i+"))?":"/(?:"+i+")";return n(3).defaults({route:t+r},e)})}function i(e){var t=o(e.route),n=s(e),i=null!=e.name?e.name:e.route;return{name:i,route:t,handler:n,code:e.code}}var o=n(1537).create({includeQueryParams:!0,caseInsensitive:!1,definitions:{user:":alphanum{1,255}",sound:":alphanum{1,255}",playlist:":alphanum{1,255}",systemPlaylistPermalink:"[^/]{1,255}",id:":num+",stationType:"track|artist",stationIdentifier:":alphanum{1,255}(?:/:alphanum{1,255})?",secretToken:"s-[a-zA-Z0-9]{5}",group:":alphanum{1,255}",exploreCategory:"[^/]+",tag:".+",conversationId:":num+:(?::num+|system)",code:"\\w+",planName:"pro(?:-unlimited)?",metric:"\\w+",date:"[^/]+",monthYear:"(?:0[1-9]|1[012])-20[0-9]{2}"}});return e.reduce(function(e,n){return n.subroutes?e.concat(t(n)):e.concat(n)},[]).map(i)}function r(e){var t=e.fallThrough;return t===!0?null:{route:".*",handler:t?s(t):o}}function o(){return this.apply("error",{type:"404"})}function s(e){var t=e.redirect,n=t?function(){var e="string"==typeof t?t:t.apply(this,arguments);return this.navigate(l(e,this.getQueryString()),{replace:!0,trigger:!0})}:e.handler;return e.requiresLogin?a(n):n}function a(e){return function(){return this.isLoggedIn()?e.apply(this,arguments):this.unauthenticated()}}function l(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=e.indexOf("#")>-1?e.split(/(?=#)/):[e,""],i=n[0],r=n[1];return e.indexOf("?")>-1?i+t.replace(/^\?/,"&")+r:i+t+r}e.exports=i([{route:"(.*)",handler:function(e){var t=e.replace(/[,.)]+$/,"");return e!==t?this.navigate("/"+t,{trigger:!0,replace:!0}):this.apply("error",{type:"404"})}},{prefix:":user/:sound",subroutes:n(2180),fallThrough:!0},{prefix:":user/sets/:playlist",subroutes:n(2177)},{prefix:":user",subroutes:n(2185),fallThrough:!0},{prefix:":user/stats",subroutes:n(2184)},{prefix:":user/(?!sets/):sound/stats",subroutes:n(2183)},{prefix:"you",subroutes:n(2186)},{prefix:"you/apps",subroutes:n(2172)},{prefix:"stations",subroutes:n(2181)},{route:"(?:you/)?groups(?:/.*)?",code:410,redirect:"/"},{route:"",handler:function(){return this.isLoggedIn()?this.navigate("/stream",{replace:!0,trigger:!0}):this.apply("front")}},{prefix:"charts",subroutes:n(2169)},{route:"(?:(?:explore|tracks)(?:/:exploreCategory)?|tags|hot|latest)",redirect:function(e){return e?"/charts/top?genre="+e:"/charts/top"}},{prefix:"discover",subroutes:n(2173),fallThrough:{redirect:"/discover"}},{route:"campaigns/:alphanum+",code:410,redirect:"/"},{prefix:"people",subroutes:n(2176)},{route:"popular/searches(?:/(:num+))?",handler:function(e){return this.apply("popular-searches",{subpage:Number(e||"1")})}},{route:"(go-terms-of-use|community-guidelines|imprint|law-enforcement-guidelines)",handler:function(e){return this.apply("static-page",{pageName:e})}},{route:"(terms-of-use(?:-pro)?(?:/:monthYear)?)",handler:function(e){return this.apply("static-page",{pageName:e})}},{prefix:"pages",subroutes:n(2175)},{prefix:"tags",subroutes:n(2182),fallThrough:{redirect:"/charts"}},{route:"search(?:/(sounds|sets|people|groups|go|albums))?",handler:function(e){return this.apply("search",{category:e})}},{route:"notifications",requiresLogin:!0,handler:function(){return this.apply("activity")}},{route:"stream/activity",redirect:"/notifications"},{route:"stream",requiresLogin:!0,handler:function(){return this.apply("stream")}},{route:"logout",code:401,handler:function(){return this.apply("logout")}},{prefix:"mobile",subroutes:n(2174)},{route:"upload",handler:function(){return this.apply("upload")}},{route:"upload-beta",handler:function(){return this.apply("upload")}},{route:"next-upload",redirect:"/upload"},{route:"upload-classic",redirect:"/upload"},{route:"messages(?:/:conversationId)?",requiresLogin:!0,handler:function(e){return this.apply("inbox",{conversationId:e})}},{route:"xbox-app",handler:function(){return this.apply("xbox")}},{prefix:"pro",subroutes:n(2171)},{route:"premium(/.*)?",redirect:function(e){return"/pro"+(e||"")}},{prefix:"go",subroutes:n(2170)},{route:"(soundcloudgo|soundcloudgoplus|goplus|GO)",redirect:"/go"},{route:"(soundcloudgo/soundcloudgo)",redirect:"/go#feature-chart"},{prefix:"settings",subroutes:n(2178),fallThrough:{redirect:"/settings"}},{route:"dashboard(?:/.*)?",redirect:"/stream"},{route:"creativecommons",redirect:"/search/sounds/?filter.license=to_share"},{route:"(tracks|people|groups)/search",redirect:function(e){return"tracks"===e&&(e="sounds"),"/search/"+e}},{prefix:"signin",subroutes:n(2179)},{route:"login(?:/(.*))?",redirect:function(e){return this.isLoggedIn()?"/stream":["/signin",e].filter(Boolean).join("/")}},{route:"signup",redirect:"/signin"},{route:"activate(?:/(:alphanum+))?",requiresLogin:!0,handler:function(e){return this.apply("activate",{code:e})}},{route:"("+["settings/(connections)(?:/(.*))?"].join("|")+")(/.*)?",handler:function(){return this.notImplemented()}}])},1399:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(48,function(e){i=n(1585);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1400:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(22,function(e){i=n(1586);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1401:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(39,function(e){i=n(1587);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1402:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(20,function(e){i=n(1588);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1403:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(25,function(e){i=n(1589);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1404:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(17,function(e){i=n(1590);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1405:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(28,function(e){i=n(1591);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1406:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(40,function(e){i=n(1592);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1407:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(34,function(e){i=n(1593);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1408:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(43,function(e){i=n(1594);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1409:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(21,function(e){i=n(1595);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1410:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(19,function(e){i=n(1596);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1411:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(30,function(e){i=n(1597);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1412:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(8,function(e){i=n(1598);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1413:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(15,function(e){i=n(1599);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1414:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(41,function(e){i=n(1600);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1415:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(16,function(e){i=n(1601);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1416:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(32,function(e){i=n(1602);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1417:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(12,function(e){i=n(1603);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1418:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(47,function(e){i=n(1604);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1419:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(46,function(e){i=n(1605);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1420:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(38,function(e){i=n(1606);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1421:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(23,function(e){i=n(1607);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1422:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(45,function(e){i=n(1608);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1423:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(14,function(e){i=n(1609);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1424:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(35,function(e){i=n(1610);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1425:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(24,function(e){i=n(1611);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1426:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(10,function(e){i=n(1612);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1427:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(18,function(e){i=n(1613);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1428:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(37,function(e){i=n(1614);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1429:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(31,function(e){i=n(1615);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1430:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(5,function(e){i=n(1616);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1431:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(29,function(e){i=n(1617);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1432:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(11,function(e){i=n(1618);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1433:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(33,function(e){i=n(1619);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1434:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(42,function(e){i=n(1620);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1435:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(9,function(e){i=n(1621);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1436:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(6,function(e){i=n(1622);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1437:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(44,function(e){i=n(1623);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1438:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(13,function(e){i=n(1624);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1439:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(26,function(e){i=n(1625);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1440:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(7,function(e){i=n(1626);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1441:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(36,function(e){i=n(1627);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1442:function(e,t,n){var i,r=[];e.exports=function(e){r?r.push(e):e(i)},n.e(27,function(e){i=n(1628);var t=r;r=null;for(var o=0,s=t.length;s>o;o++)t[o](i)})},1443:function(e,t,n){"use strict";var i=n(229);e.exports=function(){return i(this).length=0,this}},1444:function(e,t){"use strict";e.exports=function(){}},1445:function(e,t,n){"use strict";var i=n(2600),r=Math.max;e.exports=function(e){return r(0,i(e))}},1446:function(e,t,n){"use strict";var i=n(326),r=Array.prototype.forEach,o=Object.create,s=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=o(null);return r.call(arguments,function(e){i(e)&&s(Object(e),t)}),t}},1447:function(e,t){"use strict";var n=Object.create,i=Object.getPrototypeOf,r={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||n;return"function"!=typeof e?!1:i(e(t(null),r))===r}},1448:function(e,t,n){"use strict";var i,r=n(2608),o=n(229),s=Object.prototype.isPrototypeOf,a=Object.defineProperty,l={configurable:!0,enumerable:!1,writable:!0,value:void 0};i=function(e,t){if(o(e),null===t||r(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,n;return e?(2===e.level?e.set?(n=e.set,t=function(e,t){return n.call(i(e,t),t),e}):t=function(e,t){return i(e,t).__proto__=t,e}:t=function r(e,t){var n;return i(e,t),n=s.call(r.nullPolyfill,e),n&&delete r.nullPolyfill.__proto__,null===t&&(t=r.nullPolyfill),e.__proto__=t,n&&a(r.nullPolyfill,"__proto__",l),e},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),n={},i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{e=i.set,e.call(t,n)}catch(r){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:(t={},t.__proto__=n,Object.getPrototypeOf(t)===n?{level:1}:!1)}()),n(2605)},1449:function(e,t,n){"use strict";var i=n(2618);e.exports=function(e){if(!i(e))throw new TypeError(e+" is not iterable");return e}},1452:function(e,t,n){e.exports=n.p+"assets/images/empty-states/playlists-17e39df.png"},1454:function(e,t,n){e.exports=n.p+"assets/images/empty-states/stream-d2c2a1b.png"},1455:function(e,t,n){e.exports=n.p+"assets/images/empty-states/stream@2x-fab0f85.png"},1456:function(e,t,n){e.exports=n.p+"assets/images/empty-states/tracks-b8fba92.png"},1457:function(e,t,n){e.exports=n.p+"assets/images/empty-states/tracks@2x-59b77a9.png"},1458:function(e,t,n){e.exports=n.p+"assets/images/failed-25974ff.png"},1459:function(e,t,n){e.exports=n.p+"assets/images/failed@2x-0ba1589.png"},1460:function(e,t,n){e.exports=n.p+"assets/images/header/query-suggestion-ed120ce.svg"},1461:function(e,t,n){e.exports=n.p+"assets/images/header/search-dbfe5cb.svg"},1462:function(e,t,n){e.exports=n.p+"assets/images/home/hp_image-6155d6b.jpg"},1463:function(e,t,n){e.exports=n.p+"assets/images/home/hp_image@2x-ae2160d.jpg"},1464:function(e,t,n){e.exports=n.p+"assets/images/notifications/error-18e777c.png"},1465:function(e,t,n){e.exports=n.p+"assets/images/notifications/good-248c30c.png"},1466:function(e,t,n){e.exports=n.p+"assets/images/notifications/good@2x-2dda7c7.png"},1467:function(e,t,n){e.exports=n.p+"assets/images/playback/volume-max-2831f71.svg"},1468:function(e,t,n){e.exports=n.p+"assets/images/playback/volume-medium-95eaa90.svg"},1469:function(e,t,n){e.exports=n.p+"assets/images/playback/volume-muted-f2ccb6f.svg"},1470:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-main"></div>\n\n'},useData:!0})},1471:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-collection">\n  <div class="l-nav">\n\n  </div>\n  <div class="l-main">\n\n  </div>\n</div>\n'},useData:!0})},1472:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-main"></div>\n\n<div class="l-consumer-sub-footer"></div>\n'},useData:!0})},1473:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-front">\n  <div class="l-front-hero l-inner-fullwidth">\n\n  </div>\n  <div class="l-front-content">\n\n  </div>\n  <div class="l-front-mobile-teaser l-inner-fullwidth">\n\n  </div>\n  <div class="l-front-osc-teaser l-inner-fullwidth">\n\n  </div>\n  <div class="l-front-signup-teaser">\n\n  </div>\n  <div class="l-front-footer">\n\n  </div>\n</div>\n'},useData:!0})},1474:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-messages-left sc-border-box"></div>\n<div class="l-messages-top g-z-index-content"></div>\n<div class="l-messages-main"></div>\n'},useData:!0})},1475:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-confirm-email-banner l-inner-fullwidth"></div>\n<div class="l-banner l-inner-fullwidth"></div>\n<div class="l-listen-hero"></div>\n<div class="l-engagement"></div>\n<div class="l-main"></div>\n'},useData:!0})},1476:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-confirm-email-banner l-inner-fullwidth"></div>\n<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="listen-content">\n\n</div>\n<div class="l-three-column listen-about">\n  <div class="l-sidebar-left">\n\n  </div>\n  <div class="l-main sc-border-light-right">\n\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},1477:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-creators-navigation l-inner-fullwidth"></div>\n<div class="l-main"></div>\n'},useData:!0})},1478:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-creators-navigation l-inner-fullwidth"></div>\n<div class="l-oscp-headline">\n\n</div>\n<div class="l-oscp-main">\n\n</div>\n</div>\n<div class="l-oscp-footer">\n\n</div>\n'},useData:!0})},1479:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-search l-fixed-fluid">\n  <div class="l-fixed-top">\n\n  </div>\n  <div class="l-fixed-left">\n\n  </div>\n  <div class="l-main">\n\n  </div>\n</div>\n'},useData:!0})},1480:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-station-hero l-inner-fullwidth">\n\n</div>\n<div class="l-one-column">\n  <div class="l-main l-station-main">\n\n  </div>\n</div>\n'},useData:!0})},1481:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-creators-navigation l-inner-fullwidth">\n\n</div>\n<div class="l-top">\n\n</div>\n<div class="l-main">\n\n</div>\n'},useData:!0})},1482:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-creators-navigation l-inner-fullwidth"></div>\n<div class="l-confirm-email-banner l-inner-fullwidth"></div>\n<div class="l-main-upload"></div>\n<div class="l-main-footer"></div>\n'},useData:!0})},1483:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-confirm-email-banner l-inner-fullwidth"></div>\n<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="l-user-hero">\n\n</div>\n<div class="l-vertical-bar">\n\n</div>\n<div class="l-fluid-fixed">\n  <div class="l-main l-user-main sc-border-light-right">\n\n  </div>\n  <div class="l-sidebar-right l-user-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},1484:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-main"></div>\n\n<div class="l-footer-container"></div>\n'},useData:!0})},1486:function(e,t,n){(function(t){"use strict";function i(e,t){return 1===arguments.length?r(e):o(e,t)}function r(e){return JSON.parse(l.getItem(e))}function o(e,t){try{return l.setItem(e,JSON.stringify(t)),!0}catch(n){return!1}}function s(e){return l.removeItem(e)}function a(){return l.clear()}var l=function(e){try{if("localStorage"in t&&t.localStorage)return t.localStorage}catch(n){}return e}(n(3205)),u=n(3206);i.set=o,i.get=r,i.remove=s,i.clear=a,i.on=u.on,i.off=u.off,e.exports=i}).call(t,function(){return this}())},1487:function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}function r(e){return null!=e&&s(_(e))}function o(e,t){return e="number"==typeof e||h.test(e)?+e:-1,t=null==t?v:t,e>-1&&e%1==0&&t>e}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function a(e){for(var t=u(e),n=t.length,i=n&&e.length,r=!!i&&s(i)&&(p(e)||d(e)),a=-1,l=[];++a<n;){var c=t[a];(r&&o(c,i)||g.call(e,c))&&l.push(c)}return l}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(p(e)||d(e))&&t||0;for(var n=e.constructor,i=-1,r="function"==typeof n&&n.prototype===e,a=Array(t),u=t>0;++i<t;)a[i]=i+"";for(var c in e)u&&o(c,t)||"constructor"==c&&(r||!g.call(e,c))||a.push(c);return a}var c=n(3211),d=n(3213),p=n(3214),h=/^\d+$/,f=Object.prototype,g=f.hasOwnProperty,m=c(Object,"keys"),v=9007199254740991,_=i("length"),y=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&r(e)?a(e):l(e)?m(e):[]}:a;e.exports=y},1488:function(e,t,n){var i=n(2190);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1489:function(e,t,n){var i=n(2191);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1490:function(e,t,n){var i=n(2192);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1491:function(e,t,n){var i=n(2193);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1492:function(e,t,n){var i=n(2194);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1493:function(e,t,n){var i=n(2195);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1494:function(e,t,n){var i=n(2197);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1495:function(e,t,n){var i=n(2198);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1496:function(e,t,n){var i=n(2200);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1497:function(e,t,n){var i=n(2201);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1498:function(e,t,n){var i=n(2202);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},1511:function(e,t,n){function i(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./activate":1399,"./activate.js":1399,"./activity":1400,"./activity.js":1400,"./charts":1401,"./charts.js":1401,"./checkout":1402,"./checkout.js":1402,"./checkout.tmpl":1470,"./collection":1403,"./collection.css":1488,"./collection.js":1403,"./collection.tmpl":1471,"./consumer-premium":1404,"./consumer-premium.css":1489,"./consumer-premium.js":1404,"./consumer-premium.tmpl":1472,"./copyright-form":1405,"./copyright-form.js":1405,"./developer-apps":1406,"./developer-apps.js":1406,"./discover":1407,"./discover.js":1407,"./error":1408,"./error.js":1408,"./front":1409,"./front.css":1490,"./front.js":1409,"./front.tmpl":1473,"./inbox":1410,"./inbox.css":1491,"./inbox.js":1410,"./inbox.tmpl":1474,"./listen":1412,"./listen-blocked.tmpl":1475,"./listen-network":1411,"./listen-network.js":1411,"./listen-promoted.css":1492,"./listen-promoted.tmpl":1476,"./listen.css":1493,"./listen.js":1412,"./listen.tmpl":1088,"./logout":1413,"./logout.js":1413,"./mobile":1415,"./mobile-pulse":1414,"./mobile-pulse.js":1414,"./mobile-pulse.tmpl":1477,"./mobile.js":1415,"./new-for-you":1416,"./new-for-you.js":1416,"./oscp":1417,"./oscp.js":1417,"./oscp.tmpl":1478,"./password-reset-success":1418,"./password-reset-success.js":1418,"./people":1420,"./people-directory":1419,"./people-directory.js":1419,"./people.js":1420,"./personal-recommended":1421,"./personal-recommended.js":1421,"./popular-searches":1422,"./popular-searches.js":1422,"./premium":1423,"./premium.css":1159,"./premium.js":1423,"./premium.tmpl":1089,"./purchased":1424,"./purchased.js":1424,"./search":1425,"./search.css":1494,"./search.js":1425,"./search.tmpl":1479,"./settings":1426,"./settings.css":1495,"./settings.js":1426,"./signin":1427,"./signin.css":1160,"./signin.js":1427,"./static-page":1428,"./static-page.js":1428,"./station":1429,"./station.css":1496,"./station.js":1429,"./station.tmpl":1480,"./stats":1430,"./stats.js":1430,"./stats.tmpl":1090,"./stream":1431,"./stream-explore.tmpl":427,"./stream.js":1431,"./subscriptions":1432,"./subscriptions.js":1432,"./system-playlist":1433,"./system-playlist.js":1433,"./tags":1434,"./tags.js":1434,"./track-manager":1435,"./track-manager.js":1435,"./track-manager.tmpl":1481,"./track-stats":1436,"./track-stats.js":1436,"./two-column-sound-hero.css":1497,"./two-column-sound-hero.tmpl":2830,"./unsubscribed":1437,"./unsubscribed.js":1437,"./upload":1438,"./upload.js":1438,"./upload.tmpl":1482,"./user":1440,"./user-network":1439,"./user-network.js":1439,"./user.css":1498,"./user.js":1440,"./user.tmpl":1483,"./widgets":1441,"./widgets.js":1441,"./xbox":1442,"./xbox.js":1442,"./xbox.tmpl":1484};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=1511},1513:function(e,t,n){var i=n(42).Deferred,r=4;e.exports=function(e){var t,n,o,s,a,l,u,c;e&&(o=e.data||null,n=e.url||"",t=e.type||"GET",s=e.dataType||"text",a=e.async,l=e.timeout,u=e.beforeSend||null);var d=i();a=a!==!1;var p=new XMLHttpRequest;return p.open(t,n,a),a&&(p.responseType="text"),u&&u(p),p.onreadystatechange=function(){if(p.readyState===r)if(clearTimeout(c),0!==p.status&&p.status<400){var e=p.responseText;if("json"===s)try{e=JSON.parse(e)}catch(t){return void d.reject(p)}d.resolve(e)}else d.reject(p)},null!=l&&(c=setTimeout(function(){p.readyState!==r&&(p.abort(),d.reject(p))},l)),p.send(o),d.promise()}},1517:function(e,t,n){(function(t){"use strict";function i(){return v.call(arguments,function(e,t){return t&&_(t).forEach(function(n){void 0===e[n]?e[n]=t[n]:"object"==typeof e[n]&&"object"==typeof t[n]&&(e[n]=i(e[n],t[n]))}),e},{})}function r(e){return JSON.parse(JSON.stringify(e))}function o(e){return"function"==typeof e?e():e}function s(e,t,n,r){if(b.forEach(function(e){if(!(e in t))throw new Error('Endpoint "'+n+'" missing required field: "'+e+'"')}),e.indexOf(t.service)<0)throw new Error('Endpoint "'+n+'" references unknown service: "'+t.service+'"');return i({name:n},t,r,y)}function a(e,t,n){return x.forEach(function(n){if(!(n in e))throw new Error('Service "'+t+'" missing required field: "'+n+'"')}),i({name:t},e,n,w)}function l(e,t){return e.replace(/:([\w-]+)/g,function(e,n){return null!=t[n]?t[n]:""})}function u(e,t){var n=e[t];if(!n)throw new Error('Could not find config for endpoint "'+t+'"');return r(n)}function c(e,t){var n=e[t];if(!n)throw new Error('Could not find config for service "'+t+'"');return r(n)}function d(e,t,n,r,s){var a=n.protocol,u=n.hostname,c=n.port,d=l(t.path,r),p=i(s,o(t.query),n.query);return e.formatUrl(a,u,c,d,p)}function p(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],r=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],o=arguments[5],s=arguments.length<=6||void 0===arguments[6]?[]:arguments[6],a=u(e.endpoints,t),l=c(e.services,a.service),d={pathParams:n,queryParams:i,headers:r,data:o,args:s};return g(e.middleware.concat(h.bind(null,e)),e.Promise,{requestOptions:d,endpoint:a,service:l})}function h(e,t){var n=t.requestOptions,r=t.endpoint,o=t.service,s=n.pathParams,a=n.queryParams,l=n.headers,u=n.data;return e.requestTransport({method:r.method,url:d(e,r,o,s,a),dataType:r.dataType,data:u||null,headers:i(l,r.headers,o.headers),timeout:r.timeout})}function f(){return"undefined"!=typeof window?window.Promise:t.Promise}var g=n(1518),m=Array.prototype,v=(m.slice,m.reduce),_=Object.keys,y={dataType:"json",method:"get",query:{},timeout:3e3,customSettings:{}},b=["path","service"],w={headers:{},port:null,protocol:"http",query:{},customSettings:{}},x=["hostname"];e.exports=function(e,t,n){var i,r=arguments.length<=3||void 0===arguments[3]?f():arguments[3],o=e.endpoints,l=e.services,h=e.defaults||{},g={middleware:[]};if(g.Promise=r,!o||!l)throw new Error("Cannot create endpoints: invalid config format");if("function"!=typeof t)throw new Error("Cannot create endpoints: no api transport given");if(g.requestTransport=t,"function"!=typeof n)throw new Error("Cannot create endpoints: no url formatter given");return g.formatUrl=n,g.services=_(l).reduce(function(e,t){return e[t]=a(l[t],t,h.services),e},{}),i=_(g.services),g.endpoints=_(o).reduce(function(e,t){return e[t]=s(i,o[t],t,h.endpoints),
e},{}),{callEndpoint:p.bind(null,g),getUrlForEndpoint:function(e,t,n){var i=u(g.endpoints,e),r=c(g.services,i.service);return d(g,i,r,t,n)},use:function(e){return void g.middleware.push(e)}}}}).call(t,function(){return this}())},1519:function(e,t,n){e.exports=n(1520)},1520:function(e,t){function n(e,t){return"function"==typeof t.test?t.test(e):e===t}e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{get:function(t,i){return e[t]&&n(e[t].experiment_name,i)?e[t].variant_name:!1},getAll:function(){return e},getVariantIds:function(){return Object.keys(e).reduce(function(t,n){return null!=e[n].variant_id&&(t[n]=e[n].variant_id),t},{})}}}},1521:function(e,t){function n(e){var t=e.data[0],n=e.data[1];if(!/https?:\/\/(.+\.|)soundcloud\.(com|dev\:[0-9]{4})/.test(e.origin))return!1;switch(t){case"i18n-locale:rendered":return i(n);case"i18n-locale:set-locale-always":return o.onLocaleChange()}}function i(e){r.style.width=e.width,r.style.height=e.height}var r,o=e.exports={init:function(e){if(!e||!e.selector||!e.host)throw new Error("i18n locale iframe: Missing parameter(s)");r=window.document.createElement("iframe"),r.src=e.host+"/i18n-locale-switcher.html",r.frameBorder=0,r.style.border="none",r.style.backgroundColor="transparent",window.addEventListener("message",n),window.document.querySelector(e.selector).appendChild(r)},onLocaleChange:function(){window.location.reload()}}},1522:function(e,t,n){function i(e){this.phrases={},this.setLocale(e)}function r(){var e=o.call(this);this.number=new f(e),this.dateTime=new h(e,this.number),this.price=new g(this.locale,this.number)}function o(){return k[this.locale]||k[w]}function s(e,t){return t?e.replace(b,function(e,n,i,r){var o=t[n||i||r];return i?_(o):o}):e}function a(e,t){return k[e].pluralForm(t)}function l(e){return Array.isArray(e)?e[0]:e.toString()}function u(e){for(var t,n,i=1,r=arguments.length;r>i;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(e){for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];for(var r in i)void 0===e[r]&&(e[r]=i[r])}return e}function d(e){var t=e.dates,n=e.d3;return{decimal:e.delimiters.decimal,thousands:e.delimiters.thousands,grouping:n.grouping,currency:n.currency,dateTime:n.dateTime,date:n.date,time:n.time,periods:n.periods,days:t.weekdays,shortDays:t.shortWeekdays,months:t.months,shortMonths:t.monthsShort}}function p(e){var t=e.datePicker,n=e.dates;return{closeText:t.closeText,prevText:t.prevText,nextText:t.nextText,currentText:t.currentText,weekHeader:t.weekHeader,dateFormat:t.dateFormat,firstDay:t.firstDay,isRTL:t.isRTL,showMonthAfterYear:t.showMonthAfterYear,yearSuffix:t.yearSuffix,monthNames:n.months,monthNamesShort:n.monthsShort,dayNames:n.weekdays,dayNamesShort:n.shortWeekdays,dayNamesMin:n.minWeekdays}}var h=n(1523),f=n(1524),g=n(1525),m="sclocale",v={};e.exports=i;var _,y="[a-zA-Z0-9_]+",b=new RegExp("\\[\\[\\[("+y+")\\]\\]\\]|\\[\\[("+y+")\\]\\]|(%d)","g"),w="en",x=n(1527),k={de:n(1526),en:n(1227),en_GB:n(1227),es:x,es_419:x,fr:n(1528),it:n(1529),nl:n(1530),pt_BR:n(1531),sv:n(1532)};i.prototype.availableLocales=Object.keys(k),i.prototype.getLocaleCookieName=function(){return m},i.prototype.setLocale=function(e){this.locale=k[e]?e:w,r.call(this)},i.prototype.setPhrases=function(e){this.phrases=e||{}},i.prototype.extend=function(e){u(this.phrases,e)},i.prototype.getLocaleDataFor=function(e){var t=o.call(this),n=v;switch(e){case"d3":return n.d3=n.d3||d(t);case"jquery.datepicker":return n["jquery.datepicker"]=n["jquery.datepicker"]||p(t);default:return t}},i.prototype.t=function(e,t,n,i){var r=(n?n+"::":"")+e,o=this.phrases[r]||e;return s.call(this,l(o),t)},i.prototype.tp=function(e,t,n,i,r,o){var u=(r?r+"::":"")+e,d=this.phrases[u],p=this.number.format(n);return d=d?d[a(this.locale,n)]:a("en",n)?t:e,s.call(this,l(d),c({"%d":p},i))},_=function(){function e(e){return t[e]||"&amp;"}var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/[&<>"'`]/g,i=/[&<>"'`]/;return function(t){return t||0===t?(t=""+t,i.test(t)?t.replace(n,e):t):""}}()},1526:function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Vor kurzem",rightNow:"Jetzt",future:"%s",past:"%s",sec:n(["1 Sekunde","%d Sekunden"]),min:n(["1 Minute","%d Minuten"]),hour:n(["1 Stunde","%d Stunden"]),day:n(["1 Tag","%d Tagen"]),month:n(["1 Monat","%d Monaten"]),year:n(["1 Jahr","%d Jahren"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD.MM.YYYY"},dates:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortWeekdays:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],minWeekdays:["So","Mo","Di","Mi","Do","Fr","Sa"]},d3:{grouping:[3],currency:[""," €"],dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Schließen",prevText:"Zurück",nextText:"Weiter",currentText:"Heute",weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}};e.exports=i},1527:function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Ahora mismo",rightNow:"Ahora mismo",future:"%s",past:"%s",sec:n(["1 segundo","%d segundos"]),min:n(["1 minuto","%d minutos"]),hour:n(["1 hora","%d horas"]),day:n(["1 día","%d días"]),month:n(["1 mes","%d meses"]),year:n(["1 año","%d años"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],weekdays:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],shortWeekdays:["Dom.","Lun.","Mar.","Mié.","Jue.","Vie.","Sáb."],minWeekdays:["Do","Lu","Ma","Mi","Ju","Vi","Sá"]},d3:{grouping:[3],currency:["€",""],dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Cerrar",prevText:"Ant",nextText:"Sig",currentText:"Hoy",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},1528:function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Récemment",rightNow:"Maintenant",future:"%s",past:"%s",sec:n(["1 seconde","%d secondes"]),min:n(["1 minute","%d minutes"]),hour:n(["1 heure","%d heures"]),day:n(["1 jour","%d jours"]),month:n(["1 mois","%d mois"]),year:n(["1 an","%d ans"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthsShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortWeekdays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],minWeekdays:["Di","Lu","Ma","Me","Je","Ve","Sa"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e>1?1:0}}},1529:function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Un momento fa",rightNow:"Ora",future:"%s",past:"%s",sec:n(["1 secondo","%d secondi"]),min:n(["1 minuto","%d minuti"]),hour:n(["1 ora","%d ore"]),day:n(["1 giorno","%d giorni"]),month:n(["1 mese","%d mesi"]),year:n(["1 anno","%d anni"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],weekdays:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortWeekdays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],minWeekdays:["Do","Lu","Ma","Me","Gi","Ve","Sa"]},d3:{grouping:[3],currency:["€",""],dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Chiudi",prevText:"Prec",nextText:"Succ",currentText:"Oggi",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},1530:function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:",",decimal:"."},relativeTime:{justNow:"Zojuist",rightNow:"Nu",future:"%s",past:"%s",sec:n(["1 seconde","%d seconden"]),min:n(["1 minuut","%d minuten"]),hour:n(["1 uur","%d uur"]),day:n(["1 dag","%d dagen"]),month:n(["1 maand","%d maanden"]),year:n(["1 jaar","%d jaar"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD-MM-YYYY"},dates:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],weekdays:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortWeekdays:["zon","maa","din","woe","don","vri","zat"],minWeekdays:["zo","ma","di","wo","do","vr","za"]},d3:{grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Sluiten",prevText:"←",nextText:"→",currentText:"Vandaag",weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},1531:function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Agora há pouco",rightNow:"Agora há pouco",future:"%s",past:"%s",sec:n(["1 segundo","%d segundos"]),min:n(["1 minuto","%d minutos"]),hour:n(["1 hora","%d horas"]),day:n(["1 dia","%d dias"]),month:n(["1 mês","%d meses"]),year:n(["1 ano","%d anos"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],shortWeekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],minWeekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Fechar",prevText:"Anterior",nextText:"Próximo",currentText:"Hoje",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},1532:function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:" ",decimal:","},relativeTime:{justNow:"Alldeles nyss",rightNow:"Alldeles nyss",future:"%s",past:"%s",sec:n(["1 sekund","%d sekunder"]),min:n(["1 minut","%d minuter"]),hour:n(["1 timme","%d timmar"]),day:n(["1 dygn","%d dygn"]),month:n(["1 månad","%d månad"]),year:n(["1 år","%d år"])},dateFormats:{readable:"YYYY MMMM DD",readableTime:"YYYY MMMM DD HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, YYYY MMMM DD","default":"YYYY-MMMM-DD"},dates:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],weekdays:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],shortWeekdays:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],minWeekdays:["Sö","Må","Ti","On","To","Fr","Lö"]},d3:{grouping:[3],currency:["","SEK"],dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"]},datePicker:{closeText:"Stäng",prevText:"Förra",nextText:"Nästa",currentText:"Idag",weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},1533:function(e,t,n){!function(t,i){e.exports=i(n(161),n(1535),n(1534))}(this,function(e,t,n){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=34)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.getCode=function(){return"GENERIC"},e}();t.RetrievalError=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(t){var n=e.call(this)||this;return n._statusCode=t,n}return i(t,e),t.prototype.getStatusCode=function(){return this._statusCode},t.prototype.getCode=function(){return"UNACCEPTABLE_RESPONSE_STATUS_CODE"},t}(r.RetrievalError);t.UnacceptableResponseStatusCodeError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(24),o=n(2),s=n(11),a=n(9),l=n(30),u=i.helpers.abortableJob.AbortableJob,c=i.helpers.retry,d=c.retry,p=c.buildExponentialDelayCalculator,h=i.helpers.Promise,f=i.helpers.arrayBuffer.combine,g=i.eventDispatcher.EventDispatcher,m=i.logger.prefixLogger,v=i.logger.noOpLogger,_=function(){function e(e){var t=e.url,n=e.sequenceNumber,i=e.playlist,r=e.timeRange,s=e.encryptionConfig,c=e.initData,_=e.format,y=e.loader,b=e.playlistEventRepresentation,w=e.logger,x=void 0===w?v:w,k=e.delayCalculator,S=void 0===k?p():k,E=e.isResponseCodeAcceptable,T=void 0===E?function(e){return 200===e}:E,C=e.isResponseCodeRetryable,A=void 0===C?function(e){return!(e>=400&&500>e)}:C,P=this;this._onSegmentRequestQueued=new g,this._onSegmentRequestStart=new g,this._onSegmentRetrieved=new g,this._onSegmentRequestFailed=new g,this._onSegmentDecryptionStart=new g,this._onSegmentDecryptionEnd=new g,this._logger=m(x,"Segment"),this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDecryptionStart=this._onSegmentDecryptionStart.getHandle(),this.onSegmentDecryptionEnd=this._onSegmentDecryptionEnd.getHandle(),this._sequenceNumber=n,this._playlist=i,this._timeRange=r,this._encryptionConfig=s||null,this._initData=c||null,this._format=_,this._loader=y,this._isResponseCodeAcceptable=T,this._isResponseCodeRetryable=A,this._downloadAbortableJob=new u(function(){var e=d(function(){return new u(function(){var e=new a.Segment(b,t,n);P._onSegmentRequestQueued.dispatch({segment:e});var i=P._loader.request({url:t});i.whenRequestStarted.then(function(){return P._onSegmentRequestStart.dispatch({segment:e})}),P._logger.debug("Requesting segment.",t);var r=i.getResponse().then(function(n){if(!n)return P._logger.warn("Segment request timed out.",t),P._onSegmentRequestFailed.dispatch({segment:e,statusCode:null}),{success:!1};var i=n.statusCode;if(P._isResponseCodeAcceptable(i)){var r=n.data;return r?(P._logger.debug("Got segment response.",t,i),P._onSegmentRetrieved.dispatch({segment:e,statusCode:i}),{success:!0,result:{data:new Uint8Array(r),eventRepresentation:e}}):(P._logger.warn("Segment response contained no data.",t,i),P._onSegmentRequestFailed.dispatch({segment:e,statusCode:i}),{success:!1})}return P._isResponseCodeRetryable(i)?(P._logger.debug("Segment response code was not acceptable. Will retry.",t,i),P._onSegmentRequestFailed.dispatch({segment:e,statusCode:i}),{success:!1}):(P._logger.debug("Segment response code was not acceptable.",t,i),P._onSegmentRequestFailed.dispatch({segment:e,statusCode:i}),h.reject(new o.UnacceptableResponseStatusCodeError(i)))});return{result:r,abort:function(){P._logger.debug("Aborting segment request.",t),i.abort(),P._onSegmentRequestFailed.dispatch({segment:e,aborted:!0})}}})},S);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),this._retrieveAbortableJob=new u(function(){var e=P._downloadAbortableJob.run(),t=null,n=null,i=e.whenComplete().then(function(e){var i=e.data,r=e.eventRepresentation;return n=P._decrypt(i,r),n.whenComplete().then(function(e){P._initData&&(P._logger.debug("Prepending init data.",r),e=f([P._initData,e]));var n=l.SegmentParserFactory.retrieveSegmentParser(P._format);return P._logger.debug("Parsing segment data.",r,n.getFormat()),t=n.parseSegmentData(e,P,P._playlist),t.whenComplete().then(function(e){return P._logger.debug("Segment data ready.",r),{data:e,eventRepresentation:r}})})});return{result:i,abort:function(){e.abort(),n&&n.abort(),t&&t.abort()}}},{storeResult:!1})}return e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e.prototype.getTimeRange=function(){return this._timeRange},e.prototype.retrieveData=function(){return this._retrieveAbortableJob.run()},e.prototype._decrypt=function(e,t){var n=this,i=new u(function(){var i=n._encryptionConfig;if(!i)return{result:h.resolve(e)};n._logger.info("Finding a decryptor...");var o=r.DecryptorFactory.retrieveDecryptor(i);if(!o)return n._logger.error("Could not find a decryptor."),{result:h.reject(new s.NoDecryptorError)};n._logger.info("Decryptor found."),n._onSegmentDecryptionStart.dispatch({segment:t});var a=o.decrypt(e,i);return a.then(function(){n._logger.debug("Decrypted."),n._onSegmentDecryptionEnd.dispatch({segment:t})}),{result:a}});return i.run()},e}();t.Segment=_},function(e,t,n){"use strict";function i(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),i=0;return e.forEach(function(e){n.set(e,i),i+=e.length}),n}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(21),s=n(22),a=r.helpers.Promise,l={rate:44100,id:3},u=16,c=2,d=l.rate,p=2,h=8;t.MP3ToMP4={getInputFormat:function(){return{mimeType:"audio/mpeg"}},getOutputFormat:function(){return{mimeType:"audio/mp4",audioCodec:{id:"mp3"}}},transmux:function(e){return new a(function(t,n){function r(e){f||(f=!0,n(e))}function a(e){f||t(e)}var f=!1;try{var g=[],m=new o.MP3Parser,v=new s.MP4Mux({audioTrackId:0,videoTrackId:-1,tracks:[{codecId:p,channels:c,samplerate:l.rate,samplesize:u,timescale:d}]});if(v.ondata=function(e){return g.push(e)},m.onFrame=function(e){try{var t=new Uint8Array(e.length+1),n=p<<4;n|=l.id<<2,n|=(16===u?1:0)<<1,n|=2===c?1:0,t[0]=n,t.set(e,1);var i=0;v.pushPacket(h,t,i)}catch(o){r(o)}},m.push(e.data),m.close(),v.flush(),0===g.length)r(new Error("There was no output."));else{var _=g.shift();_?a({initData:_,data:i(g)}):r(new Error("No init data."))}}catch(y){r(y)}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=i.helpers.Promise;t.PassThrough={getInputFormat:function(){return{}},getOutputFormat:function(){return{}},transmux:function(e){return r.resolve(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.InitData=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.Key=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this._url=e}return e.prototype.getUrl=function(){return this._url},e}();t.Playlist=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this._playlist=e,this._url=t,this._sequenceNumber=n}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e}();t.Segment=i},function(e,t,n){"use strict";function i(e,t){return!(e.mimeType&&t.mimeType!==e.mimeType||e.audioCodec&&(!t.audioCodec||t.audioCodec.id!==e.audioCodec.id)||e.videoCodec&&(!t.videoCodec||t.videoCodec.id!==e.videoCodec.id))}Object.defineProperty(t,"__esModule",{value:!0}),t.isPartialMatch=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"NO_DECRYPTOR"},t}(r.RetrievalError);t.NoDecryptorError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(t){var n=e.call(this)||this;return n._details=t,n}return i(t,e),t.prototype.getDetails=function(){return this._details},t.prototype.getCode=function(){return"PLAYLIST_PARSE"},t}(r.RetrievalError);t.PlaylistParseError=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"UNSUPPORTED_ENCRYPTION_ERROR"},t}(r.RetrievalError);t.UnsupportedEncryptionError=o},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6),o=n(7),s=n(8),a=n(9);!function(e){e.InitData=r.InitData,e.Key=o.Key,e.Playlist=s.Playlist,e.Segment=a.Segment}(i=t.events||(t.events={}))},function(e,t,n){"use strict";function i(e,t,n){var i=e.getTimeRange();return n===t?!1:n>t?i.end>t&&i.start<n:i.end>t||i.start<n}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),s=o.helpers.find,a=o.eventDispatcher.EventDispatcher,l=o.helpers.abortableJob.abortedError,u=o.helpers.abortableJob.AbortableJob,c=o.logger.prefixLogger,d=o.logger.noOpLogger;!function(e){e[e.RETRIEVING_SEGMENT=0]="RETRIEVING_SEGMENT",e[e.RETRIEVED_SEGMENT=1]="RETRIEVED_SEGMENT",e[e.RETRIEVING_DATA=2]="RETRIEVING_DATA",e[e.COMPLETE=3]="COMPLETE"}(r||(r={}));var p=function(){function e(e){this._onSegmentRequestQueued=new a,this._onSegmentRequestStart=new a,this._onSegmentRetrieved=new a,this._onSegmentRequestFailed=new a,this._onSegmentDecryptionStart=new a,this._onSegmentDecryptionEnd=new a,this._onSegmentTransmuxStart=new a,this._onSegmentTransmuxEnd=new a,this._onSegmentReady=new a,this._onError=new a,this._segments=[],this._retrievingSegment=null,this._timerId=null,this._dead=!1;var t=e.playlist,n=e.getPosition,i=e.maxBufferLength,r=e.cacheSize,o=e.transmuxer,s=e.logger,l=void 0===s?d:s;if(this._logger=c(l,"PlaylistSegmentRetriever"),t&&!t.hasRetrieveCompleted())throw new Error("Playlist retrieve has not completed.");if(0>i)throw new Error("Max buffer length must be > 0.");if(0>r)throw new Error("Cache size must be > 0.");this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDecryptionStart=this._onSegmentDecryptionStart.getHandle(),this.onSegmentDecryptionEnd=this._onSegmentDecryptionEnd.getHandle(),this.onSegmentTransmuxStart=this._onSegmentTransmuxStart.getHandle(),this.onSegmentTransmuxEnd=this._onSegmentTransmuxEnd.getHandle(),this.onSegmentReady=this._onSegmentReady.getHandle(),this.onError=this._onError.getHandle(),this._playlist=t,this._transmuxer=o,this._getPosition=n,this._maxBufferLength=i,this._cacheSize=r,this.update()}return e.prototype.updateMaxBufferLength=function(e){if(this._ensureNotDead(),0>e)throw new Error("Max buffer length must be > 0.");this._logger.debug("updateMaxBufferLength() called.",e),this._maxBufferLength=e,this.update()},e.prototype.updateCacheSize=function(e){if(this._ensureNotDead(),0>e)throw new Error("Cache size must be > 0.");this._logger.debug("updateCacheSize() called.",e),this._cacheSize=e,this.update()},e.prototype.getCacheSize=function(){return this._cacheSize},e.prototype.getCacheUsage=function(){return this._segments.reduce(function(e,t){return t.state===r.COMPLETE?e+t.data.byteLength+(t.initData?t.initData.byteLength:0):e},0)},e.prototype.switchPlaylist=function(e){if(this._ensureNotDead(),e&&!e.hasRetrieveCompleted())throw new Error("Playlist retrieve has not completed.");this._logger.debug("switchPlaylist() called."),this._abortCurrentRetrieve(),this._playlist=e,this._segments=this._segments.filter(function(e){return e.state===r.COMPLETE}),this.update()},e.prototype.getSegmentsWithData=function(){return this._ensureNotDead(),this._segments.filter(function(e){return e.state===r.COMPLETE}).map(function(e){if(e.state!==r.COMPLETE)throw new Error("Unexpected error.");var t=e.segment,n=e.initData,i=e.data,o=e.eventRepresentation;return{segment:t,initData:n,data:i,eventRepresentation:o}})},e.prototype.update=function(){var e=this;this._ensureNotDead(),this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId),this._timerId=null);var t=this._getPosition(),n=t,i=0;this._segments.some(function(e){if(e.state!==r.COMPLETE)return!1;var o=e.segment.getTimeRange();return o.containsTime(i)&&(i=o.end),o.end<t?!1:o.start>n?!0:(n=o.end,!1)});var o=t+this._maxBufferLength,a=function(){var t=e._playlist;if(t){var r=t.hasEnded()&&n===t.getTotalDuration();if(r)return n=i,t.getTotalDuration()+i<o}return o>n}();if(!a)return this._abortCurrentRetrieve(),this._garbageCollect(t),void this._scheduleNextUpdate();var l=s(this._segments,function(e){if(e.state===r.RETRIEVED_SEGMENT||e.state===r.RETRIEVING_DATA){var t=e.segment.getTimeRange();return t.containsTime(n)}return!1});l?this._retrieveSegmentData(l):this._retrieveSegment(n),this._garbageCollect(t)},e.prototype.kill=function(){this._dead||(this._logger.debug("kill() called."),this._abortCurrentRetrieve(),this._dead=!0,this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId)),this._segments=[],this._logger.debug("Killed."))},e.prototype._retrieveSegmentData=function(e){var t=this;if(e.state!==r.RETRIEVED_SEGMENT&&e.state!==r.RETRIEVING_DATA)throw new Error("Segment in incorrect state for data to be retrieved.");var n=this._retrievingSegment;if(!n||n.state!==r.RETRIEVING_DATA||e.segment!==n.segment){this._abortCurrentRetrieve();var i=new u(function(){var n=!1,i=e.segment.retrieveData();t._logger.debug("Retrieving segment data...");var r=i.whenComplete().then(function(e){var i=e.data,r=e.eventRepresentation;if(n)throw l;return t._logger.debug("Retrieved segment data."),t._onSegmentTransmuxStart.dispatch({segment:r}),t._transmuxer.transmux(i).then(function(e){var i=e.data,o=e.initData;if(n)throw l;return t._onSegmentTransmuxEnd.dispatch({segment:r}),t._logger.debug("Transmuxed segment."),{data:i,initData:o,eventRepresentation:r}})});return{result:r,abort:function(){n=!0,i.abort()}}},{storeResult:!1}).run();i.onCompletion(function(n){var i=n.initData,o=n.data,s=n.eventRepresentation;t._retrievingSegment=null,t._segments.splice(t._segments.indexOf(e),1,{state:r.COMPLETE,initData:i,data:o,eventRepresentation:s,segment:e.segment}),t._logger.debug("Segment retrieve completed.",s),t.update(),t._onSegmentReady.dispatch({segment:e.segment,initData:i,data:o,eventRepresentation:s})}),i.onError(function(e){e!==l&&(t._logger.error("Error retrieving segment data.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))}),this._retrievingSegment={state:r.RETRIEVING_DATA,dataRetrieveJob:i,segment:e.segment}}},e.prototype._retrieveSegment=function(e){var t=this,n=this._retrievingSegment,i=this._playlist,o=i?i.getSegmentIndexContainingTime(e):null;if(!n||n.state!==r.RETRIEVING_SEGMENT||n.segmentIndex!==o)if(this._abortCurrentRetrieve(),i)if(null===o)this._scheduleNextUpdate();else{var s=i.getSegment(o);this._logger.debug("Retrieving segment.",o),s.onCompletion(function(e){t._logger.debug("Retrieved segment.",o),e.onSegmentRequestQueued.subscribe(t._onSegmentRequestQueued.dispatch),e.onSegmentRequestStart.subscribe(t._onSegmentRequestStart.dispatch),e.onSegmentRetrieved.subscribe(t._onSegmentRetrieved.dispatch),e.onSegmentRequestFailed.subscribe(t._onSegmentRequestFailed.dispatch),e.onSegmentDecryptionStart.subscribe(t._onSegmentDecryptionStart.dispatch),e.onSegmentDecryptionEnd.subscribe(t._onSegmentDecryptionEnd.dispatch),t._segments.splice(t._segments.indexOf(a),1);var n=e.getTimeRange(),i=t._segments.length;t._segments.some(function(e,t){return e.state===r.RETRIEVING_SEGMENT?!1:e.segment.getTimeRange().start>n.start?(i=t,!0):!1}),t._segments.splice(i,0,{state:r.RETRIEVED_SEGMENT,segment:e}),t._retrievingSegment=null,t.update()}),s.onError(function(e){e!==l&&(t._logger.error("Error retrieving segment.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))});var a={state:r.RETRIEVING_SEGMENT,segmentIndex:o,segmentRetrieveJob:s};this._segments.push(a),this._retrievingSegment=a}else this._logger.debug("Cannot retrieve segment as there is no playlist."),
this._scheduleNextUpdate()},e.prototype._abortCurrentRetrieve=function(){var e=this._retrievingSegment;e&&(e.state===r.RETRIEVING_SEGMENT?(this._logger.debug("Aborting segment retrieve job."),e.segmentRetrieveJob.abort()):e.state===r.RETRIEVING_DATA&&(this._logger.debug("Aborting segment data retrieve job."),e.dataRetrieveJob.abort()),this._retrievingSegment=null)},e.prototype._garbageCollect=function(e){var t=this._segments,n=this._cacheSize,o=this.getCacheUsage();if(!(n>=o)){var s=this._playlist,a=s&&s.hasEnded()?s.getTotalDuration():1/0,l=e+this._maxBufferLength;l>a&&(l-=a,l>=e)||t.filter(function(t){return t.state!==r.COMPLETE?!1:!i(t.segment,e,l)}).map(function(t){if(t.state!==r.COMPLETE)throw new Error("Unexpected error.");var n=t.segment.getTimeRange(),i=n.start,o=Math.min(Math.abs(e-i),i+a-e);return{segment:t,distance:o,size:t.data.byteLength+(t.initData?t.initData.byteLength:0)}}).sort(function(e,t){return t.distance-e.distance}).some(function(e){return n>=o?!0:(t.splice(t.indexOf(e.segment),1),o-=e.size,!1)})}},e.prototype._scheduleNextUpdate=function(){var e=this;this._timerId||(this._timerId=window.setTimeout(function(){e._timerId=null,e.update()},1e3))},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("Playlist segment retriever has been killed.")},e}();t.PlaylistSegmentRetriever=p},function(e,t,n){"use strict";function i(e){return 0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1?e.slice(1,-1):e}function r(e){0===e.indexOf("0x")&&(e=e.substr(2));var t=new Uint16Array(8);if(e.length%4!==0)throw new p.PlaylistParseError("Failed to parse IV (length is not multiple of 4).");for(var n=0;n<e.length;n+=4){var i=parseInt(e.substr(n,4),16);if(isNaN(i))throw new p.PlaylistParseError("Failed to parse hex number in IV string.");t[n/4]=i}return new Uint8Array(t)}function o(e){for(var t=new Uint8Array(16),n=12;16>n;n++)t[n]=e>>8*(15-n)&255;return t}function s(e){return!(e>=400&&500>e)}function a(e){var t={};D.lastIndex=0;for(var n;null!==(n=D.exec(e));){var r=n[1].trim().toLowerCase(),o=i(n[2].trim());t[r]=o}return t}Object.defineProperty(t,"__esModule",{value:!0});var l,u=n(0),c=n(3),d=n(2),p=n(12),h=n(13),f=n(8),g=n(7),m=n(6),v=u.helpers.abortableJob.AbortableJob,_=u.helpers.deferred.buildDeferred,y=u.helpers.cache.buildCache,b=u.helpers.retry,w=b.retry,x=b.buildExponentialDelayCalculator,k=u.helpers.Promise,S=u.helpers.find,E=u.helpers.url,T=u.eventDispatcher.EventDispatcher,C=u.logger.prefixLogger,A=u.logger.noOpLogger,P=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(MAP):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,D=/(.+?)=(.+?)(?:,|$)/g,M=/^\d*(\.\d+)?$/;!function(e){e[e.NONE=0]="NONE",e[e.AES_128=1]="AES_128",e[e.SAMPLE_AES=2]="SAMPLE_AES"}(l||(l={}));var I;!function(e){e[e.VOD=0]="VOD",e[e.LIVE=1]="LIVE",e[e.EVENT=2]="EVENT"}(I=t.PlaylistType||(t.PlaylistType={}));var R=function(){function e(e){var t=e.url,n=e.playlistLoader,i=e.segmentLoader,r=e.keyLoader,o=void 0===r?null:r,a=e.segmentFormat,l=e.logger,u=void 0===l?A:l,c=e.delayCalculator,p=void 0===c?x():c,h=e.keyDelayCalculator,g=void 0===h?x():h,m=e.segmentDelayCalculator,b=e.isPlaylistResponseCodeAcceptable,S=void 0===b?function(e){return 200===e}:b,E=e.isPlaylistResponseCodeRetryable,P=void 0===E?s:E,D=e.isSegmentResponseCodeAcceptable,M=void 0===D?function(e){return 200===e}:D,I=e.isSegmentResponseCodeRetryable,R=void 0===I?s:I,O=e.isKeyResponseCodeAcceptable,L=void 0===O?function(e){return 200===e}:O,F=e.isKeyResponseCodeRetryable,N=void 0===F?s:F,B=this;this._keyRetrievalJobsCache=y(),this._initDataRetrievalJobsCache=y(),this._data=null,this._playlistEventRepresentation=null,this._onPlaylistRequestQueued=new T,this._onPlaylistRequestStart=new T,this._onPlaylistRetrieved=new T,this._onPlaylistRequestFailed=new T,this._onPlaylistParseStart=new T,this._onPlaylistParseEnd=new T,this._onKeyRequestQueued=new T,this._onKeyRequestStart=new T,this._onKeyRetrieved=new T,this._onKeyRequestFailed=new T,this._onInitDataRequestQueued=new T,this._onInitDataRequestStart=new T,this._onInitDataRetrieved=new T,this._onInitDataRequestFailed=new T,this._logger=C(u,"Playlist"),this.onPlaylistRequestQueued=this._onPlaylistRequestQueued.getHandle(),this.onPlaylistRequestStart=this._onPlaylistRequestStart.getHandle(),this.onPlaylistRetrieved=this._onPlaylistRetrieved.getHandle(),this.onPlaylistRequestFailed=this._onPlaylistRequestFailed.getHandle(),this.onPlaylistParseStart=this._onPlaylistParseStart.getHandle(),this.onPlaylistParseEnd=this._onPlaylistParseEnd.getHandle(),this.onKeyRequestQueued=this._onKeyRequestQueued.getHandle(),this.onKeyRequestStart=this._onKeyRequestStart.getHandle(),this.onKeyRetrieved=this._onKeyRetrieved.getHandle(),this.onKeyRequestFailed=this._onKeyRequestFailed.getHandle(),this.onInitDataRequestQueued=this._onInitDataRequestQueued.getHandle(),this.onInitDataRequestStart=this._onInitDataRequestStart.getHandle(),this.onInitDataRetrieved=this._onInitDataRetrieved.getHandle(),this.onInitDataRequestFailed=this._onInitDataRequestFailed.getHandle(),this._url=t,this._playlistLoader=n,this._segmentLoader=i,this._keyLoader=o,this._segmentFormat=a,this._delayCalculator=p,this._keyDelayCalculator=g,this._isPlaylistResponseCodeAcceptable=S,this._isPlaylistResponseCodeRetryable=P,this._isSegmentResponseCodeAcceptable=M,this._isSegmentResponseCodeRetryable=R,this._isKeyOrInitDataResponseCodeAcceptable=L,this._isKeyOrInitDataResponseCodeRetryable=N,this._segmentDelayCalculator=m,this._downloadAbortableJob=new v(function(){var e=w(function(){return new v(function(){var e=new f.Playlist(t);B._onPlaylistRequestQueued.dispatch({playlist:e});var n=B._playlistLoader.request({url:t});n.whenRequestStarted.then(function(){B._onPlaylistRequestStart.dispatch({playlist:e})}),B._logger.debug("Requesting playlist.",t);var i=n.getResponse().then(function(n){if(!n)return B._logger.warn("Playlist request timed out.",t),B._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:null}),{success:!1};var i=n.statusCode;if(B._isPlaylistResponseCodeAcceptable(i)){var r=n.data;return r?(B._logger.debug("Got playlist response.",t,i),B._onPlaylistRetrieved.dispatch({playlist:e,statusCode:i}),{success:!0,result:{playlistContent:r,eventRepresentation:e}}):(B._logger.warn("Playlist response contained no data.",t,i),B._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:i}),{success:!1})}return B._isPlaylistResponseCodeRetryable(i)?(B._logger.debug("Playlist response code was not acceptable. Will retry.",t,i),B._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:i}),{success:!1}):(B._logger.debug("Playlist response code was not acceptable.",t,i),B._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:i}),k.reject(new d.UnacceptableResponseStatusCodeError(i)))});return{result:i,abort:function(){B._logger.debug("Aborting playlist request.",t),n.abort(),B._onPlaylistRequestFailed.dispatch({playlist:e,aborted:!0})}}})},p);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),this._retrieveJob=new v(function(){var e=B._downloadAbortableJob.run(),t=_();return e.onCompletion(function(e){var n=e.playlistContent,i=e.eventRepresentation;B._onPlaylistParseStart.dispatch({playlist:i});try{B._data=B._parsePlaylist(n)}catch(r){return B._logger.error("Error when parsing playlist.",r,n),void t.reject(r)}B._playlistEventRepresentation=i,B._onPlaylistParseEnd.dispatch({playlist:i}),t.resolve(void 0)}),e.onError(t.reject),{result:t.promise,abort:function(){return e.abort()}}},{storeResult:!1})}return e.prototype.retrieve=function(){return this._retrieveJob.run()},e.prototype.hasRetrieveCompleted=function(){return!!this._data},e.prototype.getStartingSequenceNumber=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.mediaSequence},e.prototype.getType=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.type},e.prototype.getTargetDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.targetDuration},e.prototype.getTotalDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.totalDuration},e.prototype.hasEnded=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.ended},e.prototype.getSegmentCount=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.segments.length},e.prototype.getSegment=function(e){return this.getSegments(e,e+1)[0]},e.prototype.getSegments=function(e,t){var n=this,i=this._data;if(!i)throw new Error("Not loaded yet.");var r=i.mediaSequence;void 0===e&&(e=r);var o=i.segments.length;if(void 0===t&&(t=r+o),r>e)throw new Error("Start index must be >= the first segment index.");if(r>t)throw new Error("End index must be >= the first segment index.");if(t>r+o)throw new Error("End index cannot be > than the index of the last segment.");if(e>t)throw new Error("End index must be >= start index.");return i.segments.slice(e-r,t-r).map(function(t,i){var r=new v(function(){var r=t.encryptionData,o=e+i,s=n._playlistEventRepresentation;if(!s)throw new Error("Playlist event representation should exist.");var a=n._buildEncryptionConfig(r,o),l=t.initDataUrl?n._retrieveInitData(t.initDataUrl):null,u=a.whenComplete().then(function(e){var i=function(i){return new c.Segment({url:t.url,sequenceNumber:o,playlist:n,timeRange:t.timeRange,format:n._segmentFormat,loader:n._segmentLoader,playlistEventRepresentation:s,logger:n._logger,delayCalculator:n._segmentDelayCalculator,isResponseCodeAcceptable:n._isSegmentResponseCodeAcceptable,isResponseCodeRetryable:n._isSegmentResponseCodeRetryable,encryptionConfig:e,initData:i})};return l?l.whenComplete().then(function(e){return i(e)}):i(void 0)});return{result:u,abort:function(){a.abort(),l&&l.abort()}}},{storeResult:!1});return r.run()})},e.prototype.getSegmentIndexContainingTime=function(e){var t=this._data;if(!t)throw new Error("Not loaded yet.");var n=S(t.segments,function(t){return t.timeRange.containsTime(e)});return n?t.mediaSequence+t.segments.indexOf(n):null},e.prototype._buildEncryptionConfig=function(e,t){var n=this,i=new v(function(){if(e.method===l.NONE)return{result:k.resolve(void 0)};if(e.method!==l.AES_128)return n._logger.error("Unsupported encryption method.",e.method),{result:k.reject(new h.UnsupportedEncryptionError)};var i=n._keyLoader;if(!i)return{result:k.reject(new Error("Encryption method not supported as no key loader provided."))};var r=n._retrieveKey(e.keyUrl),s=r.whenComplete().then(function(n){return{cipher:"AES-CBC",key:n,iv:e.iv||o(t)}});return{result:s,abort:function(){return r.abort()}}});return i.run()},e.prototype._retrieveKey=function(e){var t=this,n=this._keyLoader;if(!n)throw new Error("No key loader.");var i=this._playlistEventRepresentation;if(!i)throw new Error("Playlist event representation should exist.");var r=new g.Key(i,e);return this._retrieveKeyOrInitData({url:e,loader:n,cache:this._keyRetrievalJobsCache,onRequestQueued:function(){return t._onKeyRequestQueued.dispatch({key:r})},onRequestStart:function(){return t._onKeyRequestStart.dispatch({key:r})},onRequestTimedOut:function(){t._onKeyRequestFailed.dispatch({key:r,statusCode:null})},onRequestFailed:function(e){t._onKeyRequestFailed.dispatch({key:r,statusCode:e})},onRequestAborted:function(){t._onKeyRequestFailed.dispatch({key:r,aborted:!0})},onRetrieved:function(e){t._onKeyRetrieved.dispatch({key:r,statusCode:e})},type:"key"})},e.prototype._retrieveInitData=function(e){var t=this,n=this._playlistEventRepresentation;if(!n)throw new Error("Playlist event representation should exist.");var i=new m.InitData(n,e);return this._retrieveKeyOrInitData({url:e,loader:this._segmentLoader,cache:this._initDataRetrievalJobsCache,onRequestQueued:function(){return t._onInitDataRequestQueued.dispatch({initData:i})},onRequestStart:function(){return t._onInitDataRequestStart.dispatch({initData:i})},onRequestTimedOut:function(){t._onInitDataRequestFailed.dispatch({initData:i,statusCode:null})},onRequestFailed:function(e){t._onInitDataRequestFailed.dispatch({initData:i,statusCode:e})},onRequestAborted:function(){t._onInitDataRequestFailed.dispatch({initData:i,aborted:!0})},onRetrieved:function(e){t._onInitDataRetrieved.dispatch({initData:i,statusCode:e})},type:"init data"})},e.prototype._retrieveKeyOrInitData=function(e){var t=this,n=e.url,i=e.loader,r=e.cache,o=e.onRequestQueued,s=e.onRequestStart,a=e.onRequestTimedOut,l=e.onRequestFailed,u=e.onRequestAborted,c=e.onRetrieved,p=e.type,h=r.get(n);return h?this._logger.debug(p+" retrieval already in progress.",n):(h=new v(function(){var e=w(function(){return new v(function(){o();var e=i.request({url:n});e.whenRequestStarted.then(function(){return s()}),t._logger.debug("Retrieving "+p+".",n);var r=e.getResponse().then(function(e){if(!e)return t._logger.warn(p+" request timed out.",n),a(),{success:!1};var i=e.statusCode;if(t._isKeyOrInitDataResponseCodeAcceptable(i)){var r=e.data;return r?(t._logger.debug("Got "+p+" response.",n,i),c(i),{success:!0,result:new Uint8Array(r)}):(t._logger.warn(p+" response contained no data.",n,i),l(i),{success:!1})}return t._isKeyOrInitDataResponseCodeRetryable(i)?(t._logger.warn(p+" response code was not acceptable. Will retry.",n,i),l(i),{success:!1}):(t._logger.warn(p+" response code was not acceptable.",n,i),l(i),k.reject(new d.UnacceptableResponseStatusCodeError(i)))});return{result:r,abort:function(){t._logger.debug("Aborting "+p+" request.",n),e.abort(),u()}}})},t._keyDelayCalculator);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),r.set(n,h)),h.run()},e.prototype._parsePlaylist=function(e){var t={version:null,type:I.LIVE,mediaSequence:null,targetDuration:null,totalDuration:0,ended:!1},n=[],i={method:l.NONE},o=null,s=null;P.lastIndex=0;for(var c,d=0,h=!1;null!==(c=P.exec(e));){var f=c.filter(function(e,t){return 0===t?!1:void 0!==e}).map(function(e,t){return 0===t?e.toLowerCase():e}),g=f[0],m=f.slice(1);if(0===d){if("extm3u"!==g)throw new p.PlaylistParseError("First line did not contain EXTM3U tag.")}else{if(!h)switch(g){case"playlist-type":if(t.type!==I.LIVE)throw new p.PlaylistParseError("Already have playlist type.");switch(m[0].toLowerCase()){case"vod":t.type=I.VOD;break;case"event":t.type=I.EVENT;break;default:throw new p.PlaylistParseError("Invalid playlist type.")}break;case"media-sequence":if(null!==t.mediaSequence)throw new p.PlaylistParseError("Already have media sequence number.");var v=parseInt(m[0],10);if(v+""!==m[0])throw new p.PlaylistParseError("Invalid media sequence number.");t.mediaSequence=v;break;case"targetduration":if(null!==t.targetDuration)throw new p.PlaylistParseError("Already have target duration.");var _=parseInt(m[0],10);if(_+""!==m[0]||0>_)throw new p.PlaylistParseError("Invalid target duration.");t.targetDuration=1e3*_;break;case"version":if(null!==t.version)throw new p.PlaylistParseError("Already have version.");var y=parseInt(m[0],10);if(y+""!==m[0])throw new p.PlaylistParseError("Invalid version.");if(3>y)throw new p.PlaylistParseError("HLS version must be 3 or above.");t.version=y;break;default:h=!0}if(h)switch(g){case"key":var b=a(m[0]),w="method"in b?b.method.toLowerCase():null,x="uri"in b?E.buildAbsoluteUrl(this._url,b.uri):null,k="iv"in b?r(b.iv):null;if(!w)throw new p.PlaylistParseError("Missing encryption method.");if(!x&&"none"!==w)throw new p.PlaylistParseError("Missing key url.");switch(w){case"none":if(null!==x)throw new p.PlaylistParseError("Key url not allowed.");if(null!==k)throw new p.PlaylistParseError("IV not allowed.");i={method:l.NONE};break;case"aes-128":if(!x)throw new p.PlaylistParseError("Key url required.");i={method:l.AES_128,keyUrl:x,iv:k};break;case"sample-aes":if(!x)throw new p.PlaylistParseError("Key url required.");i={method:l.SAMPLE_AES,keyUrl:x,iv:k};break;default:throw new p.PlaylistParseError("Unknown encryption method.")}break;case"map":var b=a(m[0]);if(!("uri"in b))throw new p.PlaylistParseError("URI missing from EXT-X-MAP tag.");if("byterange"in b)throw new p.PlaylistParseError("BYTERANGE in EXT-X-MAP tag is currently unsupported.");o=b.uri?E.buildAbsoluteUrl(this._url,b.uri):null;break;case"inf":if(!m[0].match(M))throw new p.PlaylistParseError("Invalid segment duration.");s=1e3*parseFloat(m[0]);break;case"":if(t.ended)throw new p.PlaylistParseError("Already received ENDLIST tag.");if(null===s)throw new p.PlaylistParseError("Not received segment duration.");var S=E.buildAbsoluteUrl(this._url,m[0]);n.push({url:S,timeRange:new u.TimeRange(t.totalDuration,s),initDataUrl:o,encryptionData:i}),t.totalDuration+=s,s=null;break;case"endlist":if(t.ended)throw new p.PlaylistParseError("Already had ENDLIST tag.");t.ended=!0;break;default:this._logger.warn("Unable to parse playlist line.",g)}}d++}var T=t.version,C=t.type,A=t.mediaSequence,D=t.targetDuration,R=t.ended,O=t.totalDuration;if(null===T)throw new p.PlaylistParseError("Missing version.");if(null===D)throw new p.PlaylistParseError("Missing target duration.");if(R&&C===I.LIVE)throw new p.PlaylistParseError("Cannot be ended if type is LIVE.");if(!R&&C===I.VOD)throw new p.PlaylistParseError("Must be ended if type is VOD.");return null===A&&(A=0),{version:T,type:C,mediaSequence:A,targetDuration:D,totalDuration:O,ended:R,segments:n}},e}();t.Playlist=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(11),o=n(12),s=n(1),a=n(2),l=n(13);!function(e){e.NoDecryptorError=r.NoDecryptorError,e.PlaylistParseError=o.PlaylistParseError,e.RetrievalError=s.RetrievalError,e.UnacceptableResponseStatusCodeError=a.UnacceptableResponseStatusCodeError,e.UnsupportedEncryptionError=l.UnsupportedEncryptionError}(i=t.retrievalErrors||(t.retrievalErrors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(31);t.TransmuxerFactory={retrieveTransmuxers:function(e,t){return r["default"].filter(function(n){var r=n.getInputFormat(),o=n.getOutputFormat();return(!e||i.isPartialMatch(r,e))&&(!t||i.isPartialMatch(o,t))})},retrieveTransmuxer:function(e,n){return t.TransmuxerFactory.retrieveTransmuxers(e,n)[0]||null}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.AESDecryptor=function(){function e(){i(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return r(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),i=0;i<n.length;i++)n[i]=t.getUint32(4*i);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix[0],i=this.subMix[1],r=this.subMix[2],o=this.subMix[3],s=this.invSubMix[0],a=this.invSubMix[1],l=this.invSubMix[2],u=this.invSubMix[3],c=new Uint32Array(256),d=0,p=0,h=0;for(h=0;256>h;h++)128>h?c[h]=h<<1:c[h]=h<<1^283;for(h=0;256>h;h++){var f=p^p<<1^p<<2^p<<3^p<<4;f=f>>>8^255&f^99,e[d]=f,t[f]=d;var g=c[d],m=c[g],v=c[m],_=257*c[f]^16843008*f;n[d]=_<<24|_>>>8,i[d]=_<<16|_>>>16,r[d]=_<<8|_>>>24,o[d]=_,_=16843009*v^65537*m^257*g^16843008*d,s[f]=_<<24|_>>>8,a[f]=_<<16|_>>>16,l[f]=_<<8|_>>>24,u[f]=_,d?(d=g^c[c[c[v^g]]],p^=c[c[p]]):d=p=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,i=0;i<t.length&&n;)n=t[i]===this.key[i],i++;if(!n){this.key=t;var r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o=this.ksRows=4*(r+6+1),s=void 0,a=void 0,l=this.keySchedule=new Uint32Array(this.ksRows),u=this.invKeySchedule=new Uint32Array(this.ksRows),c=this.sBox,d=this.rcon,p=this.invSubMix[0],h=this.invSubMix[1],f=this.invSubMix[2],g=this.invSubMix[3],m=void 0,v=void 0;for(s=0;o>s;s++)r>s?m=l[s]=t[s]:(v=m,s%r===0?(v=v<<8|v>>>24,v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v],v^=d[s/r|0]<<24):r>6&&s%r===4&&(v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v]),l[s]=m=(l[s-r]^v)>>>0);for(a=0;o>a;a++)s=o-a,v=3&a?l[s]:l[s-4],4>a||4>=s?u[a]=v:u[a]=p[c[v>>>24]]^h[c[v>>>16&255]]^f[c[v>>>8&255]]^g[c[255&v]],u[a]=u[a]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var i,r,o=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,l=this.invSubMix[0],u=this.invSubMix[1],c=this.invSubMix[2],d=this.invSubMix[3],p=this.uint8ArrayToUint32Array_(n),h=p[0],f=p[1],g=p[2],m=p[3],v=new Int32Array(e),_=new Int32Array(v.length),y=void 0,b=void 0,w=void 0,x=void 0,k=void 0,S=void 0,E=void 0,T=void 0,C=void 0,A=void 0,P=void 0,D=void 0;t<v.length;){for(C=this.networkToHostOrderSwap(v[t]),A=this.networkToHostOrderSwap(v[t+1]),P=this.networkToHostOrderSwap(v[t+2]),D=this.networkToHostOrderSwap(v[t+3]),k=C^s[0],S=D^s[1],E=P^s[2],T=A^s[3],i=4,r=1;o>r;r++)y=l[k>>>24]^u[S>>16&255]^c[E>>8&255]^d[255&T]^s[i],b=l[S>>>24]^u[E>>16&255]^c[T>>8&255]^d[255&k]^s[i+1],w=l[E>>>24]^u[T>>16&255]^c[k>>8&255]^d[255&S]^s[i+2],x=l[T>>>24]^u[k>>16&255]^c[S>>8&255]^d[255&E]^s[i+3],k=y,S=b,E=w,T=x,i+=4;y=a[k>>>24]<<24^a[S>>16&255]<<16^a[E>>8&255]<<8^a[255&T]^s[i],b=a[S>>>24]<<24^a[E>>16&255]<<16^a[T>>8&255]<<8^a[255&k]^s[i+1],w=a[E>>>24]<<24^a[T>>16&255]<<16^a[k>>8&255]<<8^a[255&S]^s[i+2],x=a[T>>>24]<<24^a[k>>16&255]<<16^a[S>>8&255]<<8^a[255&E]^s[i+3],i+=3,_[t]=this.networkToHostOrderSwap(y^h),_[t+1]=this.networkToHostOrderSwap(x^f),_[t+2]=this.networkToHostOrderSwap(w^g),_[t+3]=this.networkToHostOrderSwap(b^m),h=C,f=A,g=P,m=D,t+=4}return _.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}()},function(e,t,n){"use strict";function i(){this.buffer=null,this.bufferSize=0}t.__esModule=!0,t.MP3Parser=i;var r=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];i.prototype.push=function(e){var t;if(this.bufferSize>0){var n=e.length+this.bufferSize;if(!this.buffer||this.buffer.length<n){var i=new Uint8Array(n);this.bufferSize>0&&i.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=i}this.buffer.set(e,this.bufferSize),this.bufferSize=n,e=this.buffer,t=n}else t=e.length;for(var r,o=0;t>o&&(r=this._parse(e,o,t))>0;)o+=r;var s=t-o;s>0&&(!this.buffer||this.buffer.length<s?this.buffer=new Uint8Array(e.subarray(o,t)):this.buffer.set(e.subarray(o,t))),this.bufferSize=s},i.prototype._parse=function(e,t,n){if(t+2>n)return-1;if(255===e[t]||224===(224&e[t+1])){if(t+24>n)return-1;var i=e[t+1]>>3&3,s=e[t+1]>>1&3,a=e[t+2]>>4&15,l=e[t+2]>>2&3,u=!!(2&e[t+2]);if(1!==i&&0!==a&&15!==a&&3!==l){var c=3===i?3-s:3===s?3:4,d=1e3*r[14*c+a-1],p=3===i?0:2===i?1:2,h=o[3*p+l],f=u?1:0,g=3===s?(3===i?12:6)*d/h+f<<2:(3===i?144:72)*d/h+f|0;return t+g>n?-1:(this.onFrame&&this.onFrame(e.subarray(t,t+g)),g)}}for(var m=t+2;n>m;){if(255===e[m-1]&&224===(224&e[m]))return this.onNoise&&this.onNoise(e.subarray(t,m-1)),m-t-1;m++}return-1},i.prototype.close=function(){this.bufferSize>0&&this.onNoise&&this.onNoise(this.buffer.subarray(0,this.bufferSize)),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()}},function(e,t,n){"use strict";t.__esModule=!0;var i,r,o=function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){var t;!function(e){function t(e){for(var t=new Uint8Array(4*e.length),n=0,i=0,r=e.length;r>i;i++){var o=e.charCodeAt(i);if(127>=o)t[n++]=o;else{if(o>=55296&&56319>=o){var s=e.charCodeAt(i+1);s>=56320&&57343>=s&&(o=((1023&o)<<10)+(1023&s)+65536,++i)}0!==(4292870144&o)?(t[n++]=248|o>>>24&3,t[n++]=128|o>>>18&63,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|63&o):0!==(4294901760&o)?(t[n++]=240|o>>>18&7,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|63&o):0!==(4294965248&o)?(t[n++]=224|o>>>12&15,t[n++]=128|o>>>6&63,t[n++]=128|63&o):(t[n++]=192|o>>>6&31,t[n++]=128|63&o)}}return t.subarray(0,n)}function n(e){for(var t=0,n="";t<e.length;){var i=255&e[t++];if(127>=i)n+=String.fromCharCode(i);else{var r=192,o=5;do{var s=r>>1|128;if((i&s)===r)break;r=r>>1|128,--o}while(o>=0);if(0>=o)throw new Error("Invalid UTF8 character");for(var a=i&(1<<o)-1,l=5;l>=o;--l){var u=e[t++];if(128!==(192&u))throw new Error("Invalid UTF8 character sequence");a=a<<6|63&u}n+=a>=65536?String.fromCharCode(a-65536>>10&1023|55296,1023&a|56320):String.fromCharCode(a)}}return n}e.utf8decode=t,e.utf8encode=n}(t=e.StringUtilities||(e.StringUtilities={}))}(r||(r={})),function(e){var t;!function(e){function t(e){for(var t=e.length>>1,n=new Uint8Array(t),i=0;t>i;i++)n[i]=parseInt(e.substr(2*i,2),16);return n}function n(e){var t,n=0,i=s.RAW,r=e[n],o=r>>4,d=r>>2&3,p=2&r?16:8,h=1&r?2:1;switch(n++,o){case c:var f=e[n++];i=f,t=1024;break;case u:var g=e[n+1]>>3&3,m=e[n+1]>>1&3;t=1===m?3===g?1152:576:3===m?384:1152}return{codecDescription:l[o],codecId:o,data:e.subarray(n),rate:a[d],size:p,channels:h,samples:t,packetType:i}}function i(e){var t=0,n=e[t]>>4,i=15&e[t];t++;var r={frameType:n,codecId:i,codecDescription:p[i]};switch(i){case f:var o=e[t++];r.packetType=o,r.compositionTime=(e[t]<<24|e[t+1]<<16|e[t+2]<<8)>>8,t+=3;break;case h:r.packetType=g.NALU,r.horizontalOffset=e[t]>>4&15,r.verticalOffset=15&e[t],r.compositionTime=0,t++}return r.data=e.subarray(t),r}function r(e){var t,n,i=[],r=-1,o=-1,s=+e.asGetPublicProperty("duration"),a=e.asGetPublicProperty("audiocodecid");switch(a){case u:case"mp3":t="mp3",n=u;break;case c:case"mp4a":t="mp4a",n=c;break;default:if(!isNaN(a))throw new Error("Unsupported audio codec: "+a);t=null,n=-1}var l,d,p=e.asGetPublicProperty("videocodecid");switch(p){case h:case"vp6f":l="vp6f",d=h;break;case f:case"avc1":l="avc1",d=f;break;default:if(!isNaN(p))throw new Error("Unsupported video codec: "+p);l=null,d=-1}var g=null===t?null:{codecDescription:t,codecId:n,language:"und",timescale:+e.asGetPublicProperty("audiosamplerate")||44100,samplerate:+e.asGetPublicProperty("audiosamplerate")||44100,channels:+e.asGetPublicProperty("audiochannels")||2,samplesize:16},m=null===l?null:{codecDescription:l,codecId:d,language:"und",timescale:6e4,framerate:+e.asGetPublicProperty("videoframerate")||+e.asGetPublicProperty("framerate"),width:+e.asGetPublicProperty("width"),height:+e.asGetPublicProperty("height")},v=e.asGetPublicProperty("trackinfo");if(v)for(var _=0;_<v.length;_++){var y=v[_],b=y.asGetPublicProperty("sampledescription")[0];b.asGetPublicProperty("sampletype")===a?(g.language=y.asGetPublicProperty("language"),g.timescale=+y.asGetPublicProperty("timescale")):b.asGetPublicProperty("sampletype")===p&&(m.language=y.asGetPublicProperty("language"),m.timescale=+y.asGetPublicProperty("timescale"))}return m&&(o=i.length,i.push(m)),g&&(r=i.length,i.push(g)),{tracks:i,duration:s,audioTrackId:r,videoTrackId:o}}function o(e){var t=[];return e.audioTrackId>=0&&t.push({tracks:[e.tracks[e.audioTrackId]],duration:e.duration,audioTrackId:0,videoTrackId:-1}),e.videoTrackId>=0&&t.push({tracks:[e.tracks[e.videoTrackId]],duration:e.duration,audioTrackId:-1,videoTrackId:0}),t}var s,a=[5500,11025,22050,44100],l=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"],u=2,c=10;!function(e){e[e.HEADER=0]="HEADER",e[e.RAW=1]="RAW"}(s||(s={}));var d,p=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"],h=4,f=7;!function(e){e[e.KEY=1]="KEY",e[e.INNER=2]="INNER",e[e.DISPOSABLE=3]="DISPOSABLE",e[e.GENERATED=4]="GENERATED",e[e.INFO=5]="INFO"}(d||(d={}));var g;!function(e){e[e.HEADER=0]="HEADER",e[e.NALU=1]="NALU",e[e.END=2]="END"}(g||(g={}));var m,v=8,_=9,y=50,b=!0;!function(e){e[e.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",e[e.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",e[e.MAIN_PACKETS=2]="MAIN_PACKETS"}(m||(m={}));var w=function(){function r(e){var t=this;this.oncodecinfo=function(e){},this.ondata=function(e){throw new Error("MP4Mux.ondata is not set")},this.metadata=e,this.trackStates=this.metadata.tracks.map(function(e,n){var i={trackId:n+1,trackInfo:e,cachedDuration:0,samplesProcessed:0,initializationData:[]};return t.metadata.audioTrackId===n&&(t.audioTrackState=i),t.metadata.videoTrackId===n&&(t.videoTrackState=i),i},this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}return r.prototype.pushPacket=function(e,t,r){switch(this.state===m.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),e){case v:var o=this.audioTrackState,a=n(t);if(!o||o.trackInfo.codecId!==a.codecId)throw new Error("Unexpected audio packet codec: "+a.codecDescription);switch(a.codecId){default:throw new Error("Unsupported audio codec: "+a.codecDescription);case u:break;case c:if(a.packetType===s.HEADER)return void o.initializationData.push(a.data)}this.cachedPackets.push({packet:a,timestamp:r,trackId:o.trackId});break;case _:var l=this.videoTrackState,d=i(t);if(!l||l.trackInfo.codecId!==d.codecId)throw new Error("Unexpected video packet codec: "+d.codecDescription);switch(d.codecId){default:throw new Error("unsupported video codec: "+d.codecDescription);case h:break;case f:if(d.packetType===g.HEADER)return void l.initializationData.push(d.data)}this.cachedPackets.push({packet:d,timestamp:r,trackId:l.trackId});break;default:throw new Error("unknown packet type: "+e)}this.state===m.NEED_HEADER_DATA&&this._tryGenerateHeader(),this.cachedPackets.length>=y&&this.state===m.MAIN_PACKETS&&this._chunk()},r.prototype.flush=function(){this.cachedPackets.length>0&&this._chunk()},r.prototype._checkIfNeedHeaderData=function(){this.trackStates.some(function(e){return e.trackInfo.codecId===c||e.trackInfo.codecId===f})?this.state=m.NEED_HEADER_DATA:this.state=m.CAN_GENERATE_HEADER},r.prototype._tryGenerateHeader=function(){var n=this.trackStates.every(function(e){switch(e.trackInfo.codecId){case c:case f:return e.initializationData.length>0;default:return!0}});if(n){for(var i=["isom"],r=1,o=1,s=[],a=0;a<this.trackStates.length;a++){var l,d=this.trackStates[a],p=d.trackInfo;switch(p.codecId){case c:var g=d.initializationData[0];l=new e.Iso.AudioSampleEntry("mp4a",r,p.channels,p.samplesize,p.samplerate);var v=new Uint8Array(41+g.length);v.set(t("0000000003808080"),0),v[8]=32+g.length,v.set(t("00020004808080"),9),v[16]=18+g.length,v.set(t("40150000000000FA000000000005808080"),17),v[34]=g.length,v.set(g,35),v.set(t("068080800102"),35+g.length),l.otherBoxes=[new e.Iso.RawTag("esds",v)];var _=g[0]>>3;d.mimeTypeCodec="mp4a.40."+_;break;case u:l=new e.Iso.AudioSampleEntry(".mp3",r,p.channels,p.samplesize,p.samplerate),d.mimeTypeCodec="mp3";break;case f:var y=d.initializationData[0];l=new e.Iso.VideoSampleEntry("avc1",o,p.width,p.height),l.otherBoxes=[new e.Iso.RawTag("avcC",y)];var b=y[1]<<16|y[2]<<8|y[3];d.mimeTypeCodec="avc1."+(16777216|b).toString(16).substr(1),
i.push("iso2","avc1","mp41");break;case h:l=new e.Iso.VideoSampleEntry("VP6F",o,p.width,p.height),l.otherBoxes=[new e.Iso.RawTag("glbl",t("00"))],d.mimeTypeCodec="avc1.42001E";break;default:throw new Error("not supported track type")}var w,x=e.Iso.TrackHeaderFlags.TRACK_ENABLED|e.Iso.TrackHeaderFlags.TRACK_IN_MOVIE;d===this.audioTrackState?w=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(x,d.trackId,-1,0,0,1,a),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(p.timescale,-1,p.language),new e.Iso.HandlerBox("soun","SoundHandler"),new e.Iso.MediaInformationBox(new e.Iso.SoundMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([l]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000")))))):d===this.videoTrackState&&(w=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(x,d.trackId,-1,p.width,p.height,0,a),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(p.timescale,-1,p.language),new e.Iso.HandlerBox("vide","VideoHandler"),new e.Iso.MediaInformationBox(new e.Iso.VideoMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([l]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000"))))))),s.push(w)}var k=new e.Iso.MovieExtendsBox(null,[new e.Iso.TrackExtendsBox(1,1,0,0,0),new e.Iso.TrackExtendsBox(2,1,0,0,0)],null),S=new e.Iso.BoxContainerBox("udat",[new e.Iso.MetaBox(new e.Iso.RawTag("hdlr",t("00000000000000006D6469726170706C000000000000000000")),[new e.Iso.RawTag("ilst",t("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),E=new e.Iso.MovieHeaderBox(1e3,0,this.trackStates.length+1),T=new e.Iso.MovieBox(E,s,k,S),C=new e.Iso.FileTypeBox("isom",512,i),A=C.layout(0),P=T.layout(A),D=new Uint8Array(A+P);C.write(D),T.write(D),this.oncodecinfo(this.trackStates.map(function(e){return e.mimeTypeCodec})),this.ondata(D),this.filePos+=D.length,this.state=m.MAIN_PACKETS}},r.prototype._chunk=function(){var t=this.cachedPackets;if(b&&this.videoTrackState){for(var n=t.length-1,i=this.videoTrackState.trackId;n>0&&(t[n].trackId!==i||t[n].packet.frameType!==d.KEY);)n--;n>0&&(t=t.slice(0,n))}if(0!==t.length){for(var r=[],o=0,s=[],a=[],l=0;l<this.trackStates.length;l++){var p=this.trackStates[l],g=p.trackInfo,m=p.trackId,v=t.filter(function(e){return e.trackId===m});if(0!==v.length){var _,y,w,x=new e.Iso.TrackFragmentBaseMediaDecodeTimeBox(p.cachedDuration);switch(a.push(o),g.codecId){case c:case u:w=[];for(var n=0;n<v.length;n++){var k=v[n].packet,S=Math.round(k.samples*g.timescale/g.samplerate);r.push(k.data),o+=k.data.length,w.push({duration:S,size:k.data.length}),p.samplesProcessed+=k.samples}var E=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;_=new e.Iso.TrackFragmentHeaderBox(E,m,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var T=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT;y=new e.Iso.TrackRunBox(T,w,0,0),p.cachedDuration=Math.round(p.samplesProcessed*g.timescale/g.samplerate);break;case f:case h:w=[];for(var C=p.samplesProcessed,A=C*g.timescale/g.framerate,P=Math.round(A),n=0;n<v.length;n++){var D=v[n].packet;C++;var M=Math.round(C*g.timescale/g.framerate),I=M-P;P=M;var R=Math.round(C*g.timescale/g.framerate+D.compositionTime*g.timescale/1e3);r.push(D.data),o+=D.data.length;var O=D.frameType===d.KEY?e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|e.Iso.SampleFlags.SAMPLE_IS_NOT_SYNC;w.push({duration:I,size:D.data.length,flags:O,compositionTimeOffset:R-M})}var E=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;_=new e.Iso.TrackFragmentHeaderBox(E,m,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var T=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT|e.Iso.TrackRunFlags.SAMPLE_FLAGS_PRESENT|e.Iso.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET;y=new e.Iso.TrackRunBox(T,w,0,0),p.cachedDuration=P,p.samplesProcessed=C;break;default:throw new Error("Un codec")}var L=new e.Iso.TrackFragmentBox(_,x,y);s.push(L)}}this.cachedPackets.splice(0,t.length);for(var F=new e.Iso.MovieFragmentHeaderBox(++this.chunkIndex),N=new e.Iso.MovieFragmentBox(F,s),B=N.layout(0),U=new e.Iso.MediaDataBox(r),z=U.layout(B),j=B+8,l=0;l<s.length;l++)s[l].run.dataOffset=j+a[l];var $=new Uint8Array(B+z);N.write($),U.write($),this.ondata($),this.filePos+=$.length}},r}();e.MP4Mux=w,e.parseFLVMetadata=r,e.splitMetadata=o}(t=e.MP4||(e.MP4={}))}(i||(i={})),function(e){var t;!function(e){var t;!function(e){function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Array.prototype.concat.apply(e,t)}function n(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function i(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}function s(e){return(e-p)/1e3|0}function a(e){return 65536*e|0}function l(e){return 1073741824*e|0}function u(e){return 256*e|0}function c(e){return(31&e.charCodeAt(0))<<10|(31&e.charCodeAt(1))<<5|31&e.charCodeAt(2)}var d=r.StringUtilities.utf8decode,p=-20828448e5,h=[1,0,0,0,1,0,0,0,1],f=[0,0,0],g=function(){function e(e,t){this.boxtype=e,"uuid"===e&&(this.userType=t)}return e.prototype.layout=function(e){this.offset=e;var t=8;return this.userType&&(t+=16),this.size=t,t},e.prototype.write=function(e){return n(e,this.offset,this.size),n(e,this.offset+4,i(this.boxtype)),this.userType?(e.set(this.userType,this.offset+8),24):8},e.prototype.toUint8Array=function(){var e=this.layout(0),t=new Uint8Array(e);return this.write(t),t},e}();e.Box=g;var m=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=e.call(this,t)||this;return r.version=n,r.flags=i,r}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,this.version<<24|this.flags),i+4},t}(g);e.FullBox=m;var v=function(e){function t(t,n,i){var r=e.call(this,"ftype")||this;return r.majorBrand=t,r.minorVersion=n,r.compatibleBrands=i,r}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4*(2+this.compatibleBrands.length),this.size},t.prototype.write=function(t){var r=this,o=e.prototype.write.call(this,t);return n(t,this.offset+o,i(this.majorBrand)),n(t,this.offset+o+4,this.minorVersion),o+=8,this.compatibleBrands.forEach(function(e){n(t,r.offset+o,i(e)),o+=4},this),o},t}(g);e.FileTypeBox=v;var _=function(e){function t(t,n){var i=e.call(this,t)||this;return i.children=n,i}return o(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.children.forEach(function(e){e&&(n+=e.layout(t+n))}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return this.children.forEach(function(e){e&&(n+=e.write(t))}),n},t}(g);e.BoxContainerBox=_;var y=function(e){function n(n,i,r,o){var s=e.call(this,"moov",t([n],i,[r,o]))||this;return s.header=n,s.tracks=i,s.extendsBox=r,s.userData=o,s}return o(n,e),n}(_);e.MovieBox=y;var b=function(e){function t(t,n,i,r,o,s,a,l){void 0===r&&(r=1),void 0===o&&(o=1),void 0===s&&(s=h),void 0===a&&(a=p),void 0===l&&(l=p);var u=e.call(this,"mvhd",0,0)||this;return u.timescale=t,u.duration=n,u.nextTrackId=i,u.rate=r,u.volume=o,u.matrix=s,u.creationTime=a,u.modificationTime=l,u}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4+2+2+8+36+24+4,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,s(this.creationTime)),n(t,this.offset+i+4,s(this.modificationTime)),n(t,this.offset+i+8,this.timescale),n(t,this.offset+i+12,this.duration),i+=16,n(t,this.offset+i,a(this.rate)),n(t,this.offset+i+4,u(this.volume)<<16),n(t,this.offset+i+8,0),n(t,this.offset+i+12,0),i+=16,n(t,this.offset+i,a(this.matrix[0])),n(t,this.offset+i+4,a(this.matrix[1])),n(t,this.offset+i+8,a(this.matrix[2])),n(t,this.offset+i+12,a(this.matrix[3])),n(t,this.offset+i+16,a(this.matrix[4])),n(t,this.offset+i+20,a(this.matrix[5])),n(t,this.offset+i+24,l(this.matrix[6])),n(t,this.offset+i+28,l(this.matrix[7])),n(t,this.offset+i+32,l(this.matrix[8])),i+=36,n(t,this.offset+i,0),n(t,this.offset+i+4,0),n(t,this.offset+i+8,0),n(t,this.offset+i+12,0),n(t,this.offset+i+16,0),n(t,this.offset+i+20,0),i+=24,n(t,this.offset+i,this.nextTrackId),i+=4},t}(m);e.MovieHeaderBox=b;var w;!function(e){e[e.TRACK_ENABLED=1]="TRACK_ENABLED",e[e.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",e[e.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW"}(w=e.TrackHeaderFlags||(e.TrackHeaderFlags={}));var x=function(e){function t(t,n,i,r,o,s,a,l,u,c,d){void 0===a&&(a=0),void 0===l&&(l=0),void 0===u&&(u=h),void 0===c&&(c=p),void 0===d&&(d=p);var f=e.call(this,"tkhd",0,t)||this;return f.trackId=n,f.duration=i,f.width=r,f.height=o,f.volume=s,f.alternateGroup=a,f.layer=l,f.matrix=u,f.creationTime=c,f.modificationTime=d,f}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20+8+6+2+36+8,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,s(this.creationTime)),n(t,this.offset+i+4,s(this.modificationTime)),n(t,this.offset+i+8,this.trackId),n(t,this.offset+i+12,0),n(t,this.offset+i+16,this.duration),i+=20,n(t,this.offset+i,0),n(t,this.offset+i+4,0),n(t,this.offset+i+8,this.layer<<16|this.alternateGroup),n(t,this.offset+i+12,u(this.volume)<<16),i+=16,n(t,this.offset+i,a(this.matrix[0])),n(t,this.offset+i+4,a(this.matrix[1])),n(t,this.offset+i+8,a(this.matrix[2])),n(t,this.offset+i+12,a(this.matrix[3])),n(t,this.offset+i+16,a(this.matrix[4])),n(t,this.offset+i+20,a(this.matrix[5])),n(t,this.offset+i+24,l(this.matrix[6])),n(t,this.offset+i+28,l(this.matrix[7])),n(t,this.offset+i+32,l(this.matrix[8])),i+=36,n(t,this.offset+i,a(this.width)),n(t,this.offset+i+4,a(this.height)),i+=8},t}(m);e.TrackHeaderBox=x;var k=function(e){function t(t,n,i,r,o){void 0===i&&(i="unk"),void 0===r&&(r=p),void 0===o&&(o=p);var s=e.call(this,"mdhd",0,0)||this;return s.timescale=t,s.duration=n,s.language=i,s.creationTime=r,s.modificationTime=o,s}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,s(this.creationTime)),n(t,this.offset+i+4,s(this.modificationTime)),n(t,this.offset+i+8,this.timescale),n(t,this.offset+i+12,this.duration),n(t,this.offset+i+16,c(this.language)<<16),i+20},t}(m);e.MediaHeaderBox=k;var S=function(e){function t(t,n){var i=e.call(this,"hdlr",0,0)||this;return i.handlerType=t,i.name=n,i._encodedName=d(i.name),i}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8+12+(this._encodedName.length+1),this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,0),n(t,this.offset+r+4,i(this.handlerType)),n(t,this.offset+r+8,0),n(t,this.offset+r+12,0),n(t,this.offset+r+16,0),r+=20,t.set(this._encodedName,this.offset+r),t[this.offset+r+this._encodedName.length]=0,r+=this._encodedName.length+1},t}(m);e.HandlerBox=S;var E=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this,"smhd",0,0)||this;return n.balance=t,n}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,u(this.balance)<<16),i+4},t}(m);e.SoundMediaHeaderBox=E;var T=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=f);var i=e.call(this,"vmhd",0,0)||this;return i.graphicsMode=t,i.opColor=n,i}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,this.graphicsMode<<16|this.opColor[0]),n(t,this.offset+i+4,this.opColor[1]<<16|this.opColor[2]),i+8},t}(m);e.VideoMediaHeaderBox=T,e.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var C=function(t){function n(n,i){void 0===i&&(i=null);var r=t.call(this,"url ",0,n)||this;return r.location=i,n&e.SELF_CONTAINED_DATA_REFERENCE_FLAG||(r._encodedLocation=d(i)),r}return o(n,t),n.prototype.layout=function(e){var n=t.prototype.layout.call(this,e);return this._encodedLocation&&(n+=this._encodedLocation.length+1),this.size=n},n.prototype.write=function(e){var n=t.prototype.write.call(this,e);return this._encodedLocation&&(e.set(this._encodedLocation,this.offset+n),e[this.offset+n+this._encodedLocation.length]=0,n+=this._encodedLocation.length),n},n}(m);e.DataEntryUrlBox=C;var A=function(e){function t(t){var n=e.call(this,"dref",0,0)||this;return n.entries=t,n}return o(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4;return this.entries.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,this.entries.length),this.entries.forEach(function(e){i+=e.write(t)}),i},t}(m);e.DataReferenceBox=A;var P=function(e){function t(t){var n=e.call(this,"dinf",[t])||this;return n.dataReference=t,n}return o(t,e),t}(_);e.DataInformationBox=P;var D=function(e){function t(t){var n=e.call(this,"stsd",0,0)||this;return n.entries=t,n}return o(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return n+=4,this.entries.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,this.entries.length),i+=4,this.entries.forEach(function(e){i+=e.write(t)}),i},t}(m);e.SampleDescriptionBox=D;var M=function(e){function t(t,n,i,r,o){var s=e.call(this,"stbl",[t,n,i,r,o])||this;return s.sampleDescriptions=t,s.timeToSample=n,s.sampleToChunk=i,s.sampleSizes=r,s.chunkOffset=o,s}return o(t,e),t}(_);e.SampleTableBox=M;var I=function(e){function t(t,n,i){var r=e.call(this,"minf",[t,n,i])||this;return r.header=t,r.info=n,r.sampleTable=i,r}return o(t,e),t}(_);e.MediaInformationBox=I;var R=function(e){function t(t,n,i){var r=e.call(this,"mdia",[t,n,i])||this;return r.header=t,r.handler=n,r.info=i,r}return o(t,e),t}(_);e.MediaBox=R;var O=function(e){function t(t,n){var i=e.call(this,"trak",[t,n])||this;return i.header=t,i.media=n,i}return o(t,e),t}(_);e.TrackBox=O;var L=function(e){function t(t,n,i,r,o){var s=e.call(this,"trex",0,0)||this;return s.trackId=t,s.defaultSampleDescriptionIndex=n,s.defaultSampleDuration=i,s.defaultSampleSize=r,s.defaultSampleFlags=o,s}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,this.trackId),n(t,this.offset+i+4,this.defaultSampleDescriptionIndex),n(t,this.offset+i+8,this.defaultSampleDuration),n(t,this.offset+i+12,this.defaultSampleSize),n(t,this.offset+i+16,this.defaultSampleFlags),i+20},t}(m);e.TrackExtendsBox=L;var F=function(e){function n(n,i,r){var o=e.call(this,"mvex",t([n],i,[r]))||this;return o.header=n,o.tracDefaults=i,o.levels=r,o}return o(n,e),n}(_);e.MovieExtendsBox=F;var N=function(e){function t(t,n){var i=e.call(this,"meta",0,0)||this;return i.handler=t,i.otherBoxes=n,i}return o(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return n+=this.handler.layout(t+n),this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return n+=this.handler.write(t),this.otherBoxes.forEach(function(e){n+=e.write(t)}),n},t}(m);e.MetaBox=N;var B=function(e){function t(t){var n=e.call(this,"mfhd",0,0)||this;return n.sequenceNumber=t,n}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,this.sequenceNumber),i+4},t}(m);e.MovieFragmentHeaderBox=B;var U;!function(e){e[e.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",e[e.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",e[e.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",e[e.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",e[e.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT"}(U=e.TrackFragmentFlags||(e.TrackFragmentFlags={}));var z=function(e){function t(t,n,i,r,o,s,a){var l=e.call(this,"tfhd",0,t)||this;return l.trackId=n,l.baseDataOffset=i,l.sampleDescriptionIndex=r,l.defaultSampleDuration=o,l.defaultSampleSize=s,l.defaultSampleFlags=a,l}return o(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4,i=this.flags;return i&U.BASE_DATA_OFFSET_PRESENT&&(n+=8),i&U.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(n+=4),i&U.DEFAULT_SAMPLE_DURATION_PRESENT&&(n+=4),i&U.DEFAULT_SAMPLE_SIZE_PRESENT&&(n+=4),i&U.DEFAULT_SAMPLE_FLAGS_PRESENT&&(n+=4),this.size=n},t.prototype.write=function(t){var i=e.prototype.write.call(this,t),r=this.flags;return n(t,this.offset+i,this.trackId),i+=4,r&U.BASE_DATA_OFFSET_PRESENT&&(n(t,this.offset+i,0),n(t,this.offset+i+4,this.baseDataOffset),i+=8),r&U.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(n(t,this.offset+i,this.sampleDescriptionIndex),i+=4),r&U.DEFAULT_SAMPLE_DURATION_PRESENT&&(n(t,this.offset+i,this.defaultSampleDuration),i+=4),r&U.DEFAULT_SAMPLE_SIZE_PRESENT&&(n(t,this.offset+i,this.defaultSampleSize),i+=4),r&U.DEFAULT_SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+i,this.defaultSampleFlags),i+=4),i},t}(m);e.TrackFragmentHeaderBox=z;var j=function(e){function t(t){var n=e.call(this,"tfdt",0,0)||this;return n.baseMediaDecodeTime=t,n}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,this.baseMediaDecodeTime),i+4},t}(m);e.TrackFragmentBaseMediaDecodeTimeBox=j;var $=function(e){function t(t,n,i){var r=e.call(this,"traf",[t,n,i])||this;return r.header=t,r.decodeTime=n,r.run=i,r}return o(t,e),t}(_);e.TrackFragmentBox=$;var H;!function(e){e[e.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",e[e.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",e[e.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",e[e.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",e[e.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",e[e.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",e[e.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",e[e.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",e[e.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK"}(H=e.SampleFlags||(e.SampleFlags={}));var q;!function(e){e[e.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",e[e.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",e[e.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",e[e.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET"}(q=e.TrackRunFlags||(e.TrackRunFlags={}));var W=function(e){function t(t,n,i,r){var o=e.call(this,"trun",1,t)||this;return o.samples=n,o.dataOffset=i,o.firstSampleFlags=r,o}return o(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4,i=this.samples.length,r=this.flags;return r&q.DATA_OFFSET_PRESENT&&(n+=4),r&q.FIRST_SAMPLE_FLAGS_PRESENT&&(n+=4),r&q.SAMPLE_DURATION_PRESENT&&(n+=4*i),r&q.SAMPLE_SIZE_PRESENT&&(n+=4*i),r&q.SAMPLE_FLAGS_PRESENT&&(n+=4*i),r&q.SAMPLE_COMPOSITION_TIME_OFFSET&&(n+=4*i),this.size=n},t.prototype.write=function(t){var i=e.prototype.write.call(this,t),r=this.samples.length,o=this.flags;n(t,this.offset+i,r),i+=4,o&q.DATA_OFFSET_PRESENT&&(n(t,this.offset+i,this.dataOffset),i+=4),o&q.FIRST_SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+i,this.firstSampleFlags),i+=4);for(var s=0;r>s;s++){var a=this.samples[s];o&q.SAMPLE_DURATION_PRESENT&&(n(t,this.offset+i,a.duration),i+=4),o&q.SAMPLE_SIZE_PRESENT&&(n(t,this.offset+i,a.size),i+=4),o&q.SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+i,a.flags),i+=4),o&q.SAMPLE_COMPOSITION_TIME_OFFSET&&(n(t,this.offset+i,a.compositionTimeOffset),i+=4)}return i},t}(m);e.TrackRunBox=W;var V=function(e){function n(n,i){var r=e.call(this,"moof",t([n],i))||this;return r.header=n,r.trafs=i,r}return o(n,e),n}(_);e.MovieFragmentBox=V;var Y=function(e){function t(t){var n=e.call(this,"mdat")||this;return n.chunks=t,n}return o(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.chunks.forEach(function(e){n+=e.length}),this.size=n},t.prototype.write=function(t){var n=this,i=e.prototype.write.call(this,t);return this.chunks.forEach(function(e){t.set(e,n.offset+i),i+=e.length},this),i},t}(g);e.MediaDataBox=Y;var G=function(e){function t(t,n){var i=e.call(this,t)||this;return i.dataReferenceIndex=n,i}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,0),n(t,this.offset+i+4,this.dataReferenceIndex),i+8},t}(g);e.SampleEntry=G;var Q=function(e){function t(t,n,i,r,o,s){void 0===i&&(i=2),void 0===r&&(r=16),void 0===o&&(o=44100),void 0===s&&(s=null);var a=e.call(this,t,n)||this;return a.channelCount=i,a.sampleSize=r,a.sampleRate=o,a.otherBoxes=s,a}return o(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+20;return this.otherBoxes&&this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,0),n(t,this.offset+i+4,0),n(t,this.offset+i+8,this.channelCount<<16|this.sampleSize),n(t,this.offset+i+12,0),n(t,this.offset+i+16,this.sampleRate<<16),i+=20,this.otherBoxes&&this.otherBoxes.forEach(function(e){i+=e.write(t)}),i},t}(G);e.AudioSampleEntry=Q,e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var K=function(t){function i(n,i,r,o,s,a,l,u,c,d){void 0===s&&(s=""),void 0===a&&(a=72),void 0===l&&(l=72),void 0===u&&(u=1),void 0===c&&(c=e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===d&&(d=null);var p=t.call(this,n,i)||this;if(p.width=r,p.height=o,p.compressorName=s,p.horizResolution=a,p.vertResolution=l,p.frameCount=u,p.depth=c,p.otherBoxes=d,s.length>31)throw new Error("invalid compressor name");return p}return o(i,t),i.prototype.layout=function(e){var n=t.prototype.layout.call(this,e)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach(function(t){n+=t.layout(e+n)}),this.size=n},i.prototype.write=function(e){var i=t.prototype.write.call(this,e);n(e,this.offset+i,0),n(e,this.offset+i+4,0),n(e,this.offset+i+8,0),n(e,this.offset+i+12,0),i+=16,n(e,this.offset+i,this.width<<16|this.height),n(e,this.offset+i+4,a(this.horizResolution)),n(e,this.offset+i+8,a(this.vertResolution)),i+=12,n(e,this.offset+i,0),n(e,this.offset+i+4,this.frameCount<<16),i+=6,e[this.offset+i]=this.compressorName.length;for(var r=0;31>r;r++)e[this.offset+i+r+1]=r<this.compressorName.length?127&this.compressorName.charCodeAt(r):0;return i+=32,n(e,this.offset+i,this.depth<<16|65535),i+=4,this.otherBoxes&&this.otherBoxes.forEach(function(t){i+=t.write(e)}),i},i}(G);e.VideoSampleEntry=K;var J=function(e){function t(t,n){var i=e.call(this,t)||this;return i.data=n,i}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+this.data.length,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return t.set(this.data,this.offset+n),n+this.data.length},t}(g);e.RawTag=J}(t=e.Iso||(e.Iso={}))}(t=e.MP4||(e.MP4={}))}(i||(i={}));t.MP4Mux=i.MP4.MP4Mux},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(26),r=n(25),o=[i.WebCrypto,r.JSCrypto];t["default"]=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(23),o=i.helpers.find;t.DecryptorFactory={retrieveDecryptor:function(e){return o(r["default"],function(t){return t.canDecrypt(e)})||null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(20),o=i.helpers.Promise,s=null;t.JSCrypto={canDecrypt:function(e){return"AES-CBC"===e.cipher},decrypt:function(e,t){return s||(s=new r.AESDecryptor),s.expandKey(t.key.buffer),o.resolve(new Uint8Array(s.decrypt(e.buffer,0,t.iv.buffer)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=i.helpers.Promise,o=window.crypto&&window.crypto.subtle;t.WebCrypto={canDecrypt:function(e){return!!o&&window.isSecureContext&&"AES-CBC"===e.cipher},decrypt:function(e,t){return new r(function(n,i){function r(e){return o.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"])}r(t.key).then(function(n){return o.decrypt({name:"AES-CBC",iv:t.iv},n,e)}).then(function(e){return n(new Uint8Array(e))})["catch"](i)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),r=n(28),o=[i.OggOpusSegmentParser,r.DefaultSegmentParser];t["default"]=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=i.helpers.abortableJob.AbortableJob,o=i.helpers.Promise;t.DefaultSegmentParser={getFormat:function(){return{}},parseSegmentData:function(e){var t=new r(function(){return{result:o.resolve({data:e})}});return t.run()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(14),o=i.helpers.abortableJob.AbortableJob,s=i.helpers.Promise,a=i.helpers.arrayBuffer.combine,l="WeakMap"in window?new window.WeakMap:null;t.OggOpusSegmentParser={getFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},parseSegmentData:function(e,t,n){if(!l)throw new Error("WeakMap support required.");var i=new o(function(){var i=r.retrievePages(e);if(i.length){var o=r.retrievePackets([i[0]])[0];if(o&&o.first){var u=1;i.slice(1).some(function(e,t){var n=!!(1&e.header.type[0]);return t>0&&!n?!0:(u=t+2,!1)});var c=a(i.slice(0,u).map(function(e){return e.entirePage}));return l.set(n,c),{result:s.resolve({data:a(i.slice(u).map(function(e){return e.entirePage})),initData:c})}}}if(t.getSequenceNumber()<=n.getStartingSequenceNumber())return{result:s.reject(new Error("Could not find init data."))};if(l.has(n))return{result:s.resolve({initData:l.get(n),data:e})};var d=n.getSegment(n.getStartingSequenceNumber()),p=null,h=d.whenComplete().then(function(t){return p=t.retrieveData(),p.whenComplete().then(function(t){var n=t.data;return{initData:n.initData,data:e}})});return{result:h,abort:function(){d.abort(),p&&p.abort()}}});return i.run()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(10),o=n(27),s=i.helpers.find;t.SegmentParserFactory={retrieveSegmentParser:function(e){var t=s(o["default"],function(t){return r.isPartialMatch(t.getFormat(),e)});if(!t)throw new Error("No segment parser found.");return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(4),o=n(32),s=[i.PassThrough,r.MP3ToMP4,o.OggOpusToWebm];t["default"]=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(14),o=n(33),s=i.helpers.Promise,a=i.helpers.arrayBuffer.combine;t.OggOpusToWebm={getInputFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},getOutputFormat:function(){return{mimeType:"audio/webm",audioCodec:{id:"opus"}}},transmux:function(e){try{var t=e.initData?a([e.initData,e.data]):e.data,n=r.retrievePackets(r.retrievePages(t)),i=o.buildWebm(n);return s.resolve({data:i.data,initData:i.initData})}catch(l){return s.reject(l)}}}},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.3",t.buildNumber=1046;var i=n(16);t.PlaylistSegmentRetriever=i.PlaylistSegmentRetriever;var r=n(17);t.Playlist=r.Playlist,t.PlaylistType=r.PlaylistType;var o=n(3);t.Segment=o.Segment;var s=n(19);t.TransmuxerFactory=s.TransmuxerFactory;var a=n(4);t.MP3ToMP4Transmuxer=a.MP3ToMP4;var l=n(5);t.PassThroughTransmuxer=l.PassThrough;var u=n(18);t.retrievalErrors=u.retrievalErrors;var c=n(15);t.events=c.events}])})},1534:function(e,t,n){!function(t,i){e.exports=i(n(161))}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function i(e){var t=3&e[0];return 0===t?1:3!==t?2:63&e[1]}function r(e){var t=e[0]>>>3&31;if(t>=p.length)throw new Error("Invalid configuration.");return p[t]}function o(e){if(!e.first)throw new Error("OpusHead is always in the first packet.");var t=e.data,n=new DataView(t.buffer),i=n.getUint8(9),r=n.getUint8(17),o=void 0,s=void 0,a=void 0;if(r>0){o=n.getUint8(18),s=n.getUint8(19),a=[];for(var l=0;i>l;l++)a.push(n.getUint8(20+l))}return{version:n.getUint8(8),channelCount:i,preSkip:n.getUint16(10,!0),inputSampleRate:n.getUint32(12,!0),outputGain:n.getUint16(16),channelMapFamily:r,streamCount:o,twoChannelStreamCount:s,channelMappingTable:a}}function s(e){var t=e[0];if(!t||!t.first)throw new Error("Missing start of stream.");var n=e.slice(2),s=o(t),a=0,u=0,p=n.map(function(e,t){if(e.discontinuity&&t>0)throw new Error("Discontinuities after first audio packet not supported.");var n=new Uint8Array(4);n[0]=129,new DataView(n.buffer).setInt16(1,u),n[3]=128;var o=i(e.data);return a+=o,u+=o*r(e.data),l.encodeElement(l.IDS.SimpleBlock,c([n,e.data]))}),h=c([l.encodeElement(l.IDS.EBML,function(){return c([l.encodeElement(l.IDS.EBMLVersion,d(1)),l.encodeElement(l.IDS.EBMLReadVersion,d(1)),l.encodeElement(l.IDS.EBMLMaxIDLength,d(4)),l.encodeElement(l.IDS.EBMLMaxSizeLength,d(8)),l.encodeElement(l.IDS.DocType,new Uint8Array([119,101,98,109])),l.encodeElement(l.IDS.DocTypeVersion,d(1)),l.encodeElement(l.IDS.DocTypeReadVersion,d(2))])}()),l.encodeElement(l.IDS.Segment,function(){return l.encodeElement(l.IDS.Info,function(){return l.encodeElement(l.IDS.Duration,function(){var e=new Uint8Array(8);return new DataView(e.buffer).setFloat64(0,u),e}())}())}()),l.encodeElement(l.IDS.Tracks,function(){return l.encodeElement(l.IDS.TrackEntry,function(){return c([l.encodeElement(l.IDS.TrackNumber,d(1)),l.encodeElement(l.IDS.TrackUID,d(1)),l.encodeElement(l.IDS.FlagLacing,d(0)),l.encodeElement(l.IDS.CodecID,new Uint8Array([65,95,79,80,85,83])),l.encodeElement(l.IDS.CodecDelay,d(s.preSkip/48e3*1e9)),l.encodeElement(l.IDS.SeekPreRoll,new Uint8Array([4,196,180,0])),l.encodeElement(l.IDS.TrackType,d(2)),l.encodeElement(l.IDS.Audio,function(){return c([l.encodeElement(l.IDS.Channels,d(s.channelCount)),l.encodeElement(l.IDS.SamplingFrequency,new Uint8Array([64,231,112,0,0,0,0,0]))])}()),l.encodeElement(l.IDS.CodecPrivate,t.data)])}())}())]),f=l.encodeElement(l.IDS.Cluster,function(){var e=[l.encodeElement(l.IDS.Timecode,d(0))];return e.push.apply(e,p),c(e)}());return{initData:h,data:f}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=n(2),u=a.helpers.arrayBuffer,c=u.combine,d=u.numberToUint8Array,p=[10,20,40,60,10,20,40,60,10,20,40,60,10,20,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20];t.buildWebm=s;
},function(e,t,n){"use strict";function i(e,t){var n=a(e),i=l(t.byteLength);return s([n,i,t])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=r.helpers.arrayBuffer,s=o.combine,a=o.numberToUint8Array,l=o.createVintBuffer;t.IDS={EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxIDLength:17138,EBMLMaxSizeLength:17139,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029,Segment:408125543,Info:357149030,Duration:17545,Tracks:374648427,TrackEntry:174,TrackNumber:215,TrackUID:29637,FlagLacing:156,CodecID:134,CodecDelay:22186,SeekPreRoll:22203,TrackType:131,Audio:225,Channels:159,SamplingFrequency:181,CodecPrivate:25506,Cluster:524531317,Timecode:231,SimpleBlock:163},t.encodeElement=i},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.3",t.buildNumber=1046,i(n(1))}])})},1535:function(e,t,n){!function(t,i){e.exports=i(n(161))}(this,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";function i(e,t,n){return void 0===n&&(n=1),e.slice(t,t+n)}function r(e,t){return void 0===t&&(t=!0),new DataView(e).getUint32(0,t)}function o(e){for(var t=e.buffer,n=[],i=e.byteOffset-1;;){var r=i+1,o=new Uint8Array(t,r).findIndex(function(e,t,n){return n[t]===d[0]&&n[t+1]===d[1]&&n[t+2]===d[2]&&n[t+3]===d[3]});if(-1===o)break;o+=r,i=o;var a=new DataView(t,o);n.push(s(a))}return n}function s(e){var t=new Uint8Array(e.buffer,e.byteOffset),n=i(t,26),o=i(t,27,n[0]),s={version:i(t,4),type:i(t,5),granulePosition:i(t,6,8),bitstreamSerialNumber:i(t,14,4),pageSequenceNumber:i(t,18,4),checksum:i(t,22,4),pageSegments:n,segmentTable:o},a=[],l=27+n[0];if(o.forEach(function(e){a.push(i(t,l,e)),l+=e}),!a.length)throw new Error("No segments.");var c=u.calculateCRC([d,s.version,s.type,s.granulePosition,s.bitstreamSerialNumber,s.pageSequenceNumber,p,n,o].concat(a)),h=r(s.checksum.buffer);if(c!==h)throw new Error("Checksum failed.");return{header:s,segments:a,entirePage:i(t,0,l)}}function a(e){if(!e.length)return[];var t=r(e[0].header.bitstreamSerialNumber.buffer),n=-1,i=null,o=[];return e.forEach(function(s,a){if(r(s.header.bitstreamSerialNumber.buffer)!==t)throw new Error("Got a page from a different bitstream.");var l=r(s.header.pageSequenceNumber.buffer);if(n>=l)throw new Error("Page sequence number was not greater than the previous one.");var u=l!==n+1;n=l;var d=s.header.type[0],p=!!(1&d),h=!!(2&d);if(h&&a>0)throw new Error("Got BOS on a page which is not the first.");var f=!!(4&d);if(f&&a!==e.length-1)throw new Error("Got EOS on a page which is not the last.");var g=0;u&&(i=null);var m=s.segments.length;s.segments.forEach(function(e,t){if(i?i.data=c([i.data,e]):p&&0===t||(i={granulePosition:null,pageSequenceNumber:n,packetOffset:g,discontinuity:u&&0===g,first:h&&0===g,last:!1,data:e},g++),i&&e.byteLength<255){var a=t===m-1;a&&(i.granulePosition=r(s.header.granulePosition.buffer)),i.last=f&&a,o.push(i),i=null}})}),o}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=n(1),c=l.helpers.arrayBuffer.combine,d=new Uint8Array([79,103,103,83]),p=new Uint8Array([0,0,0,0]);t.retrievePages=o,t.parsePage=s,t.retrievePackets=a},function(e,t,n){"use strict";function i(e){var t=0;return e.forEach(function(e){for(var n=0;n<e.length;n++)t=t<<8^r[t>>24&255^e[n]]}),t>>>0}Object.defineProperty(t,"__esModule",{value:!0});var r=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]);t.calculateCRC=i},function(t,n){t.exports=e},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.3",t.buildNumber=1046,i(n(0))}])})},1536:function(e,t){"use strict";e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{get:function(t){return!!e[t]},getAll:function(){return e}}}},1537:function(e,t){"use strict";function n(e){var n=void 0===e?{}:e,r=n.definitions,l=void 0===r?{}:r,u=n.includeQueryParams,c=void 0===u?!1:u,d=n.caseInsensitive,p=void 0===d?!1:d,h=i(l),f=s({},a,h),g=o(f,!0),m=c?"(?:\\?([\\s\\S]*))?":"",v=p?"i":"";return function(e){var n=new RegExp("^"+g(e)+m+"$",v);return n[t.sourceKey]=e,n}}function i(e){return Object.keys(e).reduce(function(t,n){var i=e[n];return t[n]=u(i),t},{})}function r(e,t){return t.length-e.length}function o(e,t){var n=Object.keys(e).sort(r).join("|"),i=new RegExp("(?:\\(\\?)?:("+n+")"+l,"g"),o=/^\(\?:/,s=t?"":"?:",a=function(t,n,i){if(void 0===i&&(i=""),o.test(t))return t;var r=i?"(?:"+e[n]+")":e[n];return"("+s+r+i+")"};return function(e){return i.lastIndex=0,e.replace(i,a)}}function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(e,t){for(var n in t)e[n]=t[n];return e},e)}t.sourceKey="function"==typeof Symbol?Symbol("source"):"routeabout.source",t.create=n;var a={alpha:"[a-zA-Z_-]",alphanum:"[a-zA-Z0-9_-]",num:"[0-9]"},l="(\\+|\\*|\\?|\\{\\d+,?\\d*\\})?",u=o(a,!1)},1538:function(e,t,n){!function(t,i){e.exports=i(n(161),n(173))}(this,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(3),s=n(1),a=r.helpers.abortableJob.AbortableJob,l=r.helpers.find,u=r.helpers.time,c=300,d=new s.Limiter(c,3e5),p=5e3,h=[o.renditions.encryptedHlsOpus,o.renditions.hlsOpus,o.renditions.encryptedHlsMp3,o.renditions.hlsMp3,o.renditions.httpMp3],f=function(e){function t(t){var n=t.loader,i=t.clientId,r=t.trackId,o=t.secretToken,s=void 0===o?null:o,a=t.requestAuthorization,l=void 0===a?null:a,u=t.excludedRenditions,c=void 0===u?[]:u,d=t.maxBitrate,p=void 0===d?1/0:d,h=t.endpointBaseUrl,f=void 0===h?"https://api.soundcloud.com/":h,g=t.encryptedStreamsEnabled,m=void 0===g?!1:g,v=e.call(this)||this;if(v._getUrlsJob=null,v._clearResponseTimer=null,!n)throw new Error("loader required.");if("string"!=typeof i)throw new Error("clientId invalid.");if("number"!=typeof r)throw new Error("trackId invalid.");if(null!==s&&"string"!=typeof s)throw new Error("secretToken invalid.");if(null!==l&&"string"!=typeof l)throw new Error("requestAuthorizaton invalid.");if("number"!=typeof p||0>=p)throw new Error("maxBitrate must be > 0.");if("string"!=typeof f)throw new Error("endpointBaseUrl must be > 0.");if("boolean"!=typeof m)throw new Error("encryptedStreamsEnabled invalid.");return v._loader=n,v._clientId=i,v._requestAuthorization=l,v._trackId=r,v._secretToken=s,v._endpointBaseUrl=f,v._encryptedStreamsEnabled=m,v._excludedRenditions=c,v._excludedRenditionsOnLastURLRequest=c.slice(),v._maxBitrate=p,v}return i(t,e),t.prototype.getTrackId=function(){return this._trackId},t.prototype.excludeRendition=function(e){this._excludedRenditions.indexOf(e)<0&&this._excludedRenditions.push(e)},t.prototype.updateRequestAuthorization=function(e){if(null!==e&&"string"!=typeof e)throw new Error("requestAuthorizaton invalid.");this._requestAuthorization=e},t.prototype.clearCache=function(){this._clearResponseTimer&&(window.clearTimeout(this._clearResponseTimer),this._clearResponseTimer=null),this._getUrlsJob=null},t.prototype.getMaxBitrate=function(){return this._maxBitrate},t.prototype.setMaxBitrate=function(e){if("number"!=typeof e||0>=e)throw new Error("maxBitrate must be > 0.");this._maxBitrate=e},t.prototype.getUrl=function(){var e=this,t=this._maxBitrate,n=this._excludedRenditions,i=new a(function(){e._excludedRenditionsOnLastURLRequest.length===e._excludedRenditions.length?e.clearCache():e._excludedRenditionsOnLastURLRequest=e._excludedRenditions.slice();var i=e._getUrls(),r=i.whenComplete().then(function(e){var i=e.urls,r=e.timeRetrieved,o=null;return h.filter(function(e){return n.indexOf(e)<0}).some(function(e){var n=i.filter(function(t){return t.rendition===e}).map(function(e){return{url:e.url,bitrate:e.bitrate}}),s=l(n.sort(function(e,t){return t.bitrate-e.bitrate}),function(e){return e.bitrate<=t});return s?(o={url:s.url,rendition:e,bitrate:s.bitrate,timeRetrieved:r},!0):!1}),o});return{result:r,abort:function(){return i.abort()}}});return i.run()},t.prototype._getUrls=function(){var e=this;return this._getUrlsJob||(this._getUrlsJob=new a(function(){var t=r.helpers.deferred.buildDeferred(),n=null,i=d.execute(function(){var i=e._requestAuthorization?{Authorization:e._requestAuthorization}:{},r=e._endpointBaseUrl+"i1/tracks/"+encodeURI(e._trackId+"")+"/streams?client_id="+encodeURIComponent(e._clientId);e._encryptedStreamsEnabled&&(r+="&with_encrypted_streams=true"),e._secretToken&&(r+="&secret_token="+encodeURIComponent(e._secretToken)),n=e._loader.request({url:r,headers:i});var s=n.getResponse().then(function(e){if(!e)throw new o.RequestError(null);if(200!==e.statusCode)throw new o.RequestError(e.statusCode);if(!e.data)throw new Error("Response contained no data.");var t=u.now(),n=JSON.parse(e.data),i=[];return Object.keys(n).map(function(e){var t=e.split("_"),r=t[0],o=t[1],s=t[2],a=parseInt(s,10);if(r&&o&&!isNaN(a)){var u=l(h,function(e){return e.scProtocol===r&&e.scFormat===o});u&&i.push({rendition:u,bitrate:a,url:n[e]})}}),{urls:i,timeRetrieved:t}});s.then(t.resolve,t.reject)});return{result:t.promise,abort:function(){i.abort(),n&&n.abort()}}}),this._clearResponseTimer=window.setTimeout(function(){e._clearResponseTimer=null,e._getUrlsJob=null},p)),this._getUrlsJob.run()},t}(o.BaseStreamUrlRetriever);t.StreamUrlRetriever=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){if(void 0===t&&(t=6e4),this._limit=e,this._period=t,this._jobs=[],this._jobsRunInPeriod=0,0>=e)throw new Error("limit must be > 0.");if(0>=t)throw new Error("period must be > 0.")}return e.prototype.execute=function(e){var t=this,n={job:e};return this._jobs.push(n),this._executeNextJob(),{abort:function(){var e=t._jobs.indexOf(n);e>=0&&t._jobs.splice(e,1)}}},e.prototype._executeNextJob=function(){var e=this;if(this._jobsRunInPeriod<this._limit){var t=this._jobs.shift();t&&(this._jobsRunInPeriod++,window.setTimeout(function(){e._jobsRunInPeriod--,e._executeNextJob()},this._period),t.job())}},e}();t.Limiter=i},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.7.8",t.buildNumber=379;var i=n(0);t.StreamUrlRetriever=i.StreamUrlRetriever}])})},1547:function(module,exports,__webpack_require__){!function(e,t){module.exports=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}([function(e,t,n){"use strict";function i(e,t){void 0===t&&(t=64e3);for(var n="",i=0;8>i;i++)if(e.context=r(e.context,i),e.params=r(e.params,i),e.environment=r(e.environment,i),e.session=r(e.session,i),n=JSON.stringify(e),n.length<t)return n;var o=new Error("airbrake-js: cannot jsonify notice (length="+n.length+" maxLength="+t+")");throw o.params={json:n.slice(0,Math.floor(t/2))+"..."},o}function r(e,t){var n={};for(var i in e)n[i]=o(e[i],t);return n}function o(e,t){var n=new l(t);return n.truncate(e)}function s(e,t){try{return e[t]}catch(n){return}}function a(e){var t=Object.prototype.toString.apply(e);return t.slice("[object ".length,-1)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var l=function(){function e(e){void 0===e&&(e=0),this.maxStringLength=1024,this.maxObjectLength=128,this.maxArrayLength=32,this.maxDepth=8,this.keys=[],this.seen=[],this.maxStringLength=this.maxStringLength>>e||1,this.maxObjectLength=this.maxObjectLength>>e||1,this.maxArrayLength=this.maxArrayLength>>e||1,this.maxDepth=this.maxDepth>>e||1}return e.prototype.truncate=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=0),null===e||void 0===e)return e;switch(typeof e){case"boolean":case"number":case"function":return e;case"string":return this.truncateString(e);case"object":break;default:return String(e)}if(e instanceof String)return this.truncateString(e.toString());if(e instanceof Boolean||e instanceof Number||e instanceof Date||e instanceof RegExp)return e;if(e instanceof Error)return e.toString();if(this.seen.indexOf(e)>=0)return"[Circular "+this.getPath(e)+"]";var i=a(e);if(n++,n>this.maxDepth)return"[Truncated "+i+"]";switch(this.keys.push(t),this.seen.push(e),i){case"Array":return this.truncateArray(e,n);case"Object":return this.truncateObject(e,n);default:var r=this.maxDepth;this.maxDepth=0;var o=this.truncateObject(e,n);return o.__type=i,this.maxDepth=r,o}},e.prototype.getPath=function(e){for(var t=this.seen.indexOf(e),n=[this.keys[t]],i=t;i>=0;i--){var r=this.seen[i];r&&s(r,n[0])===e&&(e=r,n.unshift(this.keys[i]))}return"~"+n.join(".")},e.prototype.truncateString=function(e){return e.length>this.maxStringLength?e.slice(0,this.maxStringLength)+"...":e},e.prototype.truncateArray=function(e,t){var n=0,i=[];for(var r in e){var o=e[r];if(n++,n>=this.maxArrayLength)break;i.push(this.truncate(o,r,t))}return i},e.prototype.truncateObject=function(e,t){var n=0,i={};for(var r in e){var o=s(e,r);if(void 0!==o&&"function"!=typeof o){if(n++,n>=this.maxObjectLength)break;i[r]=this.truncate(o,r,t)}}return i},e}();t.truncate=o},function(e,t,n){"use strict";var i=n(14),r=n(13),o=n(7),s=n(6),a=n(9),l=n(5),u=n(10),c=n(8),d=n(18),p=n(15),h=n(17),f=n(19),g=n(16),m=n(12),v=function(){function e(e){void 0===e&&(e={});var t=this;this.opts={},this.reporters=[],this.filters=[],this.offline=!1,this.errors=[],this.opts.projectId=e.projectId,this.opts.projectKey=e.projectKey,this.opts.host=e.host||"https://api.airbrake.io",this.opts.timeout=e.timeout||1e4,this.processor=e.processor||r["default"],this.addReporter(e.reporter||d.detectReporter(e)),this.addFilter(o["default"]),this.addFilter(s["default"]()),this.addFilter(a["default"]),this.addFilter(l["default"]),"object"==typeof window?(this.addFilter(u["default"]),"function"==typeof window.addEventListener&&(window.addEventListener("online",this.onOnline.bind(this)),window.addEventListener("offline",function(){return t.offline=!0}))):this.addFilter(c["default"]),m.historian.registerNotifier(this)}return e.prototype.setProject=function(e,t){this.opts.projectId=e,this.opts.projectKey=t},e.prototype.setHost=function(e){this.opts.host=e},e.prototype.addReporter=function(e){var t;switch(e){case"fetch":t=p["default"];break;case"node":t=h["default"];break;case"xhr":t=f["default"];break;case"jsonp":t=g["default"];break;default:t=e}this.reporters.push(t)},e.prototype.addFilter=function(e){this.filters.push(e)},e.prototype.notify=function(e){var t=this;("object"!=typeof e||void 0===e.error)&&(e={error:e});var n=e.promise||new i["default"];if(!e.error){var r=new Error("notify: got err="+JSON.stringify(e.error)+", wanted an Error");return n.reject(r),n}if(this.offline)return e.promise=n,this.errors.push(e),this.errors.length>100&&this.errors.slice(-100),n;var o={id:"",errors:[],context:Object.assign({language:"JavaScript",severity:"error",notifier:{name:"airbrake-js",version:"0.9.0",url:"https://github.com/airbrake/airbrake-js"}},e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}},s=m.getHistory();return s.length>0&&(o.context.history=s),this.processor(e.error,function(e,i){o.errors.push(i);for(var r=0,s=t.filters;r<s.length;r++){var a=s[r],l=a(o);if(null===l)return;o=l}for(var u=0,c=t.reporters;u<c.length;u++){var d=c[u];d(o,t.opts,n)}}),n},e.prototype.wrap=function(e){if(e.__airbrake)return e;var t=this,n=function(){var n=Array.prototype.slice.call(arguments),i=t.wrapArguments(n);try{return e.apply(this,i)}catch(r){throw t.notify({error:r,params:{arguments:n}}),m.historian.ignoreNextWindowError(),r}};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n.__airbrake=!0,n.__inner=e,n},e.prototype.wrapArguments=function(e){for(var t in e){var n=e[t];"function"==typeof n&&(e[t]=this.wrap(n))}return e},e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.wrap(e);return i.apply(this,Array.prototype.slice.call(arguments,1))},e.prototype.onerror=function(){m.historian.onerror.apply(m.historian,arguments)},e.prototype.onOnline=function(){this.offline=!1;for(var e=0,t=this.errors;e<t.length;e++){var n=t[e];this.notify(n)}this.errors=[]},e}();e.exports=v},function(e,t){Object.assign||(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},r=0,o=t;r<o.length;r++){var s=o[r];i(s)}return e})},function(e,t,n){var i=!1;!function(t,r){"use strict";"function"==typeof i&&i.amd?i("error-stack-parser",["stackframe"],r):e.exports=r(n(4))}(this,function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,n=t.exec(e.replace(/[\(\)]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]},parseV8OrIE:function(t){var i=t.stack.split("\n").filter(function(e){return!!e.match(n)},this);return i.map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),i=this.extractLocation(n.pop()),r=n.join(" ")||void 0,o=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new e({functionName:r,fileName:o,lineNumber:i[1],columnNumber:i[2],source:t})},this)},parseFFOrSafari:function(t){var n=t.stack.split("\n").filter(function(e){return!e.match(i)},this);return n.map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=t.split("@"),i=this.extractLocation(n.pop()),r=n.join("@")||void 0;return new e({functionName:r,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,i=t.message.split("\n"),r=[],o=2,s=i.length;s>o;o+=2){var a=n.exec(i[o]);a&&r.push(new e({fileName:a[2],lineNumber:a[1],source:i[o]}))}return r},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=t.stacktrace.split("\n"),r=[],o=0,s=i.length;s>o;o+=2){var a=n.exec(i[o]);a&&r.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:i[o]}))}return r},parseOpera11:function(n){var i=n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this);return i.map(function(t){var n,i=t.split("@"),r=this.extractLocation(i.pop()),o=i.shift()||"",s=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:s,args:a,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)}}})},function(e,t,n){var i=!1;!function(t,n){"use strict";"function"==typeof i&&i.amd?i("stackframe",[],n):e.exports=n()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function i(e){if(e instanceof Object)for(var n=0;n<l.length;n++)e.hasOwnProperty(l[n])&&void 0!==e[l[n]]&&this["set"+t(l[n])](e[l[n]])}var r=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],s=["fileName","functionName","source"],a=["args"],l=r.concat(o,s,a);i.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof i)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new i(e)}},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",i=this.getFileName()?"@"+this.getFileName():"",r=e(this.getLineNumber())?":"+this.getLineNumber():"",o=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+i+r+o}};for(var u=0;u<r.length;u++)i.prototype["get"+t(r[u])]=n(r[u]),i.prototype["set"+t(r[u])]=function(e){return function(t){this[e]=Boolean(t)}}(r[u]);for(var c=0;c<o.length;c++)i.prototype["get"+t(o[c])]=n(o[c]),i.prototype["set"+t(o[c])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[c]);for(var d=0;d<s.length;d++)i.prototype["get"+t(s[d])]=n(s[d]),i.prototype["set"+t(s[d])]=function(e){return function(t){this[e]=String(t)}}(s[d]);return i})},function(e,t,n){"use strict";function i(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(r);return null!==n&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","\\[(\\$.+)\\]","\\s","([\\s\\S]+)","$"].join(""));t["default"]=i},function(e,t,n){"use strict";function i(){var e,t;return function(n){var i=JSON.stringify(n);return i===e?null:(t&&clearTimeout(t),e=i,t=setTimeout(function(){e=""},1e3),n)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,n){"use strict";function i(e){var t=e.errors[0];if(""===t.type&&-1!==r.indexOf(t.message))return null;if(t.backtrace){var n=t.backtrace[0];if("<anonymous>"===n.file)return null}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=["Script error","Script error.","InvalidAccessError"];t["default"]=i},function(module,exports,__webpack_require__){"use strict";function filter(e){os&&(e.context.os=os.type()+"/"+os.release(),e.context.architecture=os.arch(),e.context.hostname=os.hostname()),e.context.platform=myProcess.platform,e.context.rootDirectory||(e.context.rootDirectory=myProcess.cwd()),myProcess.env.NODE_ENV&&(e.context.environment=myProcess.env.NODE_ENV),e.params.process={pid:myProcess.pid,cwd:myProcess.cwd(),execPath:myProcess.execPath,argv:myProcess.argv};for(var t in["uptime","cpuUsage","memoryUsage"])myProcess[t]&&(e.params.process[t]=myProcess[t]());return os&&(e.params.os={homedir:os.homedir(),uptime:os.uptime(),freemem:os.freemem(),totalmem:os.totalmem(),loadavg:os.loadavg()}),e}Object.defineProperty(exports,"__esModule",{value:!0});var myProcess,os;try{myProcess=eval("process"),os=eval("require")("os")}catch(_){}exports["default"]=filter},function(e,t,n){"use strict";function i(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(r);return null!==n&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));t["default"]=i},function(e,t,n){"use strict";function i(e){return window.navigator&&window.navigator.userAgent&&(e.context.userAgent=window.navigator.userAgent),window.location&&(e.context.url=String(window.location),e.context.rootDirectory=window.location.protocol+"//"+window.location.host),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,n){"use strict";function i(e){if(!e)return"";var t=[];if(e.tagName&&t.push(e.tagName.toLowerCase()),e.id&&(t.push("#"),t.push(e.id)),e.className&&(t.push("."),t.push(e.className.split(" ").join("."))),e.getAttribute)for(var n=0,i=s;n<i.length;n++){var r=i[n],o=e.getAttribute(r);o&&t.push("["+r+'="'+o+'"]')}return t.join("")}function r(e){for(var t=10,n=[],r=e;r;){var o=i(r);if(""!==o&&(n.push(o),n.length>t))break;r=r.parentNode}return 0===n.length?String(e):n.reverse().join(" > ")}function o(e){return function(t){var n;try{n=t.target}catch(i){return}if(n){var o={type:t.type};try{o.target=r(n)}catch(s){o.target="<"+s.toString()+">"}e.pushHistory(o)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=["type","name","src"];t.makeEventHandler=o},function(module,exports,__webpack_require__){"use strict";function getHistory(){return exports.historian.getHistory()}Object.defineProperty(exports,"__esModule",{value:!0});var dom_1=__webpack_require__(11),Historian=function(){function Historian(){var _this=this;if(this.historyMaxLen=20,this.notifiers=[],this.errors=[],this.ignoreWindowError=0,this.history=[],this.ignoreNextXHR=0,"object"==typeof window){var self_1=this,oldHandler_1=window.onerror;window.onerror=function(){oldHandler_1&&oldHandler_1.apply(this,arguments),self_1.onerror.apply(self_1,arguments)}}else{var p=eval("process");p.on("uncaughtException",function(e){throw _this.notify(e),e}),p.on("unhandledRejection",function(e,t){_this.notify(e)})}"object"==typeof document&&this.dom(),"object"==typeof console&&this.console(),"function"==typeof fetch&&this.fetch(),"undefined"!=typeof XMLHttpRequest&&this.xhr(),"object"==typeof history&&this.location()}return Historian.prototype.registerNotifier=function(e){this.notifiers.push(e);for(var t=0,n=this.errors;t<n.length;t++){var i=n[t];this.notifyNotifiers(i)}this.errors=[]},Historian.prototype.notify=function(e){return this.notifiers.length>0?void this.notifyNotifiers(e):(this.errors.push(e),void(this.errors.length>this.historyMaxLen&&(this.errors=this.errors.slice(-this.historyMaxLen))))},Historian.prototype.notifyNotifiers=function(e){for(var t=0,n=this.notifiers;t<n.length;t++){var i=n[t];i.notify(e)}},Historian.prototype.onerror=function(e,t,n,i,r){return this.ignoreWindowError>0?void 0:r?void this.notify({error:r,context:{windowError:!0}}):void(t&&n&&this.notify({error:{message:e,fileName:t,lineNumber:n,columnNumber:i,noStack:!0},context:{windowError:!0}}))},Historian.prototype.ignoreNextWindowError=function(){var e=this;this.ignoreWindowError++,setTimeout(function(){return e.ignoreWindowError--})},Historian.prototype.getHistory=function(){return this.history},Historian.prototype.pushHistory=function(e){return this.isDupState(e)?void(this.lastState.num?this.lastState.num++:this.lastState.num=2):(e.date||(e.date=new Date),this.history.push(e),this.lastState=e,void(this.history.length>this.historyMaxLen&&(this.history=this.history.slice(-this.historyMaxLen))))},Historian.prototype.isDupState=function(e){if(!this.lastState)return!1;for(var t in e)if("date"!==t&&e[t]!==this.lastState[t])return!1;return!0},Historian.prototype.dom=function(){var e=dom_1.makeEventHandler(this);document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e),document.addEventListener("click",e),document.addEventListener("keypress",e),window.addEventListener("error",function(t){"error"in t||e(t)},!0)},Historian.prototype.console=function(){for(var e=this,t=["debug","log","info","warn","error"],n=(function(t){if(!(t in console))return"continue";var n=console[t],i=function(){n.apply(console,arguments),e.pushHistory({type:"log",severity:t,arguments:Array.prototype.slice.call(arguments)})};console[t]=i}),i=0,r=t;i<r.length;i++){var o=r[i];n(o)}},Historian.prototype.fetch=function(){var e=this,t=fetch;window.fetch=function(n,i){var r={type:"xhr",date:new Date};"string"==typeof n?r.url=n:r.url=n.url,i&&i.method?r.method=i.method:r.method="GET",e.ignoreNextXHR++,setTimeout(function(){return e.ignoreNextXHR--});var o=t.apply(this,arguments);return o.then(function(t){r.statusCode=t.status,
r.duration=(new Date).getTime()-r.date.getTime(),e.pushHistory(r)}),o}},Historian.prototype.xhr=function(){var e=this,t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,i,r,o,s){0===e.ignoreNextXHR&&(this.__state={type:"xhr",method:n,url:i}),t.apply(this,arguments)};var n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(t){var i=this.onreadystatechange;return this.onreadystatechange=function(t){return 4===this.readyState&&this.__state&&e.recordReq(this),i?i.apply(this,arguments):void 0},this.__state&&(this.__state.date=new Date),n.apply(this,arguments)}},Historian.prototype.recordReq=function(e){var t=e.__state;t.statusCode=e.status,t.duration=(new Date).getTime()-t.date.getTime(),this.pushHistory(t)},Historian.prototype.location=function(){this.lastLocation=document.location.pathname;var e=this,t=window.onpopstate;window.onpopstate=function(n){return e.recordLocation(document.location.pathname),t?t.apply(this,arguments):void 0};var n=history.pushState;history.pushState=function(t,i,r){r&&e.recordLocation(r.toString()),n.apply(this,arguments)}},Historian.prototype.recordLocation=function(e){var t=e.indexOf("://");t>=0?(e=e.slice(t+3),t=e.indexOf("/"),e=t>=0?e.slice(t):"/"):"/"!==e.charAt(0)&&(e="/"+e),this.pushHistory({type:"location",from:this.lastLocation,to:e}),this.lastLocation=e},Historian}();exports["default"]=Historian,exports.historian=new Historian,exports.getHistory=getHistory},function(e,t,n){"use strict";function i(e){try{return o.parse(e)}catch(t){s&&e.stack&&console.warn("ErrorStackParser:",t.toString(),e.stack)}return e.fileName?[e]:[]}function r(e,t){var n=[];if(!e.noStack){var r=i(e);if(0===r.length)try{throw new Error("fake")}catch(o){r=i(o),r.shift(),r.shift()}for(var s=0,a=r;s<a.length;s++){var l=a[s];n.push({"function":l.functionName||"",file:l.fileName||"<anonymous>",line:l.lineNumber||0,column:l.columnNumber||0})}}var u;u=e.name?e.name:"";var c;c=e.message?String(e.message):String(e),t("stacktracejs",{type:u,message:c,backtrace:n})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),s="object"==typeof console&&console.warn;t["default"]=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.onResolved=[],this.onRejected=[],e&&e(this.resolve.bind(this),this.reject.bind(this))}return e.prototype.then=function(e,t){return e&&(this.resolvedWith?e(this.resolvedWith):this.onResolved.push(e)),t&&(this.rejectedWith?t(this.rejectedWith):this.onRejected.push(t)),this},e.prototype["catch"]=function(e){return this.rejectedWith?e(this.rejectedWith):this.onRejected.push(e),this},e.prototype.resolve=function(e){if(this.resolvedWith||this.rejectedWith)throw new Error("Promise is already resolved or rejected");this.resolvedWith=e;for(var t=0,n=this.onResolved;t<n.length;t++){var i=n[t];i(e)}return this},e.prototype.reject=function(e){if(this.resolvedWith||this.rejectedWith)throw new Error("Promise is already resolved or rejected");this.rejectedWith=e;for(var t=0,n=this.onRejected;t<n.length;t++){var i=n[t];i(e)}return this},e}();t["default"]=i},function(e,t,n){"use strict";function i(e,t,n){var i=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,o=r["default"](e);fetch(i,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o}).then(function(t){return t.status>=200&&t.status<500?void t.json().then(function(t){if(t.id)return e.id=t.id,void n.resolve(e);if(t.error){var i=new Error(t.error);return void n.reject(i)}}):void t.text().then(function(e){var i=new Error("airbrake: fetch: unexpected response: code="+t.status+" body='"+e+"'");n.reject(i)})})["catch"](function(e){n.reject(e)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t["default"]=i},function(e,t,n){"use strict";function i(e,t,n){o++;var i="airbrakeCb"+String(o);window[i]=function(t){try{delete window[i]}catch(r){window[i]=void 0}if(t.id)return e.id=t.id,void n.resolve(e);if(t.error){var o=new Error(t.error);return void n.reject(o)}var s=new Error(t);n.reject(s)};var s=encodeURIComponent(r["default"](e)),a=t.host+"/api/v3/projects/"+t.projectId+"/create-notice?key="+t.projectKey+"&callback="+i+"&body="+s,l=window.document,u=l.getElementsByTagName("head")[0],c=l.createElement("script");c.src=a,c.onload=function(){return u.removeChild(c)},c.onerror=function(){u.removeChild(c);var e=new Error("airbrake: JSONP script error");n.reject(e)},u.appendChild(c)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=0;t["default"]=i},function(module,exports,__webpack_require__){"use strict";function report(e,t,n){var i=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,r=jsonify_notice_1["default"](e);request({url:i,method:"POST",body:r,headers:{"content-type":"application/json"},timeout:t.timeout},function(t,i,r){if(t)return void n.reject(t);if(i.statusCode>=200&&i.statusCode<500){var o=JSON.parse(r);if(o.id)return e.id=o.id,void n.resolve(e);if(o.error){var s=new Error(o.error);return void n.reject(s)}}r=r.trim();var a=new Error("airbrake: node: unexpected response: code="+i.statusCode+" body='"+r+"'");n.reject(a)})}Object.defineProperty(exports,"__esModule",{value:!0});var jsonify_notice_1=__webpack_require__(0),request;try{request=eval("require")("request")}catch(_){}exports["default"]=report},function(e,t,n){"use strict";function i(e){return"function"==typeof fetch?"fetch":"function"==typeof XMLHttpRequest?"xhr":"object"==typeof window?"jsonp":"node"}Object.defineProperty(t,"__esModule",{value:!0}),t.detectReporter=i},function(e,t,n){"use strict";function i(e,t,n){var i=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,o=r["default"](e),s=new XMLHttpRequest;s.open("POST",i,!0),s.timeout=t.timeout,s.setRequestHeader("Content-Type","application/json"),s.onreadystatechange=function(){if(4===s.readyState){if(s.status>=200&&s.status<500){var t=JSON.parse(s.responseText);if(t.id)return e.id=t.id,void n.resolve(e);if(t.error){var i=new Error(t.error);return void n.reject(i)}}var r=s.responseText.trim(),o=new Error("airbrake: xhr: unexpected response: code="+s.status+" body='"+r+"'");n.reject(o)}},s.send(o)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t["default"]=i},function(e,t,n){n(2),e.exports=n(1)}])})},1548:function(e,t,n){(function(t){"use strict";function i(){function e(e,t){}var t=arguments.length<=0||void 0===arguments[0]?2:arguments[0],r=n(52).get("me"),o=arguments[1];return o||(o=n(53).defer().done(function(){n(61).instances.add(r),n(54).trigger("connect:hasUserData")})),r.id?o.resolve():r.fetch().done(o.resolve).fail(function(r){403===r.status?(e("Frozen user account, removing token",r),n(60).logout(),o.reject(r)):t?(e("Error fetching user information. Retrying...",r),i(t-1,o)):(e("Could not fetch user information. Giving up...",r),n(60).logout().always(function(){window.location.reload()}),o.reject(r))}),o}function r(){var e=10;!function i(){t(window.document).one("ajaxSuccess",function(t,r){!n(48).dateTimeHelper.setServerTime(r.getResponseHeader("Date"))&&--e&&i()})}()}function o(){n(1266).initialize({statusCode:n(348)}),n(352).initialize()}function s(){n(52).set("geoip",new(n(1732)))}function a(){var e,i,r=window.document;e=new(n(57)),e.setRoutes(n(1397),n(2168)),e.setLoader(n(1668)),n(163)&&n(163).initialize(),n(52).set("router",e),n(91).setAudioAd(n(1728)),p(),n(143).loadFromSettings(!1),n(1637).initialize(),h(),n(56).initialize(t(r),!0),n(1698).initialize(),m(),i=new(n(1745))({el:t("#app"),appVersion:b}),i.render(),n(22).history.start({root:"/",pushState:!0}),t(window).on("unload",f)}function l(){var e=new(n(61))({id:n(52).get("systemUserId")});e.release=e.hold=n(3).noop}function u(){n(1664)(),n(52).get("me").on("change:consumer_subscription",function(){if(this.hasHighTier()){var e=n(64).instances.filter(function(e){return e.isBlocked()||e.isSnippetized()}).map(function(e){return e.fetch()});n(53).mapEither(function(){n(54).trigger("policyRefresh")},n(53).settled(e))}})}function c(){n(271).activate(),n(271).on(n(271).actions.STOP,g);var e=void 0,t=function(){window.clearTimeout(e)},i=function(){n(163)&&n(163).some(function(e){return e.get("playing")})||n(271).disconnect()};n(54).on("audio:play",function(){n(164).isCasting()||(n(271).reconnect(),n(271).publishEvent(n(271).events.PLAY),t())}),n(54).on("audio:pause",function(){t(),e=window.setTimeout(i,w)})}function d(){function e(e){return"user"===e.originType&&e.origin===n(52).get("me").id}var t=function(t,i,r){var o=r.state!==!1;if(o&&e(r)){var s=n(58).getCurrentMetadata(),a=s&&n(79).extractPromotedAttrs(s.originalModel),l=void 0;r.context&&"promoted"===r.context.campaign?l=r.context:s&&a&&s.sound&&s.sound.getUrn()===i&&(l=a),l&&n(79).trackEvent(t,l)}},i=function(e,i){switch(i){case"target":return function(i){var r=n(88).generate(i.targetType,i.target);return t(e,r,i)};case"object":default:return function(n){var i=n.object&&n.object.getUrn();return t(e,i,n)}}};n(71).on("like",i("like","target")).on("comment",i("comment","target")).on("addToPlaylist",i("addToPlaylist","object")).on("createPlaylist",i("createPlaylist","object")).on("follow",i("follow","target")).on("repost",i("repost","target")).on("likeStation",i("like","target"))}function p(){n(58).initialize(n(91),n(71),n(54),function(e){var t=n(88).fromComponents({collection:"track-stations",id:e.id}),i=new(n(230))(null,{resource_id:t}),r=n(125).getStationPageUrl(e);return i.release(),{source:i,restoreUrl:r}});var e=void 0,t=void 0;if(n(52).get("me").id)e=new(n(452)),e.setLimit(25),t=n(57).getRoute("youNetwork",null,"history");else{var i=n(361).select({field:"id",unique:!0,newestFirst:!0,limit:50}).map(function(e){return{id:e,kind:"sound"}});if(!i.length)return;e=new(n(1235))(i,{sourceInfo:{type:"history"}}),t=""}n(58).setInitialHistorySource(e,t),e.release()}function h(){var e=function(e){var t=n(58).getCurrentSound(),i=n(146),r=i.all,o=i.none,s=t&&t.getUrn(),a={click_name:e===r?"repeat::all":e===o?"repeat::none":"repeat::one"};s&&(a.click_object=s),n(56).trackClick(["play_controls","repeat_track",e===r?"all":e===o?"none":"one"],a)};n(58).on("change:repeatMode",e)}function f(){n(56).dispose(t(window.document))}function g(){var e=n(58).getCurrentSound();!e||e.isPaused()||n(164).isCasting()||(e.pause({pause_reason:"concurrent_streaming"}),n(54).trigger("concurrent_streaming:pause"))}function m(){var e=0,t=2;n(58).on("change:currentSound",function(i){var r=i.current,o=n(262).allowed(),s=!n(237).focused(),a=n(147).get("newTrackNotifications");"never"!==a&&n(60).isLoggedIn()&&r.isPlaying()&&(null===o&&s?++e===t&&n(54).trigger("desktop-notification-reminder"):o&&("always"===a||"bg"===a&&s)&&!function(){var e=function(){var e=r.get("user");n(262).create(r.get("title"),{icon:n(86).urlFrom(r,100),body:e.username,tag:"nowPlaying",duration:5e3}).on("click",window.focus,window)};r.attrExists(["title","user"])?e():r.fetch().then(function(){r.isPlaying()&&r===n(58).getCurrentSound()&&e()})}())})}var v=n(115).getFacebookToken,_=n(115).loadFacebookSDK,y=7e3,b=void 0,w=2e4;e.exports={start:function(e){var i=window.document.head;window.console&&window.console.info&&window.console.info("You like to look under the hood? Why not help us build the engine? http://soundcloud.com/jobs"),"development"===n(52).get("env")?t("link[rel=icon]",i).remove().attr({type:"image/x-icon",href:"data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/JQFI/yUB5/8lAf//JQH//yUB//8lAf//JQH//yUB//8lAf//JQH//yUB//8lAf//JQH//yUB//8lAef/JQFI/yUB5P9EA//+UQT//lEE//5RBP/+UQT//lEE//5RBP/+UQT//lEE//5RBP/+UQT//lEE//5RBP/+RQT//yUB5P4kAP/+Uwj//VIH//1SB//8Uwj//FMI//xTCP/8Uwj/+1IH//tSB//7Ugf//FMI//xTCP/9Ugf//lMI//4kAP/+JAD//VAL//xPCv/7Twv/+k4K//pOCv/5Tgv/+U4L//hNCv/4TQr/+E0K//hNCv/5Tgv/+08L//xPCv/+JAD//iQA//xRDv/6UQ7/+VgZ//h8TP/3XyP/+H9U//ZbJP/1bD3/9W09//VtPf/1bj//9m04//hQDv/7Ug///CQA//4kAP/7TxP/+7KZ//y2nv/81Mj/+rae//zWyP/4tZ7//vXy///////////////////////8waz/+E8U//wkAP/8JAD/+k0Y//3Lu//6taD//NTI//m0n//71cn/+bSf//718v////////////////////////////hQHP/8JAD//iQA//pLHP/6lnz/+7Sh//zVyv/5tKH/+9TJ//m0of/+9PL///////////////////////3h2f/4SRr//CQA//4kAP/6Rx7/+Ucd//qReP/81Mr/+rOi//vTyf/5sqH//vXy//////////////////eUff/1Xz3/+Ucd//wkAP/+JAD//EYi//tFIf/5RSH/9k8u//mGb//808r/+bGj//708v////////////vMw//0QyD/90Qh//tFIf/+JAD//iQA//5FJv/8RCb/+0Ml//pCJP/3QiX/908z//VJLf/8zMT//dnT//u3q//1UDX/90Il//pCJP/8RSb//iQA//8lAf/9Qyv//UMr//xCKv/8Qyr/+0Ip//lBKf/4QSj/+EEo//dBKf/4QSj/+UIp//tCKf/8Qyr//UMr//4kAP//JQH//0Et//9BLf/9QC3//UAt//1BLf/8QCz/+j8s//o/LP/6Pyz/+j8s//xALP/9QS3//UAt//1ALf//JQH//yUB//8+L///Pi///z4v//8+L//9PzH//T8x//0/Mf/9Pi///T4v//0+L//9PzH//T8x//8+L///Pi///yUB//8lAe3/NSX//zsx//87Mf//OzH//zsx//87Mf//OzH//zsx//87Mf//OzH//zsx//87Mf//OzH//zUl//8lAer/JQFa/yUB9v8lAf//JQH//yUB//8lAf//JQH//yUB//8lAf//JQH//yUB//8lAf//JQH//yUB//8lAfb/JQFagAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAAA=="}).appendTo(i):"staging"===n(52).get("env")&&t("link[rel=icon]",i).remove().attr({type:"image/x-icon",href:"data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/mQBI/5kA5/+ZAP//mQD//5kA//+ZAP//mQD//5kA//+ZAP//mQD//5kA//+ZAP//mQD//5kA//+ZAOf/mQBI/5kA5Py2AP/7wwH/+8MB//vDAf/7wwH/+8MB//vDAf/7wwH/+8MB//vDAf/7wwH/+8MB//vDAf/8tgH//5kA5P+ZAf/4vgH/+L8C//i/Av/4vwP/+L8D//i/A//4vwP/+L8E//i/BP/4vwT/+L8D//i/A//4vwL/+L4B//+ZAf//mQH/9bgC//W4A//1uAT/9bgF//W4Bf/1uQb/9bkG//W5B//1uQf/9bkH//W5B//1uQb/9bgE//W4A///mgL//5oC//GxA//xsgX/5qoG/7WGBv/dpAj/q34H/9uiCf/EkQn/wpAK/8KQCv/Cjwn/yZYI//GyB//xsQT//5oD//+aAv/tqgT/Z0oD/2JHA/84KAL/YkcF/zgpA/9iSAb/DgoB/wAAAP8AAAD/AAAA/wAAAP9UPQP/7asG//+aA///mgP/6aIE/0UwAv9gRAT/NycD/2BEBv83JwT/YEUG/w4KAf8AAAD/AAAA/wAAAP8AAAD/AAAA/+SgB///mwT//5oC/+WbBP+FWgT/X0EE/zYlA/9fQQb/NiUE/19BBv8OCQH/AAAA/wAAAP8AAAD/AAAA/yYaAv/mnAf//5sE//+aAv/ikwT/45QG/4hZBf81IwP/XT4F/zYkBP9ePgb/DQkB/wAAAP8AAAD/AAAA/4NXB//DgAn/45QG//+aA///mQH/3ooC/9+LBP/fjAb/0oUI/5BcBv81IgP/XDsG/w0IAf8AAAD/AAAA/z0nBP/fjgv/34wH/9+LBP//mgL//5kB/9qCAf/agwL/24QE/9uEBf/bhQf/zH0I/9OCCv88JQP/LBsC/1U0BP/MfQn/24UH/9uEBf/agwP//5kB//+ZAP/WfAH/1nwB/9Z8Av/WfQP/130E/9d+Bf/Xfwf/138H/9d/CP/Xfwf/134G/9d9BP/WfQP/1nwB//+ZAf//mQD/03QA/9N0AP/TdQH/03UB/9N1Av/UdgP/1HYE/9R2BP/UdgT/1HYE/9R2A//TdQL/03UB/9N1Af//mQD//5kA/9BvAP/QbwD/0G8A/9BvAP/QcAH/0HAB/9BwAf/QcAL/0HAC/9BwAv/QcAH/0HAB/9BvAP/QbwD//5kA//+ZAO3adQD/zmoA/85qAP/OagD/zmoA/85qAP/OagD/zmoA/85qAP/OagD/zmoA/85qAP/OagD/2nUA//+ZAOr/mQBa/5kA9v+ZAP//mQD//5kA//+ZAP//mQD//5kA//+ZAP//mQD//5kA//+ZAP//mQD//5kA//+ZAPb/mQBagAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAAA=="}).appendTo(i),b=e?e:"DEVELOPMENT",n(52).set("app_version",b),window._scAuthCallbacks=n(1636),x()}};var x=n(3).once(function(){var e=void 0,t=n(53).defer();n(60).setSigninView(n(657)),r(),o(),n(1663)({}),n(1665)({}),u(),s(),l(),c(),d(),n(549).initialize(),n(580).initialize(),n(167).startPlayTracking(),n(1629).initialize();var p=function(){e=i(),window.setTimeout(n(60).loginToClassicSoundCloud,y)};n(160).setExperiments(n(52).get("experiments").getVariantIds()),(n(60).isLoggedIn()?n(53).resolve():n(60).loginWithCookies()).done(p).fail(function(){n(54).once("connect:login",p),n(52).get("me").lastFetchTime=Date.now(),e=n(53).resolve()}).always(function(){e.fail(n(119).ajaxFatal(n(132).USER_INFO_NOT_LOADED)).always(a).done(t.resolve).fail(t.reject)}),t.always(function(){if(!n(60).isLoggedIn()){var e=n(62).getFragmentParam("access_token");e?(n(57).removeFragmentParams("access_token","expires_in"),n(60).loginWithFacebook(e)):n(579).facebook&&_().then(function(){return v({promptUser:!1})}).then(n(60).loginWithFacebook)}})})}).call(t,n(1))},1549:function(e,t,n){(function(e){"use strict";var t;window.__sc_abortApp||(n(48).initialize(),t=n(1548),e(function(){t.start(window.__sc_version)}))}).call(t,n(1))},1550:function(e,t,n){"use strict";function i(e){return this.message.indexOf(e)>-1}function r(e,t,i){o(t)&&(s>0?(e.lastFetchTime=Date.now(),e.reset([l])):(s++,n(3).delay(function(){e.fetch().done(function(){s=0})},5e3)))}function o(e){var t=e.status;return t>=500}var s=0,a={"cookies-notification-29-03-2016":{message:n(48).t("SoundCloud uses cookies. By using our services, you’re agreeing to our [[[linkStart]]]Cookie Policy[[[linkEnd]]].",{linkStart:'<a href="'+n(57).getRoute("pagesPages","cookies")+'" class="sc-link-dark">',linkEnd:"</a>"}),viewOptions:function(){return n(136).requiresUserConsent()?{ackText:n(48).t("Allow cookies"),onAck:function(){return n(136).enable()},ackOnDocClick:!0}:void 0}()},"email-confirmation-announcement":{message:n(48).t('Please confirm your email address to make the most of your SoundCloud experience. Check your <a href="[[href]]" class="sc-link-dark">settings</a> to resend the confirmation email.',{href:n(57).getRoute("settings")}),shouldAddAnnouncement:function(){return n(60).isLoggedIn()&&!n(52).get("me").get("primary_email_confirmed")}},"email-missing-announcement":{message:n(48).t('Don’t lose access to your account. <a href="[[href]]" class="sc-link-dark">Add an email address</a>.',{href:n(57).getRoute("settings")}),shouldAddAnnouncement:function(){return n(60).isLoggedIn()&&/nosend\.soundcloudmail\.com$/.test(n(52).get("me").get("primary_email"))}}},l={message:n(48).t('We’re currently experiencing issues, but we are working to get them resolved as soon as possible. Please check our <a href="http://status.soundcloud.com/" target="_blank">Status blog</a> for more information.'),dismissable:!1},u=["old search system","We will no longer be showing Favorites","making some changes to the Classic Dashboard"];e.exports=n(1695).extend({model:n(1320),baseUrl:function(){return this.getEndpointUrl("announcements")},setup:function(){var e=this;this.on("error",r,this),Object.keys(a).filter(function(e){var t=a[e].shouldAddAnnouncement;return!t||t()}).forEach(function(t){var n=a[t],i=n.message,r=n.viewOptions,o=void 0===r?{}:r,s=e.add({key:t,message:i});s.viewOptions=o,e.lastFetchTime=Date.now()})},parse:function(e){return e.filter(function(e){return!u.some(i,e)})}},{neverRelease:!0,hashFn:function(){return 1}})},1551:function(e,t,n){"use strict";e.exports=n(69).extend(n(126),{model:n(1727),next_href:!1,audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()},getSourceInfo:function(){var e=n(158).instances.get(this.options.conversationId);return{type:"conversation",resourceType:"user",resourceId:e.getRecipient().id}},comparator:function(e){return e.get("timestamp")}},{hashFn:function(e,t){return t&&t.conversationId}})},1556:function(e,t,n){"use strict";function i(e){this.add(e.object,{at:0})}var r=function(){return 1},o=(e.exports=n(131).extend(n(306).withOptions({fields:["title"]}),{model:n(80),setupSources:function(){return[new o(null,this.options)]}},{hashFn:r}),n(69).extend({model:n(80),defaults:{offset:0,limit:50},baseUrl:function(){return this.getEndpointUrl("userPlaylists",{id:n(52).get("me").id})},setup:function(){var e=n(52).get("me").id;this.listenTo(n(71),"createPlaylist:origin:user:"+e,i)}},{neverRelease:!0,hashFn:r}))},1559:function(e,t,n){"use strict";e.exports=n(131).extend({model:n(64),defaults:{sourceType:"likes"},filters:{onlySounds:function(e){return"sound"===e.resource_type&&!e.isBlacklisted()}},setupSources:function(){var e=n(52).get("me").id;return"likes"===this.options.sourceType?[new(n(338))(null,{userId:e})]:[new(n(210))(null,{userId:e})]},extractModel:function(e){return e.getAudible()}},{hashFn:function(e,t){return t&&t.resource_id}})},1561:function(e,t,n){"use strict";function i(e){var t=e.collection,i=e.query_urn;return t.map(function(e){var t=e.output,r=e.query,o=e.highlights;return{output:t,highlights:o,kind:"query",link:n(57).getRoute("search",null,r,{query_urn:i}),artwork_url:null}})}e.exports=n(69).extend({model:n(246),defaults:{query:null},queryUrn:null,_currentlyFetching:!1,baseUrl:function(){var e=this.options.query,t=n(52).get("experiments").get("v2_listening","search_localized_autocomplete_web")||null;return this.getEndpointUrl("searchQueries",{},{q:e,variant:t})},fetch:function(e){return n(69).prototype.fetch.call(this,n(3).defaults({omitAuthorization:!0},e))},parse:function(e){return this.queryUrn=e.query_urn,i(e)},updateQuery:function(e){var t=this;this.options.query=e,this._currentlyFetching||(this._currentlyFetching=!0,this.queryUrn=null,this.next_href=null,this.fetch({reset:!0}).always(function(){t._currentlyFetching=!1,e!==t.options.query&&t.updateQuery(t.options.query)}))}})},1563:function(e,t,n){"use strict";e.exports=n(1308).extend({defaults:{prefix:"",context:null,urn:null},baseUrl:function(){var e=this.options,t={q:e.prefix.toLowerCase(),highlight_mode:"offsets",context:e.context&&e.context.map(function(e){return e.toLowerCase()}).join(","),urn:e.urn,user_id:n(52).get("me").id};return this.getEndpointUrl("searchSuggestTags",{},t)},parse:function(e){return n(3).pluck(e.suggestions,"id")}},{hashFn:function(e,t){var n=t.prefix,i=t.context,r=t.urn;return n+";"+JSON.stringify(i)+";"+r}})},1564:function(e,t,n){"use strict";function i(e){return"News"===e?"News & Politics":e}e.exports=n(299).extend({defaults:{limit:21,category:null,excludeFollowing:!0,view:null,shuffle:!1},model:n(376),meIds:null,setup:function(){this.meIds=new(n(489))},baseUrl:function(){var e=this.options.view,t=e?{view:e}:{};return this.getEndpointUrl("mySuggestedUsers",{category:i(this.options.category)},t)},fetch:function(){for(var e=this,t=arguments.length,i=Array(t),r=0;t>r;r++)i[r]=arguments[r];var o=n(53).defer();return this.meIds.fetch().done(function(){n(299).prototype.fetch.apply(e,i).done(o.resolve).fail(o.reject)}).fail(o.reject),o},getTokens:function(){return this.map(function(e){return e.get("token")})},parse:function(e){var t=this,i=this.options,r=i.shuffle,o=i.excludeFollowing,s=e.collection;return r&&(s=n(3).shuffle(s)),this.next_href=s.length>0?null:!1,n(3).filter(s,function(e){return!o||t.isValidUserSuggestion(e.user.id)})},isValidUserSuggestion:function(e){return!this.meIds.get(e)}},{hashFn:function(e,t){return t&&t.category||1},onCleanup:function(e){e.meIds.release(),e.meIds=null}})},1570:function(e,t,n){"use strict";function i(){return new(n(332))(null,{resource_id:this.options.userId,playlists_for:"user",limit:this.options.limit})}e.exports=n(131).extend(n(306).withOptions({fields:["title"]}),{model:n(73),defaults:{limit:25,publicOnly:!0,includePlaylists:!0},setup:function(){for(var e,t=arguments.length,i=Array(t),r=0;t>r;r++)i[r]=arguments[r];(e=n(131).prototype.setup).call.apply(e,[this].concat(i)),this.options.publicOnly&&this.setFilter("publicOnly",function(e){return e.isPublic()})},setupSources:function(){var e=[];return this.options.includePlaylists&&e.push(i.call(this)),e.push(new(n(1250))(null,{userId:this.options.userId})),e},extractModel:function(e){return e}},{hashFn:function(e,t){var n=t.userId,i=t.includePlaylists,r=void 0===i?!0:i,o=t.publicOnly,s=void 0===o?!0:o;return["user_audibles",n,s&&"public_only",r&&"includes_playlists"].filter(Boolean).join("_")}})},1576:function(e,t,n){"use strict";e.exports=n(69).extend({model:n(63).extend(),baseUrl:function(){return this.getEndpointUrl("meRightsholders")},parse:function(e){var t=n(52).get("me"),i=t.getUrn(),r=n(3).uniq(e||[],function(e){return e.rightsholder_urn});return r.map(function(e){var n=e.name,r=e.rightsholder_urn;return n||r!==i?{name:n,rightsholder_urn:r}:{name:t.get("username"),rightsholder_urn:r}})},availableTerritories:function(){var e=this.models.reduce(function(e,t){return e[t.get("rightsholder_urn")]=t.get("name"),e},{}),t=n(3).object(n(3).map(n(81).monetizableCountryCodes(),function(t){return[t,e]}));return t}},{hashFn:function(){return 1}})},1577:function(e,t,n){"use strict";e.exports={userBadge:{Subview:n(2144),minHeight:199,width:"150",offset:"0 10"},widgetUpsell:{Subview:n(2156),width:"200",offset:"0 10"},confirmation:{Subview:n(1881),width:"200",offset:"0 10"},audibleAttribute:{Subview:n(249),relativeElementAnchor:"center bottom",width:"200",anchor:"right top",offset:"18 10",smallText:!0},genericDialog:{relativeElementAnchor:"center bottom",anchor:"right top",offset:"18 10",smallText:!1,text:""}}},1578:function(e,t,n){"use strict";var i="get",r="post",o="put",s="delete",a="public-api",l="api-v2",u="visuals",c="pages";e.exports=n(3).mapObject({announcement:[i,a,"announcements/:id"],announcements:[i,a,"announcements"],app:[i,a,"app/:id"],audioAd:[i,l,"audio-ad"],charts:[i,l,"charts"],checkIdentifier:[i,l,"sign-in/identifier",{q:null}],collectionPlaylists:[i,l,"users/:id/playlists/liked_and_owned"],comment:[i,l,"comments/:id"],commentDelete:[s,l,"comments/:id"],commentCreate:[r,l,"tracks/:track_id/comments",{body:null,timestamp:null}],commentSpam:[r,a,"i1/comments/:id/spam"],developerApps:[i,l,"apps"],playlistLikesIds:[i,l,"me/playlist_likes/ids"],playlistLikesCreate:[o,l,"users/:userId/playlist_likes/:id"],playlistLikesDelete:[s,l,"users/:userId/playlist_likes/:id"],playlistRepostsIds:[i,a,"e1/me/playlist_reposts/ids"],playlistRepostsCreate:[o,a,"e1/me/playlist_reposts/:id"],playlistRepostsDelete:[s,a,"e1/me/playlist_reposts/:id"],soundLikesIds:[i,a,"e1/me/track_likes/ids"],soundLikesCreate:[o,l,"users/:userId/track_likes/:id"],soundLikesDelete:[s,l,"users/:userId/track_likes/:id"],edgePlaylistCategory:[i,a,"e1/playlists/:id/:category"],edgeTrackCategory:[i,a,"e1/tracks/:id/:category"],selections:[i,l,"selections"],soundReposters:[i,l,"tracks/:id/reposters"],soundRepostsIds:[i,a,"e1/me/track_reposts/ids"],soundRepostsCreate:[o,a,"e1/me/track_reposts/:id"],soundRepostsDelete:[s,a,"e1/me/track_reposts/:id"],featuredProfiles:[i,l,"users/:id/featured-profiles"],feedPlaylistUpdate:[o,l,"feed-playlists/:id"],feedTrackUpdate:[o,l,"feed-tracks/:urn"],me:[i,l,"me"],meRightsholders:[i,l,"me/rightsholders"],meUpdate:[o,l,"me"],myActivitiesTracks:[i,a,"me/activities/tracks"],myConnections:[i,l,"me/connected-applications"],myConnectionsDelete:[s,l,"me/connected-applications/:urn"],myConnectionsDeleteAll:[s,l,"me/connected-applications"],myFollowersIds:[i,l,"me/followers/ids"],myFollowingsIds:[i,l,"users/:userId/followings/ids"],myFollowingsCreate:[r,l,"me/followings/:id"],myFollowingsDelete:[s,l,"me/followings/:id"],mySuggestedUsers:[i,l,"me/suggested/users/:category"],newForYou:[i,l,"me/new-for-you"],oscpStatus:[i,l,"oscp/status"],oscpUserCreate:[r,l,"oscp/user_info"],oscpPayoutCreate:[r,l,"oscp/payout"],oscpAvailableContract:[i,l,"oscp/contracts/available/:contract_type"],oscpActiveContract:[i,l,"oscp/contracts/active/:id"],oscpContractSign:[r,l,"oscp/contracts/sign/:contract_type"],paymentCheckout:[i,l,"payments/checkout"],paymentCheckoutItem:[i,l,"payments/checkout/:id"],paymentOrders:[i,l,"payments/orders/:type"],paymentQuotations:[i,l,"payments/quotations/:category"],paymentQuotationsCode:[i,l,"payments/quotations/code/:id"],paymentsConsumerSubscriptionsActive:[i,l,"payments/consumer-subscriptions/active"],paymentsSubscriptionsActive:[i,l,"payments/subscriptions/active"],personalizedTracks:[i,l,"me/personalized-tracks"],playHistoryTracks:[i,l,"me/play-history/tracks"],playHistoryContexts:[i,l,"me/play-history/contexts"],playHistoryAdd:[r,l,"me/play-history"],playHistoryClear:[s,l,"me/play-history"],playlist:[i,l,"playlists/:id"],playlistUpdate:[o,l,"playlists/:id"],playlistArtworkUpdate:[o,a,"playlists/:id"],playlistDelete:[s,a,"playlists/:id"],playlistCategory:[i,l,"playlists/:id/:category"],playlistCreate:[r,l,"playlists"],playlistDiscovery:[i,l,"playlists/discovery"],playlistsForTrack:[i,l,"tracks/:trackId/playlists"],playlistsWithoutAlbumsForTrack:[i,l,"tracks/:trackId/playlists_without_albums"],albumsForTrack:[i,l,"tracks/:trackId/albums"],promotedSearch:[i,l,"promoted/search"],promotedUploadTakeover:[i,l,"promoted/upload-takeover"],promotedUploadText:[i,l,"promoted/upload-text"],promotedUsers:[i,l,"promoted/users"],recommendedStations:[i,l,"stations/:type"],relatedSounds:[i,l,"tracks/:track_id/related"],reportCopyrightInfringement:[r,l,"copyright_reports"],resetPassword:[r,l,"users/password_reset",{email:null}],resolve:[i,l,"resolve",{url:""}],rollouts:[i,l,"features/:names"],search:[i,l,"search"],searchQueries:[i,l,"search/queries"],searchCategory:[i,l,"search/:category"],searchSuggestTags:[i,a,"search/suggest/tags"],shortcutsFollowings:[i,l,"me/shortcuts/followings"],shortcutsTrackLikes:[i,l,"me/shortcuts/track-likes"],signinWithFacebook:[r,l,"sign-in/facebook"],signinWithGoogle:[r,l,"sign-in/google"],signinWithPassword:[r,l,"sign-in/password"],signupWithEmail:[r,l,"sign-up/email"],signupWithEmailToken:[r,l,"sign-up/email/token"],signupWithFacebook:[r,l,"sign-up/facebook"],signupWithGoogle:[r,l,"sign-up/google"],station:[i,l,"stations/:urn"],stationBatch:[i,l,"stations",{urns:null}],stationTracks:[i,l,"stations/:urn/tracks"],likedStations:[i,l,"stations/liked"],likedStationIds:[i,l,"stations/liked/ids"],likeStation:[o,l,"stations/liked/:id"],unlikeStation:[s,l,"stations/liked/:id"],staticPage:[i,c,":pageName.html"],stream:[i,l,"stream"],streamNotifications:[i,l,"stream/notifications"],streamUserProfile:[i,l,"stream/users/:id"],streamUserReposts:[i,l,"stream/users/:id/reposts"],systemPlaylist:[i,l,"system-playlists/:urn"],tagsSuggested:[i,l,"tags/suggested/:urn"],tagsSuggestedCategory:[i,l,"tags/suggested/:category/:urn"],territoriesWhichRequireExplicitRightsholder:[i,l,"tracks/explicit-rightsholder-required-in"],timeseriesTrack:[i,l,"users/:user_urn/tracks/:track_urn/stats/timeseries/:metric",{from:null,to:null,resolution:null}],timeseriesUser:[i,l,"users/:user_urn/stats/timeseries/:metric",{from:null,to:null,resolution:null,tracks:null}],topUserStats:[i,l,"users/:user_urn/stats/top/:metric/:by",{from:null,to:null}],topTrackStats:[i,l,"users/:user_urn/tracks/:track_urn/stats/top/:metric/:by",{from:null,to:null}],totalsUserStats:[i,l,"users/:user_urn/stats/totals/:metric"],totalsTrackStats:[i,l,"users/:user_urn/tracks/:track_urn/stats/totals/:metric"],track:[i,l,"tracks/:urn"],trackAsOwner:[i,l,"tracks/:urn",{representation:"owner"}],trackBatch:[i,l,"tracks"],trackCategory:[i,l,"tracks/:id/:category"],trackCreate:[i,l,"tracks"],trackComments:[i,l,"tracks/:id/comments",{threaded:"0",filter_replies:"0"}],trackCommentsThreaded:[i,l,"tracks/:id/comments",{threaded:"1",filter_replies:"0"}],trackCommentsFilterReplies:[i,l,"tracks/:id/comments",{threaded:"0",filter_replies:"1"}],trackDelete:[s,l,"tracks/:id"],trackImageUpdate:[o,a,"tracks/:id"],trackPatchUpdate:[o,a,"tracks/:id"],trackPermalinkAvailability:[i,l,"track_permalink_availability",{permalink:null}],trackStreams:[i,a,"i1/tracks/:id/streams"],trackUpdate:[i,l,"tracks/:urn"],trinityPublish:[i,a,"tpub/publish"],trinitySubscribe:[i,a,"tsub/subscribe"],user:[i,l,"users/:id"],userAlbums:[i,l,"users/:id/albums"],userAsOwner:[i,l,"users/:urn",{representation:"owner"}],userComments:[i,l,"users/:id/comments"],userDelete:[r,l,"users/:urn/deletion"],userEmailCreate:[r,l,"users/:user_id/emails"],userEmailDelete:[s,l,"users/:user_id/emails/:id"],userEmailResendConfirmation:[r,l,"users/:user_id/emails/:id/confirmation"],userEmailUpdate:[o,l,"users/:user_id/emails/:id"],userEmails:[i,l,"users/:id/emails"],userFollowers:[i,l,"users/:id/followers"],userFollowersFollowedBy:[i,l,"users/:id/followers/followed_by/:followed_by"],userFollowings:[i,l,"users/:id/followings"],userFollowingsNotFollowedBy:[i,l,"users/:id/followings/not_followed_by/:not_followed_by"],userImageUpdate:[o,a,"users/:id"],userLikes:[i,l,"users/:id/likes"],userTrackLikes:[i,l,"users/:id/track_likes"],userNotificationsPreferences:[i,l,"users/:id/notifications/preferences"],userPlaylists:[i,l,"users/:id/playlists"],userPlaylistsWithoutAlbums:[i,l,"users/:id/playlists_without_albums"],userResetPassword:[r,l,"users/:id/password_reset"],userSettings:[i,l,"users/:id/settings"],userSpotlight:[i,l,"users/:id/spotlight"],userTracks:[i,l,"users/:id/tracks"],userWebProfiles:[i,l,"users/:urn/web-profiles"],userWebProfilesUpdate:[r,l,"users/:urn/web-profiles"],visuals:[i,u,"visuals"],userPrivacyPreferences:[i,l,"me/settings/privacy"],
userPrivacyPreferencesUpdate:[r,l,"me/settings/privacy"],userBlockings:[i,l,"me/mutings"],userBlockingsIds:[i,a,"me/mutings/users/ids"],userBlockingsDelete:[s,l,"me/mutings/:urn"],userBlockingsCreate:[r,a,"me/blockings",{user_id:null,reported:null,remove_activities:null}]},function(e){return{method:e[0],service:e[1],path:e[2],query:e[3]}})},1582:function(e,t,n){"use strict";var i=n(62).parse(n(52).get("api_v2_host")),r=n(62).parse("https://api.soundcloud.com/"),o=n(62).parse("https://visuals.soundcloud.com");e.exports={"api-v2":{hostname:i.host,protocol:i.scheme,port:i.port,headers:{Accept:"application/json, text/javascript, */*; q=0.1"},query:{client_id:"LegNTza81OuwVaDfYELQW1X71tY1sot8"}},"public-api":{hostname:r.host,protocol:r.scheme,query:{client_id:"LegNTza81OuwVaDfYELQW1X71tY1sot8"}},visuals:{hostname:o.host,protocol:o.scheme,query:{client_id:"LegNTza81OuwVaDfYELQW1X71tY1sot8"}},pages:{hostname:"pages.soundcloud.com",protocol:"https"}}},1584:function(e,t,n){"use strict";n(38),n(39),n(40),n(30),n(29),n(31),n(32),n(33),n(36),n(2189)},1727:function(e,t,n){"use strict";e.exports=n(63).extend({_audible:null,setup:function(){var e,t=this.get("urn");t&&(e=n(88).getAsAttributes(t),this._audible=new(n(73))({resource_type:e.resource_type,id:e.id}),this.addSubmodel(this._audible))},getAudible:function(){return this._audible}})},1728:function(e,t,n){"use strict";function i(){var e=Math.min(this.getRequiredListenPeriod(),this.sound.getMediaDuration()),t=this.sound.currentTime();return e-t}function r(e){this._monetizableTrack.trigger("ad:"+e.type,e)}var o=3e3,s=function(e,t){return t.reduce(function(e,t){return e&&e[t]},e)};e.exports=n(63).extend({resource_type:"audio_ad",submodelMap:{sound:n(64)},_monetizableTrack:null,baseUrl:function(){return n(79).getAudioAdsUrl({trackId:this.getMonetizableTrack().id})},setup:function(){this.options.requiredListenPeriod=this.options.requiredListenPeriod||0},createSubmodel:function(e,t){var i;"sound"===t?(i=this.get("sound"),this.sound=new(n(64))(n(3).assign(i,{resource_id:{ad_target_id:this.resource_id,sound_id:i.id}}),{checkpointInterval:o}),this.sound.setMonetizableTrack(this._monetizableTrack),this.listenTo(this.sound,"buffering:start buffering:end",r)):n(63).prototype.createSubmodel.apply(this,arguments)},parse:function(e){if(!e||!e.promoted)return{};var t=e.promoted;n(79).parseResponse({promoted:[t]});var i=e.track,r=s(t,["data","audio"]),o=s(t,["data","companion_display"])||{},a=function(){return{audio:r,companion_display:o,sound:n(3).assign({ad_type:"internal"},i),user:i.user}},l=function(){return{audio:r,companion_display:o,sound:n(3).extend({ad_type:"external"},n(3).pick(r,["url","duration"]))}};return i?a():r&&r.url?l():{}},isPopulated:function(){var e="MONETIZE"===this.getMonetizableTrack().get("policy");return e?n(63).prototype.isPopulated.call(this):!0},getMsUntilCanSkip:function(){return Math.max(i.call(this),0)},getRequiredListenPeriod:function(){return this.get("audio").skippable?this.options.requiredListenPeriod:this.sound.get("duration")},isSkippableRightNow:function(){return i.call(this)<=0},getMonetizableTrack:function(){return this._monetizableTrack},configureMonetizableTrack:function(e){this._monetizableTrack=e},getLandingPage:function(){var e=this.get("companion_display")||{},t=e.landing_page;return t}})},1731:function(e,t,n){"use strict";var i=[n(174).anySCLinkRegex,/^https:\/\/play.google.com\/.*id\=com\.soundcloud\.android/,/^https:\/\/itunes.apple.com\/.*\/soundcloud\//,/^https:\/\/soundcloudcontests.com\b/,/^https:\/\/docs.google.com\/a\/soundcloud\.com\//];e.exports=n(63).extend({resource_type:"dashbox",baseUrl:function(){return n(79).getDashboxUrl(this.options.adZone,n(48).getLocale())},parse:function(e){return n(79).parseDashboxResponse(e)},isAd:function(){var e=this.get("click_through_url")||this.get("landing_page");return e?!i.some(e.match,e):!1},isStandardDashbox:function(){return!!this.get("body")},isVisualDashbox:function(){return!!this.get("ad_visual")},hasContent:function(){return this.isStandardDashbox()||this.isVisualDashbox()}})},1732:function(e,t,n){"use strict";e.exports=n(63).extend({},{neverRelease:!0,hashFn:function(){return 1}})},1735:function(e,t,n){"use strict";e.exports=n(63).extend({resource_type:"soundVisual",hasDataForView:function(){return!0},baseUrl:n(3).noop},{hashFn:function(e){return e.urn}})},2162:function(e,t,n){"use strict";e.exports=function(e,t){return n(139).render(e,t&&t.hash)}},2165:function(e,t,n){"use strict";e.exports=n(49)},2166:function(e,t,n){"use strict";e.exports=function(e,t){return n(48).dateTimeHelper.timecode(e,t.hash)}},2167:function(e,t){"use strict";var n=["free","lite","solo","pro","pro-plus","creator-pro","creator-pro-unlimited"],i={customBuyTitle:[!1,!0,!0,!0,!0,!0,!0],quietMode:[!1,!0,!0,!0,!0,!0,!0],fileReplace:[!1,!0,!0,!0,!0,!0,!0],planLevel:[0,1,2,2,2,1,2],spotlight:[!1,!0,!0,!0,!0,!0,!0],stats:[0,1,2,2,2,1,2],visuals:[!1,!0,!0,!0,!0,!0,!0],widgets:[!1,!0,!0,!0,!0,!0,!0],widgetOptions:[!1,!1,!1,!1,!0,!1,!0]},r=["free","consumer-mid-tier","consumer-high-tier"],o={adFree:[!1,!0,!0]};e.exports={get:function(e,t,s){var a;return(a=i[s])?a[n.indexOf(e)]:(a=o[s])?a[r.indexOf(t)]:void 0}}},2168:function(e,t,n){"use strict";function i(e){return n(3).isFunction(e.toJSON)?e.toJSON():e}function r(e){return e.replace(/^https?:.+?\w\//,"/")}function o(e,t){return t&&(t.metric&&(e.push(t.metric),t.from&&t.to&&e.push(t.from,t.to)),t.expanded&&e.push("expanded")),e}e.exports={listen:function(e,t){if(e=i(e),"playlist"===e.kind)return this.getRoute("playlist",e,t);var o,s={};return t=t?"/comment-"+t:"",e._playlist&&e._playlist.id&&(o=e._playlist.permalink_url.replace(/\/s-[a-zA-Z0-9]{5}$/,""),s.query={"in":r(o).substr(1)+(this.includeSecretTokenForPlaylist(e._playlist)?"/"+e._playlist.secret_token:"")}),s.path=e.user?"/"+e.user.permalink+"/"+e.permalink+t+(this.includeSecretTokenForSound(e)?"/"+e.secret_token:""):r(e.permalink_url+t),n(120).stringify(s)},listenNetwork:function(e,t,o){e=i(e);var s={};return"related"===t&&(t="recommended"),s.path=e.user?"/"+e.user.permalink+"/"+e.permalink+(this.includeSecretTokenForSound(e)?"/"+e.secret_token:""):r(e.permalink_url),s.path+="/"+t+("comments"===t&&o?"/"+o:""),n(120).stringify(s)},playlistEdit:function(e){return e=i(e),"/"+n(120).stringify({path:[e.user.permalink,"sets",e.permalink,"edit"]})},playlist:function(e){return e=i(e),e.user?"/"+e.user.permalink+"/sets/"+e.permalink+(this.includeSecretTokenForPlaylist(e)?"/"+e.secret_token:""):r(e.permalink_url)},systemPlaylist:function(e){return e=i(e),"/discover/sets/"+e.permalink},playlistNetwork:function(e,t){e=i(e);var o={};return o.path=e.user?"/"+e.user.permalink+"/sets/"+e.permalink+(this.includeSecretTokenForPlaylist(e)?"/"+e.secret_token:""):r(e.permalink_url),o.path+="/"+t,n(120).stringify(o)},user:function(e,t){return e=i(e),"/"+e.permalink+(t?"/"+t:"")},userNetwork:function(e,t){return e=i(e),"/"+e.permalink+"/"+t},root:function(){return"/"},explore:function(e){return e=(e||"").toLowerCase(),"/"+n(120).stringify({path:["explore",e]})},charts:function(e,t,i){return"/"+n(120).stringify({path:["charts",n(3).findWhere(n(156).kinds,{id:e||n(156).defaultKind}).urlPart],query:{genre:t,country:i}})},people:function(e){return"/"+n(120).stringify({path:["people",e]})},peopleDirectory:function(e){return"/people/directory"+(e?"/"+e:"")},popularSearches:function(e){return"/popular/searches"+(e?"/"+e:"")},pages:function(e){return"/"+e},embedPage:function(){return"/pages/embed"},emailUnsubscribedPage:function(){return"/pages/unsubscribed"},pagesPages:function(e){return"/pages/"+e},tags:function(e){return n(120).stringify({path:"/tags/"+e.toLowerCase()})},search:function(e,t,i){var r={sounds:"sounds",high_tier:"go",sets:"sets",playlists:"sets",albums:"albums",people:"people"}[e];return"/"+n(120).stringify({path:["search",r],query:n(3).assign({q:t},i)})},activity:function(){return"/notifications"},stream:function(e){return"/stream"+(e?"/"+e:"")},logout:function(){return"/logout"},mobile:function(e){return"/mobile"+(e?"/"+e:"")},upload:function(){return"/upload"},youNetwork:function(e,t){return"/you/"+t},messages:function(e){return"/messages"+(e?"/"+e:"")},premium:function(e,t,i){var r=["pro",e];return t&&r.push("buy",t),"/"+n(120).stringify({path:r,query:{ref:i}})},redeem:function(e){return"/pro/redeem/"+e},purchased:function(e){var t=e.indexOf("gift")>-1?"gifts":"",i=e.replace(/(gift|creator)-/,"");return"/pro/purchased/"+n(120).stringify({path:[t,i]})},consumerPremium:function(e){var t=["go"];return"/"+n(120).stringify({path:t,query:{ref:e}})},consumerPremiumCheckout:function(e,t,i,r){var o=["go",i,"buy",e];return"/"+n(120).stringify({path:o,query:{promo_code:r,ref:t}})},consumerPremiumPurchased:function(e,t){var i=["go","purchased",e];return"/"+n(120).stringify({path:i,query:{ref:t}})},settings:function(e){return"/"+n(120).stringify({path:["settings",e]})},subscriptionSettings:function(e){return"/"+n(120).stringify({path:["you/subscriptions",e]})},oscpSettings:function(e){return"/"+n(120).stringify({path:["you/premier",e]})},developerApps:function(e){return"/"+n(120).stringify({path:["you/apps",e]})},signin:function(e){return"/"+n(120).stringify({path:["signin"],query:{redirect_url:e}})},v1:function(e,t){return t=t||"","/"+e+t},station:function(e){return"/stations/"+i(e).permalink},stations:function(){return"/you/stations"},stats:function(e){var t=[n(52).get("me").get("permalink"),"stats"];return"/"+n(120).joinPath(o(t,e))},"track-stats":function(e,t){e=i(e);var r=[e.user.permalink,e.permalink,"stats"];return"/"+n(120).joinPath(o(r,t))},recommended:function(){return"/discover"},reportCopyright:function(e){var t={path:"/pages/copyright/report/form"};return e&&(e=i(e),t.query={track:e.permalink,user:e.user.permalink}),n(120).stringify(t)},"new-for-you":function(){return"/discover/the-upload"},orders:function(e){return"/subscription/orders/"+e}}},2169:function(e,t,n){"use strict";function i(e,t,i){var r=n(3).findWhere(e,t);return r?r.id:i}e.exports=[{route:"(top|new)?",handler:function(e){var t=this.getQueryParams();return this.apply("charts",{chartKind:i(n(156).kinds,{urlPart:e},n(156).defaultKind),genre:i(n(156).genres,{id:t.genre},n(156).defaultGenre),country:i(n(156).countries,{id:t.country})})}}]},2170:function(e,t){"use strict";var n="()";e.exports=[{route:"(?:"+n+")?(?:/:code)?",handler:function(e,t){return this.apply("consumer-premium",{customRoute:e,promoCode:t})}},{route:"(?:"+n+"/)?buy/go",handler:function(e){return this.apply("checkout",{plan:"go",customRoute:e})}},{route:"(?:"+n+"/)?buy/go-plus",handler:function(e){return this.apply("checkout",{plan:"go-plus",customRoute:e})}},{route:"purchased/go",handler:function(){return this.apply("consumer-premium",{purchased:!0,plan:"go"})}},{route:"purchased/go-plus",handler:function(){return this.apply("consumer-premium",{purchased:!0,plan:"go-plus"})}},{route:"tequila/:code",requiresLogin:!0,handler:function(e){return this.apply("checkout",{plan:"go-plus",promo_code:e})}}]},2171:function(e,t){"use strict";e.exports=[{route:"",handler:function(){return this.apply("premium")}},{route:"gifts(?:/buy/:planName)?",handler:function(e){return this.apply("premium",{secondary:"gifts",buyPlan:e})}},{route:"buy/:planName",handler:function(e){return this.apply("premium",{buyPlan:e})}},{route:"redeem/:code",handler:function(e){return this.apply("premium",{secondary:"redeem",code:e})}},{route:"purchased(?:/(gifts))?/:planName",handler:function(e,t){return this.apply("purchased",{subpage:e,plan:t})}}]},2172:function(e,t){"use strict";e.exports=[{route:"",requiresLogin:!0,handler:function(){return this.apply("developer-apps")}},{route:"new",redirect:function(){return"https://docs.google.com/forms/d/e/1FAIpQLSfNxc82RJuzC0DnISat7n4H-G7IsPQIdaMpe202iiHZEoso9w/viewform"}}]},2173:function(e,t){"use strict";e.exports=[{route:"",requiresLogin:!0,handler:function(){return this.getRolloutValue("v2_new_home")?this.apply("discover"):this.apply("personal-recommended")}},{route:"sets/:systemPlaylistPermalink",requiresLogin:!1,handler:function(e){return this.apply("system-playlist",{systemPlaylistPermalink:e})}},{route:"the-upload",requiresLogin:!0,handler:function(){return this.apply("new-for-you")}}]},2174:function(e,t){"use strict";e.exports=[{route:"(iphone|android)?",handler:function(e){return this.apply("mobile",{platform:e})}},{route:"pulse",handler:function(){return this.apply("mobile-pulse")}}]},2175:function(e,t){"use strict";e.exports=[{route:"embed",handler:function(){return this.apply("widgets")}},{route:"widgets",redirect:"/pages/embed"},{route:"unsubscribed",code:401,handler:function(){return this.apply("unsubscribed")}},{route:"((?:privacy|cookies)(?:/:monthYear)?)",handler:function(e){return this.apply("static-page",{pageName:"pages/"+e})}},{route:"(copyright/report|copyright|contact|competition|oscp-privacy|dmca_policy|model-withdrawal-form)",handler:function(e){return this.apply("static-page",{pageName:"pages/"+e})}},{route:"(help-community/(?:guidelines|privacy-policy|terms-of-use|cookies-policy))",handler:function(e){return this.apply("static-page",{pageName:"pages/"+e})}},{route:"who-we-are",redirect:"/pages/contact"},{route:"(copyright/report/form)",requiresLogin:!0,handler:function(e){return this.apply("copyright-form",{pageName:"pages/"+e})}}]},2176:function(e,t){"use strict";e.exports=[{route:"",code:401,handler:function(){return this.apply("people")}},{route:"(following|followers)",redirect:function(e){return"/you/"+e}},{route:"directory(?:/(:alphanum+))?",handler:function(e){return this.apply("people-directory",{subpage:e||"A"})}},{route:"finder|genre|find_friends",redirect:"/people"}]},2177:function(e,t){"use strict";e.exports=[{name:"playlist",route:":secretToken?",handler:function(e,t,n){return this.apply("listen",{userPermalink:e,playlistPermalink:t,secretToken:n})}},{route:"(?::secretToken/)?(likes|reposts)",handler:function(e,t,n,i){return this.apply("listen-network",{userPermalink:e,playlistPermalink:t,secretToken:n,subpage:i})}},{route:"edit",redirect:function(e,t){return"/"+e+"/sets/"+t}}]},2178:function(e,t){"use strict";e.exports=[{route:"(content|notifications|privacy)?",requiresLogin:!0,handler:function(e){return this.apply("settings",{subpage:e||""})}},{route:"account",requiresLogin:!0,redirect:"/settings"},{route:"extra",redirect:"/settings/content"},{route:"plan",redirect:"/you/subscriptions"},{route:"email",redirect:"/settings/notifications"}]},2179:function(e,t){"use strict";e.exports=[{route:"reset/success",handler:function(){return this.apply("password-reset-success")}},{route:"forgot",handler:function(){return this.isLoggedIn()?this.navigate("/settings",{replace:!0,trigger:!0}):this.apply("signin",{subpage:"forgot"})}},{route:"",handler:function(){return this.isLoggedIn()?this.navigate("/stream",{replace:!0,trigger:!0}):this.apply("signin")}}]},2180:function(e,t){"use strict";function n(e){return"/"+Array.prototype.filter.call(arguments,Boolean).join("/")}function i(e,t,n,i){return"recommended"===i&&(i="related"),this.apply("listen-network",{userPermalink:e,soundPermalink:t,secretToken:n,subpage:i})}e.exports=[{name:"listen",route:"(?::secretToken|comment-:id)?",handler:function(e,t,n,i){return this.apply("listen",{userPermalink:e,soundPermalink:t,secretToken:n,commentId:parseInt(i,10)})}},{route:"(?::secretToken/)?groups",code:410,redirect:function(e,t,i){return n(e,t,i)}},{route:"(?::secretToken/)?(likes)",handler:i},{route:"(?::secretToken/)?(reposts)",handler:i},{route:"(?::secretToken/)?(sets)",handler:i},{route:"(?::secretToken/)?(albums)",handler:i},{route:"(?::secretToken/)?(recommended)",handler:i},{route:"(?::secretToken/)?comments(?:/:id)?",redirect:function(e,t,i,r){var o=r?"comment-"+r:null;return n(e,t,i,o)}},{route:"(?::secretToken/)?related",redirect:function(e,t,i){return n(e,t,i,"recommended")}},{route:"download(?:/:secretToken)?",code:410,redirect:function(e,t,i){return n(e,t,i)}},{route:"edit",redirect:function(e,t){return n(e,t)}}]},2181:function(e,t){"use strict";e.exports=[{route:"",redirect:"/you/stations"},{route:":stationType/:stationIdentifier",handler:function(e,t){return this.apply("station",{type:e,identifier:t})}}]},2182:function(e,t){"use strict";e.exports=[{route:":tag",handler:function(e){return this.apply("tags",{tag:e})}}]},2183:function(e,t){"use strict";function n(e){return function(t,n,i,r,o,s){var a=this.getCurrentUserPermalink();return t!==a?this.navigate("/"+t,{replace:!0,trigger:!0}):e.apply(this,arguments)}}e.exports=[{route:"",requiresLogin:!0,handler:n(function(e,t){return this.apply("track-stats",{trackPermalink:t,userPermalink:e})})},{route:":metric(?:/:date/:date)?(/expanded)?",requiresLogin:!0,handler:n(function(e,t,n,i,r,o){if(o&&this.navigateToRoute){var s={user:{permalink:e},permalink:t};return this.navigateToRoute("track-stats",[s,{metric:n,from:i,to:r}],{replace:!0,trigger:!0})}return this.apply("track-stats",{metric:n,from:i,to:r,trackPermalink:t,userPermalink:e})})}]},2184:function(e,t){"use strict";function n(e){return function(t,n,i,r,o){return t!==this.getCurrentUserPermalink()?this.navigate("/"+t,{replace:!0,trigger:!0}):e.apply(this,arguments)}}e.exports=[{route:"",requiresLogin:!0,handler:n(function(e){return this.apply("stats")})},{route:":metric(?:/:date/:date)?(/expanded)?",requiresLogin:!0,handler:n(function(e,t,n,i,r){return r&&this.navigateToRoute?this.navigateToRoute("stats",[{metric:t,from:n,to:i}],{replace:!0,trigger:!0}):this.apply("stats",{metric:t,from:n,to:i})})}]},2185:function(e,t){"use strict";function n(e,t){return this.apply("user",{userPermalink:e,subpage:t})}function i(e,t){return this.apply("user-network",{userPermalink:e,subpage:t})}e.exports=[{name:"user",route:"",handler:function(e){return this.apply("user",{userPermalink:e})}},{route:"(albums)",handler:n},{route:"(reposts)",handler:n},{route:"(sets)",handler:n},{route:"(tracks)",handler:n},{route:"(likes)",handler:i},{route:"(followers)",handler:i},{route:"(following)",handler:i},{route:"(comments)",handler:i},{route:"favorites",redirect:function(e){return"/"+e+"/likes"}},{route:"groups|spotlight",code:410,redirect:function(e){return"/"+e}}]},2186:function(e,t){"use strict";function n(e){return this.apply("collection",{subpage:e})}function i(e){return"/"+this.getCurrentUserPermalink()+"/"+e}e.exports=[{route:"",requiresLogin:!0,redirect:function(){return"/"+this.getCurrentUserPermalink()}},{route:"tracks",requiresLogin:!0,handler:function(){return this.apply("track-manager")}},{route:"(collection)",requiresLogin:!0,handler:n},{route:"(likes)",requiresLogin:!0,handler:n},{route:"(sets)",requiresLogin:!0,handler:n},{route:"(albums)",requiresLogin:!0,handler:n},{route:"(following)",requiresLogin:!0,handler:n},{route:"(stations)",requiresLogin:!0,handler:n},{route:"(history)",requiresLogin:!0,handler:n},{route:"(followers)",requiresLogin:!0,redirect:i},{route:"(comments)",requiresLogin:!0,redirect:i},{route:"(reposts)",requiresLogin:!0,redirect:i},{route:"subscriptions(?:/(go|pro))?",requiresLogin:!0,handler:function(e){return this.apply("subscriptions",{subpage:e})}},{route:"premier(?:/(agreement|getting-started|faqs))?",handler:function(e){var t=this.getRolloutValue("oscp_known_content_monetization_eligible")||this.getRolloutValue("oscp_unknown_content_payouts_eligible"),n=["agreement","getting-started"];return!t&&n.indexOf(e)>-1?this.navigate("/you/premier",{replace:!0,trigger:!0}):this.apply("oscp",{subpage:e||""})}},{route:"(stats(?:/.*)?)",requiresLogin:!0,redirect:function(e){return"/"+this.getCurrentUserPermalink()+"/"+e}}]},2187:function(e,t){"use strict";e.exports={user:{likes:{permalink_url:":permalink_url/likes",uri:":uri/favorites"},spotlight:{permalink_url:":permalink_url",uri:":uri/spotlight"}}}},2188:function(e,t,n){"use strict";var i=/^[]/,r={de:"Deutsch",en:"English (US)",es:"Español",fr:"Français",it:"Italiano",nl:"Nederlands",pt_BR:"Português (Brasil)"},o={pl:"Polski",sv:"Svenska",asterisk:"Asterisk"},s=n(3).extend({},r,o),a=n(3).keys(r),l=n(3).keys(s),u=n(3).keys(o);e.exports={defaultLocale:"en",publicLanguages:r,publicLanguageCodes:a,experimentalLanguages:o,experimentalLanguageCodes:u,experimentalAndPublicLanguages:s,experimentalAndPublicLanguageCodes:l,isLocaleExperimental:function(e){var t=i.test(e);return t||u.indexOf(e)>-1},normalizeLocale:function(e){var t=e.split("_")[0];return n(3).contains(l,t)?t:e}}},2189:function(e,t,n){var i,r;/*!
	 * Bootstrap Colorpicker v2.5.1
	 * https://itsjavi.com/bootstrap-colorpicker/
	 *
	 * Originally written by (c) 2012 Stefan Petre
	 * Licensed under the Apache License v2.0
	 * http://www.apache.org/licenses/LICENSE-2.0.txt
	 *
	 */
!function(o,s){i=[n(1)],r=function(e){return s(e)}.apply(t,i),!(void 0!==r&&(e.exports=r))}(this,function(e){"use strict";var t=function(n,i,r,o,s){this.fallbackValue=r?r&&"undefined"!=typeof r.h?r:this.value={h:0,s:0,b:0,a:1}:null,this.fallbackFormat=o?o:"rgba",this.hexNumberSignPrefix=s===!0,this.value=this.fallbackValue,this.origFormat=null,this.predefinedColors=i?i:{},this.colors=e.extend({},t.webColors,this.predefinedColors),n&&("undefined"!=typeof n.h?this.value=n:this.setColor(String(n))),this.value||(this.value={h:0,s:0,b:0,a:1})};t.webColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"transparent"},t.prototype={constructor:t,colors:{},predefinedColors:{},getValue:function(){return this.value},setValue:function(e){this.value=e},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:""===e?0:"undefined"!=typeof e.toLowerCase?(e.match(/^\./)&&(e="0"+e),Math.ceil(100*parseFloat(e))/100):1},isTransparent:function(e){return e&&("string"==typeof e||e instanceof String)?(e=e.toLowerCase().trim(),"transparent"===e||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/)):!1},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){if(e=e.toLowerCase().trim()){if(this.isTransparent(e))return this.value={h:0,s:0,b:0,a:0},!0;var t=this.parse(e);t?(this.value=this.value={h:t.h,s:t.s,b:t.b,a:t.a},this.origFormat||(this.origFormat=t.format)):this.fallbackValue&&(this.value=this.fallbackValue)}return!1},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=Math.round(parseInt(100*(1-e),10)/100*100)/100},toRGB:function(e,t,n,i){0===arguments.length&&(e=this.value.h,t=this.value.s,n=this.value.b,i=this.value.a),e*=360;var r,o,s,a,l;return e=e%360/60,l=n*t,a=l*(1-Math.abs(e%2-1)),r=o=s=n-l,e=~~e,r+=[l,a,0,0,a,l][e],o+=[a,l,l,a,0,0][e],s+=[0,0,a,l,l,a][e],{r:Math.round(255*r),g:Math.round(255*o),b:Math.round(255*s),a:i}},toHex:function(e,t,n,i){0===arguments.length&&(e=this.value.h,t=this.value.s,n=this.value.b,i=this.value.a);var r=this.toRGB(e,t,n,i);if(this.rgbaIsTransparent(r))return"transparent";var o=(this.hexNumberSignPrefix?"#":"")+((1<<24)+(parseInt(r.r)<<16)+(parseInt(r.g)<<8)+parseInt(r.b)).toString(16).slice(1);return o},toHSL:function(e,t,n,i){0===arguments.length&&(e=this.value.h,t=this.value.s,n=this.value.b,i=this.value.a);var r=e,o=(2-t)*n,s=t*n;return s/=o>0&&1>=o?o:2-o,o/=2,s>1&&(s=1),{h:isNaN(r)?0:r,s:isNaN(s)?0:s,l:isNaN(o)?0:o,a:isNaN(i)?0:i}},toAlias:function(e,t,n,i){var r,o=0===arguments.length?this.toHex():this.toHex(e,t,n,i),s="alias"===this.origFormat?o:this.toString(this.origFormat,!1);for(var a in this.colors)if(r=this.colors[a].toLowerCase().trim(),r===o||r===s)return a;return!1},RGBtoHSB:function(e,t,n,i){e/=255,t/=255,n/=255;var r,o,s,a;return s=Math.max(e,t,n),a=s-Math.min(e,t,n),r=0===a?null:s===e?(t-n)/a:s===t?(n-e)/a+2:(e-t)/a+4,r=(r+360)%6*60/360,o=0===a?0:a/s,{h:this._sanitizeNumber(r),s:o,b:s,a:this._sanitizeNumber(i)}},HueToRGB:function(e,t,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e},HSLtoRGB:function(e,t,n,i){0>t&&(t=0);var r;r=.5>=n?n*(1+t):n+t-n*t;var o=2*n-r,s=e+1/3,a=e,l=e-1/3,u=Math.round(255*this.HueToRGB(o,r,s)),c=Math.round(255*this.HueToRGB(o,r,a)),d=Math.round(255*this.HueToRGB(o,r,l));return[u,c,d,this._sanitizeNumber(i)]},parse:function(t){if(0===arguments.length)return!1;var n,i,r=this,o=!1,s="undefined"!=typeof this.colors[t];return s&&(t=this.colors[t].toLowerCase().trim()),e.each(this.stringParsers,function(e,a){var l=a.re.exec(t);return n=l&&a.parse.apply(r,[l]),n?(o={},i=s?"alias":a.format?a.format:r.getValidFallbackFormat(),o=i.match(/hsla?/)?r.RGBtoHSB.apply(r,r.HSLtoRGB.apply(r,n)):r.RGBtoHSB.apply(r,n),o instanceof Object&&(o.format=i),!1):!0}),o},getValidFallbackFormat:function(){var e=["rgba","rgb","hex","hsla","hsl"];return this.origFormat&&-1!==e.indexOf(this.origFormat)?this.origFormat:this.fallbackFormat&&-1!==e.indexOf(this.fallbackFormat)?this.fallbackFormat:"rgba"},toString:function(e,n){e=e||this.origFormat||this.fallbackFormat,n=n||!1;var i=!1;switch(e){case"rgb":return i=this.toRGB(),this.rgbaIsTransparent(i)?"transparent":"rgb("+i.r+","+i.g+","+i.b+")";case"rgba":return i=this.toRGB(),"rgba("+i.r+","+i.g+","+i.b+","+i.a+")";case"hsl":return i=this.toHSL(),"hsl("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%)";case"hsla":return i=this.toHSL(),"hsla("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%,"+i.a+")";case"hex":return this.toHex();case"alias":return i=this.toAlias(),i===!1?this.toString(this.getValidFallbackFormat()):n&&!(i in t.webColors)&&i in this.predefinedColors?this.predefinedColors[i]:i;default:return i}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return"undefined"!=typeof this.colors[e.toLowerCase()]?this.colors[e.toLowerCase()]:!1}};var n={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",fallbackColor:!1,fallbackFormat:"hex",hexNumberSignPrefix:!0,sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},i=function(t,i){this.element=e(t).addClass("colorpicker-element"),this.options=e.extend(!0,{},n,this.element.data(),i),this.component=this.options.component,this.component=this.component!==!1?this.element.find(this.component):!1,this.component&&0===this.component.length&&(this.component=!1),this.container=this.options.container===!0?this.element:this.options.container,this.container=this.container!==!1?e(this.container):!1,this.input=this.element.is("input")?this.element:this.options.input?this.element.find(this.options.input):!1,this.input&&0===this.input.length&&(this.input=!1),this.color=this.createColor(this.options.color!==!1?this.options.color:this.getValue()),this.format=this.options.format!==!1?this.options.format:this.color.origFormat,this.options.color!==!1&&(this.updateInput(this.color),this.updateData(this.color));var r=this.picker=e(this.options.template);if(this.options.customClass&&r.addClass(this.options.customClass),this.options.inline?r.addClass("colorpicker-inline colorpicker-visible"):r.addClass("colorpicker-hidden"),this.options.horizontal&&r.addClass("colorpicker-horizontal"),(-1!==["rgba","hsla","alias"].indexOf(this.format)||this.options.format===!1||"transparent"===this.getValue())&&r.addClass("colorpicker-with-alpha"),"right"===this.options.align&&r.addClass("colorpicker-right"),this.options.inline===!0&&r.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var o=this,s=o.picker.find(".colorpicker-selectors");s.length>0&&(e.each(this.options.colorSelectors,function(t,n){var i=e("<i />").addClass("colorpicker-selectors-color").css("background-color",n).data("class",t).data("alias",t);i.on("mousedown.colorpicker touchstart.colorpicker",function(t){t.preventDefault(),o.setValue("alias"===o.format?e(this).data("alias"):e(this).css("background-color"))}),s.append(i)}),s.show().addClass("colorpicker-visible"))}r.on("mousedown.colorpicker touchstart.colorpicker",e.proxy(function(e){e.target===e.currentTarget&&e.preventDefault()},this)),r.find(".colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha").on("mousedown.colorpicker touchstart.colorpicker",e.proxy(this.mousedown,this)),r.appendTo(this.container?this.container:e("body")),this.input!==!1&&(this.input.on({"keyup.colorpicker":e.proxy(this.keyup,this)}),this.input.on({"change.colorpicker":e.proxy(this.change,this)}),this.component===!1&&this.element.on({"focus.colorpicker":e.proxy(this.show,this)}),this.options.inline===!1&&this.element.on({"focusout.colorpicker":e.proxy(this.hide,this)})),this.component!==!1&&this.component.on({"click.colorpicker":e.proxy(this.show,this)}),this.input===!1&&this.component===!1&&this.element.on({"click.colorpicker":e.proxy(this.show,this)}),this.input!==!1&&this.component!==!1&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":e.proxy(this.show,this),"focus.colorpicker":e.proxy(this.show,this)}),this.update(),e(e.proxy(function(){this.element.trigger("create")},this))};i.Color=t,i.prototype={constructor:i,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),this.input!==!1&&this.input.off(".colorpicker"),this.component!==!1&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(this.options.inline!==!1||this.options.container)return!1;var e=this.container&&this.container[0]!==window.document.body?"position":"offset",t=this.component||this.element,n=t[e]();"right"===this.options.align&&(n.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:n.top+t.outerHeight(),left:n.left})},show:function(t){this.isDisabled()||(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),e(window).on("resize.colorpicker",e.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!this.component&&this.input||this.options.inline!==!1||e(window.document).on({"mousedown.colorpicker":e.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color}))},hide:function(t){return"undefined"!=typeof t&&t.target&&(e(t.currentTarget).parents(".colorpicker").length>0||e(t.target).parents(".colorpicker").length>0)?!1:(this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),e(window).off("resize.colorpicker",this.reposition),e(window.document).off({"mousedown.colorpicker":this.hide}),this.update(),void this.element.trigger({type:"hidePicker",color:this.color}))},updateData:function(e){return e=e||this.color.toString(this.format,!1),this.element.data("color",e),e},updateInput:function(e){return e=e||this.color.toString(this.format,!1),this.input!==!1&&(this.input.prop("value",e),this.input.trigger("change")),e},updatePicker:function(e){"undefined"!=typeof e&&(this.color=this.createColor(e));var t=this.options.horizontal===!1?this.options.sliders:this.options.slidersHorz,n=this.picker.find("i");return 0!==n.length?(this.options.horizontal===!1?(t=this.options.sliders,n.eq(1).css("top",t.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",t.alpha.maxTop*(1-this.color.value.a))):(t=this.options.slidersHorz,n.eq(1).css("left",t.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",t.alpha.maxLeft*(1-this.color.value.a))),n.eq(0).css({top:t.saturation.maxTop-this.color.value.b*t.saturation.maxTop,left:this.color.value.s*t.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",(this.options.hexNumberSignPrefix?"":"#")+this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",(this.options.hexNumberSignPrefix?"":"#")+this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format,!0)),e):void 0},updateComponent:function(e){var t;if(t="undefined"!=typeof e?this.createColor(e):this.color,this.component!==!1){var n=this.component.find("i").eq(0);n.length>0?n.css({backgroundColor:t.toString(this.format,!0)}):this.component.css({backgroundColor:t.toString(this.format,!0)})}return t.toString(this.format,!1)},update:function(e){var t;return(this.getValue(!1)!==!1||e===!0)&&(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=this.createColor(e),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},createColor:function(e){return new t(e?e:null,this.options.colorSelectors,this.options.fallbackColor?this.options.fallbackColor:this.color,this.options.fallbackFormat,this.options.hexNumberSignPrefix)},getValue:function(e){e="undefined"==typeof e?this.options.fallbackColor:e;var t;return t=this.hasInput()?this.input.val():this.element.data("color"),(void 0===t||""===t||null===t)&&(t=e),t},hasInput:function(){return this.input!==!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0):!1},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){!t.pageX&&!t.pageY&&t.originalEvent&&t.originalEvent.touches&&(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var n=e(t.target),i=n.closest("div"),r=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!i.is(".colorpicker")){if(i.is(".colorpicker-saturation"))this.currentSlider=e.extend({},r.saturation);else if(i.is(".colorpicker-hue"))this.currentSlider=e.extend({},r.hue);else{if(!i.is(".colorpicker-alpha"))return!1;this.currentSlider=e.extend({},r.alpha)}var o=i.offset();this.currentSlider.guide=i.find("i")[0].style,this.currentSlider.left=t.pageX-o.left,this.currentSlider.top=t.pageY-o.top,this.mousePointer={left:t.pageX,top:t.pageY},e(window.document).on({"mousemove.colorpicker":e.proxy(this.mousemove,this),"touchmove.colorpicker":e.proxy(this.mousemove,this),"mouseup.colorpicker":e.proxy(this.mouseup,this),"touchend.colorpicker":e.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),n=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=n+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,n/this.currentSlider.maxTop),this.options.format!==!1||"setAlpha"!==this.currentSlider.callTop&&"setAlpha"!==this.currentSlider.callLeft||(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),e(window.document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.keyup(e)},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=this.createColor(this.input.val()),this.color.origFormat&&this.options.format===!1&&(this.format=this.color.origFormat),this.getValue(!1)!==!1&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},e.colorpicker=i,e.fn.colorpicker=function(t){var n=Array.prototype.slice.call(arguments,1),r=1===this.length,o=null,s=this.each(function(){var r=e(this),s=r.data("colorpicker"),a="object"==typeof t?t:{};s||(s=new i(this,a),r.data("colorpicker",s)),"string"==typeof t?e.isFunction(s[t])?o=s[t].apply(s,n):(n.length&&(s[t]=n[0]),o=s[t]):o=r});return r?o:s},e.fn.colorpicker.constructor=i})},2190:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-collection>.l-nav{margin:30px 0}",""])},2191:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-consumer-sub-footer{padding:0 40px}",""])},2192:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".frontHero{color:#fff;position:relative;overflow:hidden;border-top:4px solid #f50;background-color:#666;height:450px;background:url("+n(1462)+") 0 0/cover no-repeat;-webkit-font-smoothing:antialiased}.frontHero__container{height:100%;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.frontHero__signin{position:absolute;top:20px;right:30px}.frontHero__loginButton{margin-right:6px;height:30px;padding:0 15px}.frontHero__createAccountButton{height:30px;padding:0 16px}.frontHero__logo{position:absolute;top:13px;left:19px;background:url("+n(1030)+') no-repeat 12px 11px;background-size:48px 22px;display:block;width:184px;height:46px;text-indent:-999em}.frontHero__logo::after{position:absolute;left:1px;content:"";display:inline-block;height:100%;width:100%;background:url('+n(1032)+") no-repeat 60px 11px;background-size:115px 22px}.frontHero__carousel{display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden}.frontHero__carouselNav{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:24px}.frontHero__carouselNavDot{width:10px;height:10px;background:0 0;border-radius:6px;border:1px solid #fff;cursor:pointer}.frontHero__carouselNavDot+.frontHero__carouselNavDot{margin-left:18px}.frontHero__content{width:100%;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:145px 0 0}.frontHero__title{margin-bottom:8px;font-size:36px;font-weight:100}.frontHero__tagline{font-size:18px;max-width:530px;text-align:center}.frontHero__cta{margin-top:17px;display:-webkit-flex;display:-ms-flexbox;display:flex}.frontHero__learnButton{font-size:17px;min-width:164px;height:46px;margin-right:25px;padding-top:12px}.frontHero__ctaButton{font-size:18px;min-width:210px;height:46px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx),(min-resolution:192dpi){.frontHero{background-image:url("+n(1463)+")}.frontHero__logo{background-image:url("+n(1031)+")}.frontHero__logo::after{background-image:url("+n(1033)+")}}",""])},2193:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-messages-left{position:fixed;top:45px;bottom:0;width:350px;overflow:hidden}.l-messages-main{padding-left:380px}@media (max-width:1079px){.l-messages-left{width:270px}.l-messages-main{padding-left:300px}}",""])},2194:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".listen-about .l-main{min-height:230px}@media (max-width:1079px){.listen-about>.l-sidebar-left{display:none}}",""])},2195:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-listen-wrapper{position:relative}.l-listen-wrapper .l-about-main{margin-right:330px;padding-top:20px}.l-listen-wrapper .l-about-rows{padding-right:30px;border-right:1px solid #f2f2f2}.l-listen-wrapper .l-about-row{margin-bottom:20px}.l-listen-wrapper .l-about-row:last-child{margin-bottom:0}.l-listen-wrapper .l-about-top>.listenEngagement{padding-top:0}.l-listen-wrapper .l-sidebar-right{top:30px;right:0;position:absolute;bottom:auto;width:300px;margin-bottom:50px}.l-listen__mainContent{position:relative}.l-listen__mainContent>.l-about-left{position:absolute;top:0;left:0;width:120px}.l-listen__mainContent>.l-about-right{padding-left:150px}",""])},2196:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-premium-content{padding-top:30px}",""])},2197:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-search{position:relative}.l-search .l-fixed-top{position:absolute;top:0;left:0}.l-search .l-fixed-left{position:absolute;top:94px;left:0;bottom:0;width:220px}.l-search .l-main{margin:0 0 0 250px;padding-top:84px}@media (max-width:1079px){.l-search .l-main{margin-left:240px}}",""])},2198:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"@media (max-width:1079px){.l-settings-layout .l-fluid-fixed .l-main{margin-right:0;padding-right:0;border-right:0}.l-settings-layout .l-fluid-fixed .l-sidebar-right{display:none}}",""])},2199:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-signin .l-main{width:400px;height:620px;margin:30px auto;padding:0 30px;border:1px solid #e5e5e5}",""])},2200:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-station-wrapper{position:relative}.l-station-wrapper .l-about-main{margin-right:330px;padding-top:20px}.l-station-wrapper .l-about-rows{padding-right:30px;border-right:1px solid #f2f2f2}.l-station-wrapper .l-about-row{margin-bottom:20px}.l-station-wrapper .l-about-row:last-child{margin-bottom:0}.l-station-wrapper .l-sidebar-right{top:30px;right:0;position:absolute;bottom:auto;width:300px;margin-bottom:50px}.l-station__mainContent{position:relative}.l-station__mainContent>.l-about-left{position:absolute;top:0;left:0;width:120px}.l-station__mainContent>.l-about-right{padding-left:150px}",""])},2201:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-two-column-sound-hero{position:relative}.l-two-column-sound-hero .l-sidebar-right{position:absolute;top:30px;bottom:0;right:0;width:300px}.l-two-column-sound-hero .l-sidebar-right .l-fixed{width:300px;overflow:hidden}.l-two-column-sound-hero .l-sidebar-right .l-footer{position:relative;top:-30px;padding-bottom:30px}.l-two-column-sound-hero .l-main{padding:0 30px 0 0;margin:0 330px 0 0}.l-two-column-sound-hero .l-listen-content{position:relative;padding:20px 0 0 0;margin:0}@media (max-width:1079px){.l-two-column-sound-hero .l-main{padding-right:20px;margin-right:320px}}",""])},2202:function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-fluid-fixed .l-user-main{margin-top:20px;padding-top:0}.l-fluid-fixed .l-user-sidebar-right{top:0}",""])},2588:function(e,t,n){"use strict";var i,r=n(2604),o=n(1446),s=n(228),a=n(2612),l=n(228),u=n(229),c=Function.prototype.bind,d=Object.defineProperty,p=Object.prototype.hasOwnProperty;i=function(e,t,n){var i,o=u(t)&&l(t.value);return i=r(t),delete i.writable,delete i.value,i.get=function(){return!n.overwriteDefinition&&p.call(this,e)?o:(t.value=c.call(o,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},i},e.exports=function(e){var t=o(arguments[1]);return null!=t.resolveContext&&s(t.resolveContext),a(e,function(e,n){return i(n,e,t)})}},2589:function(e,t,n){"use strict";var i=n(2597),r=n(1445),o=n(229),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,l=Math.abs,u=Math.floor;e.exports=function(e){var t,n,c,d;if(!i(e))return s.apply(this,arguments);for(n=r(o(this).length),c=arguments[1],c=isNaN(c)?0:c>=0?u(c):r(this.length)-u(l(c)),t=c;n>t;++t)if(a.call(this,t)&&(d=this[t],i(d)))return t;return-1}},2590:function(e,t,n){"use strict";e.exports=n(2591)()?Array.from:n(2592)},2591:function(e,t){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"!=typeof n?!1:(e=["raz","dwa"],t=n(e),Boolean(t&&t!==e&&"dwa"===t[1]))}},2592:function(e,t,n){"use strict";var i=n(258).iterator,r=n(515),o=n(2593),s=n(1445),a=n(228),l=n(229),u=n(326),c=n(517),d=Array.isArray,p=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;e.exports=function(e){var t,n,g,m,v,_,y,b,w,x,k=arguments[1],S=arguments[2];if(e=Object(l(e)),u(k)&&a(k),this&&this!==Array&&o(this))t=this;else{if(!k){if(r(e))return v=e.length,1!==v?Array.apply(null,e):(m=new Array(1),m[0]=e[0],m);if(d(e)){for(m=new Array(v=e.length),n=0;v>n;++n)m[n]=e[n];return m}}m=[]}if(!d(e))if(void 0!==(w=e[i])){for(y=a(w).call(e),t&&(m=new t),b=y.next(),n=0;!b.done;)x=k?p.call(k,S,b.value,n):b.value,t?(h.value=x,f(m,n,h)):m[n]=x,b=y.next(),++n;v=n}else if(c(e)){for(v=e.length,t&&(m=new t),n=0,g=0;v>n;++n)x=e[n],v>n+1&&(_=x.charCodeAt(0),_>=55296&&56319>=_&&(x+=e[++n])),x=k?p.call(k,S,x,g):x,t?(h.value=x,f(m,g,h)):m[g]=x,++g;v=g}if(void 0===v)for(v=s(e.length),t&&(m=new t(v)),n=0;v>n;++n)x=k?p.call(k,S,e[n],n):e[n],t?(h.value=x,f(m,n,h)):m[n]=x;return t&&(h.value=null,m.length=v),m}},2593:function(e,t,n){"use strict";var i=Object.prototype.toString,r=i.call(n(1444));e.exports=function(e){return"function"==typeof e&&i.call(e)===r}},2594:function(e,t,n){"use strict";e.exports=n(2595)()?Math.sign:n(2596)},2595:function(e,t){"use strict";e.exports=function(){var e=Math.sign;return"function"!=typeof e?!1:1===e(10)&&-1===e(-20)}},2596:function(e,t){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},2597:function(e,t,n){"use strict";e.exports=n(2598)()?Number.isNaN:n(2599)},2598:function(e,t){"use strict";e.exports=function(){var e=Number.isNaN;return"function"!=typeof e?!1:!e({})&&e(NaN)&&!e(34)}},2599:function(e,t){"use strict";e.exports=function(e){return e!==e}},2600:function(e,t,n){"use strict";var i=n(2594),r=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=Number(e),0!==e&&isFinite(e)?i(e)*o(r(e)):e)}},2601:function(e,t,n){"use strict";var i=n(228),r=n(229),o=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,l=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,u){var c,d=arguments[2],p=arguments[3];return n=Object(r(n)),i(u),c=a(n),p&&c.sort("function"==typeof p?o.call(p,n):void 0),"function"!=typeof e&&(e=c[e]),s.call(e,c,function(e,i){return l.call(n,e)?s.call(u,d,n[e],e,n,i):t})}}},2602:function(e,t){"use strict";e.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},2603:function(e,t,n){"use strict";var i=n(2609),r=n(229),o=Math.max;e.exports=function(e,t){var n,s,a,l=o(arguments.length,2);for(e=Object(r(e)),a=function(i){try{e[i]=t[i]}catch(r){n||(n=r)}},s=1;l>s;++s)t=arguments[s],i(t).forEach(a);if(void 0!==n)throw n;return e}},2604:function(e,t,n){"use strict";var i=n(2590),r=n(768),o=n(229);e.exports=function(e){var t=Object(o(e)),n=arguments[1],s=Object(arguments[2]);if(t!==e&&!n)return t;var a={};return n?i(n,function(t){(s.ensure||t in e)&&(a[t]=e[t])}):r(a,e),a}},2605:function(e,t,n){"use strict";var i,r=Object.create;n(1447)()||(i=n(1448)),e.exports=function(){var e,t,n;return i?1!==i.level?r:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){return"__proto__"===e?void(t[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(t[e]=n)}),Object.defineProperties(e,t),Object.defineProperty(i,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return r(null===t?e:t,n)}):r}()},2606:function(e,t,n){"use strict";e.exports=n(2601)("forEach")},2607:function(e,t){"use strict";e.exports=function(e){return"function"==typeof e}},2608:function(e,t,n){"use strict";var i=n(326),r={"function":!0,object:!0};e.exports=function(e){return i(e)&&r[typeof e]||!1}},2609:function(e,t,n){"use strict";e.exports=n(2610)()?Object.keys:n(2611)},2610:function(e,t){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},2611:function(e,t,n){"use strict";var i=n(326),r=Object.keys;e.exports=function(e){return r(i(e)?Object(e):e)}},2612:function(e,t,n){
"use strict";var i=n(228),r=n(2606),o=Function.prototype.call;e.exports=function(e,t){var n={},s=arguments[2];return i(t),r(e,function(e,i,r,a){n[i]=o.call(t,s,e,i,r,a)}),n}},2613:function(e,t){"use strict";var n="razdwatrzy";e.exports=function(){return"function"!=typeof n.contains?!1:n.contains("dwa")===!0&&n.contains("foo")===!1}},2614:function(e,t){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},2615:function(e,t,n){"use strict";var i,r=n(516),o=n(769),s=n(287),a=n(258),l=n(770),u=Object.defineProperty;i=e.exports=function(e,t){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");l.call(this,e),t=t?o.call(t,"key+value")?"key+value":o.call(t,"key")?"key":"value":"value",u(this,"__kind__",s("",t))},r&&r(i,l),delete i.prototype.constructor,i.prototype=Object.create(l.prototype,{_resolve:s(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),u(i.prototype,a.toStringTag,s("c","Array Iterator"))},2616:function(e,t,n){"use strict";var i=n(515),r=n(228),o=n(517),s=n(2617),a=Array.isArray,l=Function.prototype.call,u=Array.prototype.some;e.exports=function(e,t){var n,c,d,p,h,f,g,m,v=arguments[2];if(a(e)||i(e)?n="array":o(e)?n="string":e=s(e),r(t),d=function(){p=!0},"array"===n)return void u.call(e,function(e){return l.call(t,v,e,d),p});if("string"!==n)for(c=e.next();!c.done;){if(l.call(t,v,c.value,d),p)return;c=e.next()}else for(f=e.length,h=0;f>h&&(g=e[h],f>h+1&&(m=g.charCodeAt(0),m>=55296&&56319>=m&&(g+=e[++h])),l.call(t,v,g,d),!p);++h);}},2617:function(e,t,n){"use strict";var i=n(515),r=n(517),o=n(2615),s=n(2619),a=n(1449),l=n(258).iterator;e.exports=function(e){return"function"==typeof a(e)[l]?e[l]():i(e)?new o(e):r(e)?new s(e):new o(e)}},2618:function(e,t,n){"use strict";var i=n(515),r=n(326),o=n(517),s=n(258).iterator,a=Array.isArray;e.exports=function(e){return r(e)?a(e)?!0:o(e)?!0:i(e)?!0:"function"==typeof e[s]:!1}},2619:function(e,t,n){"use strict";var i,r=n(516),o=n(287),s=n(258),a=n(770),l=Object.defineProperty;i=e.exports=function(e){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");e=String(e),a.call(this,e),l(this,"__length__",o("",e.length))},r&&r(i,a),delete i.prototype.constructor,i.prototype=Object.create(a.prototype,{_next:o(function(){return this.__list__?this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind():void 0}),_resolve:o(function(e){var t,n=this.__list__[e];return this.__nextIndex__===this.__length__?n:(t=n.charCodeAt(0),t>=55296&&56319>=t?n+this.__list__[this.__nextIndex__++]:n)})}),l(i.prototype,s.toStringTag,o("c","String Iterator"))},2620:function(e,t){"use strict";e.exports=function(){var e,t,n;return"function"!=typeof Set?!1:(e=new Set(["raz","dwa","trzy"]),"[object Set]"!==String(e)?!1:3!==e.size?!1:"function"!=typeof e.add?!1:"function"!=typeof e.clear?!1:"function"!=typeof e["delete"]?!1:"function"!=typeof e.entries?!1:"function"!=typeof e.forEach?!1:"function"!=typeof e.has?!1:"function"!=typeof e.keys?!1:"function"!=typeof e.values?!1:(t=e.values(),n=t.next(),n.done!==!1?!1:"raz"!==n.value?!1:!0))}},2621:function(e,t){"use strict";e.exports=function(){return"undefined"==typeof Set?!1:"[object Set]"===Object.prototype.toString.call(Set.prototype)}()},2623:function(e,t,n){"use strict";var i,r,o,s=n(1443),a=n(2589),l=n(516),u=n(228),c=n(287),d=n(2628),p=n(258),h=n(1449),f=n(2616),g=n(2622),m=n(2621),v=Function.prototype.call,_=Object.defineProperty,y=Object.getPrototypeOf;m&&(o=Set),e.exports=i=function(){var e,t=arguments[0];if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");return e=m&&l?l(new o,y(this)):this,null!=t&&h(t),_(e,"__setData__",c("c",[])),t?(f(t,function(e){-1===a.call(this,e)&&this.push(e)},e.__setData__),e):e},m&&(l&&l(i,o),i.prototype=Object.create(o.prototype,{constructor:c(i)})),d(Object.defineProperties(i.prototype,{add:c(function(e){return this.has(e)?this:(this.emit("_add",this.__setData__.push(e)-1,e),this)}),clear:c(function(){this.__setData__.length&&(s.call(this.__setData__),this.emit("_clear"))}),"delete":c(function(e){var t=a.call(this.__setData__,e);return-1===t?!1:(this.__setData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:c(function(){return new g(this,"key+value")}),forEach:c(function(e){var t,n,i,r=arguments[1];for(u(e),t=this.values(),n=t._next();void 0!==n;)i=t._resolve(n),v.call(e,r,i,i,this),n=t._next()}),has:c(function(e){return-1!==a.call(this.__setData__,e)}),keys:c(r=function(){return this.values()}),size:c.gs(function(){return this.__setData__.length}),values:c(function(){return new g(this)}),toString:c(function(){return"[object Set]"})})),_(i.prototype,p.iterator,c(r)),_(i.prototype,p.toStringTag,c("c","Set"))},2624:function(e,t){"use strict";var n={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(t){return!1}return n[typeof Symbol.iterator]&&n[typeof Symbol.toPrimitive]&&n[typeof Symbol.toStringTag]?!0:!1}},2625:function(e,t){"use strict";e.exports=function(e){return e?"symbol"==typeof e?!0:e.constructor?"Symbol"!==e.constructor.name?!1:"Symbol"===e[e.constructor.toStringTag]:!1:!1}},2626:function(e,t,n){"use strict";var i,r,o,s,a=n(287),l=n(2627),u=Object.create,c=Object.defineProperties,d=Object.defineProperty,p=Object.prototype,h=u(null);if("function"==typeof Symbol){i=Symbol;try{String(i()),s=!0}catch(f){}}var g=function(){var e=u(null);return function(t){for(var n,i,r=0;e[t+(r||"")];)++r;return t+=r||"",e[t]=!0,n="@@"+t,d(p,n,a.gs(null,function(e){i||(i=!0,d(this,n,a(e)),i=!1)})),n}}();o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return r(e)},e.exports=r=function m(e){var t;if(this instanceof m)throw new TypeError("Symbol is not a constructor");return s?i(e):(t=u(o.prototype),e=void 0===e?"":String(e),c(t,{__description__:a("",e),__name__:a("",g(e))}))},c(r,{"for":a(function(e){return h[e]?h[e]:h[e]=r(String(e))}),keyFor:a(function(e){var t;l(e);for(t in h)if(h[t]===e)return t}),hasInstance:a("",i&&i.hasInstance||r("hasInstance")),isConcatSpreadable:a("",i&&i.isConcatSpreadable||r("isConcatSpreadable")),iterator:a("",i&&i.iterator||r("iterator")),match:a("",i&&i.match||r("match")),replace:a("",i&&i.replace||r("replace")),search:a("",i&&i.search||r("search")),species:a("",i&&i.species||r("species")),split:a("",i&&i.split||r("split")),toPrimitive:a("",i&&i.toPrimitive||r("toPrimitive")),toStringTag:a("",i&&i.toStringTag||r("toStringTag")),unscopables:a("",i&&i.unscopables||r("unscopables"))}),c(o.prototype,{constructor:a(r),toString:a("",function(){return this.__name__})}),c(r.prototype,{toString:a(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:a(function(){return l(this)})}),d(r.prototype,r.toPrimitive,a("",function(){var e=l(this);return"symbol"==typeof e?e:e.toString()})),d(r.prototype,r.toStringTag,a("c","Symbol")),d(o.prototype,r.toStringTag,a("c",r.prototype[r.toStringTag])),d(o.prototype,r.toPrimitive,a("c",r.prototype[r.toPrimitive]))},2627:function(e,t,n){"use strict";var i=n(2625);e.exports=function(e){if(!i(e))throw new TypeError(e+" is not a symbol");return e}},2628:function(e,t,n){"use strict";var i,r,o,s,a,l,u,c=n(287),d=n(228),p=Function.prototype.apply,h=Function.prototype.call,f=Object.create,g=Object.defineProperty,m=Object.defineProperties,v=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};i=function(e,t){var n;return d(t),v.call(this,"__ee__")?n=this.__ee__:(n=_.value=f(null),g(this,"__ee__",_),_.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},r=function(e,t){var n,r;return d(t),r=this,i.call(this,e,n=function(){o.call(r,e,n),p.call(t,this,arguments)}),n.__eeOnceListener__=t,this},o=function(e,t){var n,i,r,o;if(d(t),!v.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if(i=n[e],"object"==typeof i)for(o=0;r=i[o];++o)(r===t||r.__eeOnceListener__===t)&&(2===i.length?n[e]=i[o?0:1]:i.splice(o,1));else(i===t||i.__eeOnceListener__===t)&&delete n[e];return this},s=function(e){var t,n,i,r,o;if(v.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];for(r=r.slice(),t=0;i=r[t];++t)p.call(i,this,o)}else switch(arguments.length){case 1:h.call(r,this);break;case 2:h.call(r,this,arguments[1]);break;case 3:h.call(r,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;n>t;++t)o[t-1]=arguments[t];p.call(r,this,o)}},a={on:i,once:r,off:o,emit:s},l={on:c(i),once:c(r),off:c(o),emit:c(s)},u=m({},l),e.exports=t=function(e){return null==e?f(u):m(Object(e),l)},t.methods=a},2629:function(e,t){/** @license
	 * eventsource.js
	 * Available under MIT License (MIT)
	 * https://github.com/Yaffle/EventSource/
	 */
!function(e){"use strict";function t(){this.data={}}function n(){this.listeners=new t}function i(e){c(function(){throw e},0)}function r(e){this.type=e,this.target=void 0}function o(e,t){r.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function s(e,t){var n=e;return n!==n&&(n=t),T>n?T:n>C?C:n}function a(e,t,n){try{"function"==typeof t&&t.call(e,n)}catch(r){i(r)}}function l(t,i){function l(){j=y,void 0!=N&&(N.abort(),N=void 0),0!==B&&(d(B),B=0),0!==U&&(d(U),U=0),R.readyState=y}function u(e){var n="";if(j===_||j===v)try{n=N.responseText}catch(i){}var u=void 0,p=!1;if(j===v){var h=0,f="",g=void 0;if("contentType"in N)""!==e&&"error"!==e&&(h=200,f="OK",g=N.contentType);else try{h=N.status,f=N.statusText,g=N.getResponseHeader("Content-Type")}catch(i){h=0,f="",g=void 0}if(void 0==g&&(g=""),0===h&&""===f&&"load"===e&&""!==n&&(h=200,f="OK",""===g)){var T=/^data\:([^,]*?)(?:;base64)?,[\S]*$/.exec(t);void 0!=T&&(g=T[1])}if(200===h&&E.test(g)){if(j=_,L=!0,O=D,R.readyState=_,u=new r("open"),R.dispatchEvent(u),a(R,R.onopen,u),j===y)return}else if(0!==h&&(200!==h||""!==g)){var A="";A=200!==h?"EventSource's response has a status "+h+" "+f.replace(/\s+/g," ")+" that is not 200. Aborting the connection.":"EventSource's response has a Content-Type specifying an unsupported type: "+g.replace(/\s+/g," ")+". Aborting the connection.",c(function(){throw new Error(A)},0),p=!0}}if(j===_){n.length>z&&(L=!0);for(var P=z-1,F=n.length,U="\n";++P<F;)if(U=n.charAt(P),V===b&&"\n"===U)V=w;else if(V===b&&(V=w),"\r"===U||"\n"===U){if("data"===Y?$.push(G):"id"===Y?H=G:"event"===Y?q=G:"retry"===Y?(D=s(Number(G),D),O=D):"heartbeatTimeout"===Y&&(M=s(Number(G),M),0!==B&&(d(B),B=c(W,M))),G="",Y="",V===w){if(0!==$.length&&(I=H,""===q&&(q="message"),u=new o(q,{data:$.join("\n"),lastEventId:H}),R.dispatchEvent(u),"message"===q&&a(R,R.onmessage,u),j===y))return;$.length=0,q=""}V="\r"===U?b:w}else V===w&&(V=x),V===x?":"===U?V=k:Y+=U:V===k?(" "!==U&&(G+=U),V=S):V===S&&(G+=U);z=F}j!==_&&j!==v||!("load"===e||"error"===e||p||z>1048576||0===B&&!L)?0===B&&(L=!1,B=c(W,M)):(p?l():(""!==e||0!==B||L||c(function(){throw new Error("No activity within "+M+" milliseconds. Reconnecting.")},0),j=m,N.abort(),0!==B&&(d(B),B=0),O>16*D&&(O=16*D),O>C&&(O=C),B=c(W,O),O=2*O+1,R.readyState=v),u=new r("error"),R.dispatchEvent(u),a(R,R.onerror,u))}function p(){u("progress")}function h(){u("load")}function T(){u("error")}function A(){u(4===N.readyState?0===N.status?"error":"load":"progress")}t=t.toString();var P=f&&void 0!=i&&Boolean(i.withCredentials),D=s(1e3,0),M=s(45e3,0),I="",R=this,O=D,L=!1,F=void 0!=i&&void 0!=i.Transport?i.Transport:g,N=new F,B=0,U=0,z=0,j=m,$=[],H="",q="",W=void 0,V=w,Y="",G="";"readyState"in N&&void 0!=e.opera&&(U=c(function Q(){3===N.readyState&&u("progress"),U=c(Q,500)},0)),W=function(){if(B=0,j!==m)return void u("");if((!("ontimeout"in N)||"sendAsBinary"in N||"mozAnon"in N)&&void 0!=e.document&&void 0!=e.document.readyState&&"complete"!==e.document.readyState)return void(B=c(W,4));N.onload=h,N.onerror=T,"onabort"in N&&(N.onabort=T),"onprogress"in N&&(N.onprogress=p),"onreadystatechange"in N&&(N.onreadystatechange=A),L=!1,B=c(W,M),z=0,j=v,$.length=0,q="",H=I,G="",Y="",V=w;var n=t.slice(0,5);n="data:"!==n&&"blob:"!==n?t+((-1===t.indexOf("?",0)?"?":"&")+"lastEventId="+encodeURIComponent(I)+"&r="+(Math.random()+1).toString().slice(2)):t,N.open("GET",n,!0),"withCredentials"in N&&(N.withCredentials=P),"responseType"in N&&(N.responseType="text"),"setRequestHeader"in N&&N.setRequestHeader("Accept","text/event-stream"),N.send(void 0)},n.call(this),this.close=l,this.url=t,this.readyState=v,this.withCredentials=P,this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,W()}function u(){this.CONNECTING=v,this.OPEN=_,this.CLOSED=y}var c=e.setTimeout,d=e.clearTimeout;t.prototype.get=function(e){return this.data[e+"~"]},t.prototype.set=function(e,t){this.data[e+"~"]=t},t.prototype["delete"]=function(e){delete this.data[e+"~"]},n.prototype.dispatchEvent=function(e){e.target=this;var t=e.type.toString(),n=this.listeners,r=n.get(t);if(void 0!=r)for(var o=r.length,s=-1,a=void 0;++s<o;){a=r[s];try{a.call(this,e)}catch(l){i(l)}}},n.prototype.addEventListener=function(e,t){e=e.toString();var n=this.listeners,i=n.get(e);void 0==i&&(i=[],n.set(e,i));for(var r=i.length;--r>=0;)if(i[r]===t)return;i.push(t)},n.prototype.removeEventListener=function(e,t){e=e.toString();var n=this.listeners,i=n.get(e);if(void 0!=i){for(var r=i.length,o=[],s=-1;++s<r;)i[s]!==t&&o.push(i[s]);0===o.length?n["delete"](e):n.set(e,o)}},o.prototype=r.prototype;var p=e.XMLHttpRequest,h=e.XDomainRequest,f=void 0!=p&&void 0!=(new p).withCredentials,g=f||void 0!=p&&void 0==h?p:h,m=-1,v=0,_=1,y=2,b=3,w=4,x=5,k=6,S=7,E=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,T=1e3,C=18e6;u.prototype=n.prototype,l.prototype=new u,u.call(l),f&&(l.prototype.withCredentials=void 0);var A=function(){return void 0!=e.EventSource&&"withCredentials"in e.EventSource.prototype};void 0!=g&&(void 0==e.EventSource||f&&!A())&&(e.NativeEventSource=e.EventSource,e.EventSource=l)}("undefined"!=typeof window?window:this)},2630:function(e,t,n){e.exports=n.p+"assets/images/apply-all-column-58784f5.png"},2631:function(e,t,n){e.exports=n.p+"assets/images/apply-all-column@2x-c075c1a.png"},2635:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/buffering-d977ce5.gif"},2636:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/buffering@2x-44e6355.gif"},2637:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/pause-1f3f227.svg"},2638:function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/play-69601b9.svg"},2640:function(e,t,n){e.exports=n.p+"assets/images/check@2x-0f7dc93.png"},2641:function(e,t,n){e.exports=n.p+"assets/images/close-announcement-ed61508.png"},2642:function(e,t,n){e.exports=n.p+"assets/images/close-announcement@2x-65dcea9.png"},2643:function(e,t,n){e.exports=n.p+"assets/images/close-modal-light-1161ba2.svg"},2653:function(e,t,n){e.exports=n.p+"assets/images/consumer-sub/tooltip_active-9c15ad7.svg"},2654:function(e,t,n){e.exports=n.p+"assets/images/consumer-sub/tooltip_inactive-17c43e3.svg"},2657:function(e,t,n){e.exports=n.p+"assets/images/drag-handle-a403f9f.png"},2659:function(e,t,n){e.exports=n.p+"assets/images/empty-states/comments-1267be6.png"},2660:function(e,t,n){e.exports=n.p+"assets/images/empty-states/comments@2x-30296ad.png"},2661:function(e,t,n){e.exports=n.p+"assets/images/empty-states/following-f6990be.png"},2662:function(e,t,n){e.exports=n.p+"assets/images/empty-states/following@2x-65b4cc6.png"},2663:function(e,t,n){e.exports=n.p+"assets/images/empty-states/history-ccb5327.png"},2664:function(e,t,n){e.exports=n.p+"assets/images/empty-states/history@2x-6eaa4ed.png"},2665:function(e,t,n){e.exports=n.p+"assets/images/empty-states/likes-3bcb162.png"},2666:function(e,t,n){e.exports=n.p+"assets/images/empty-states/likes@2x-0ea46c8.png"},2667:function(e,t,n){e.exports=n.p+"assets/images/empty-states/playlists@2x-81659ed.png"},2668:function(e,t,n){e.exports=n.p+"assets/images/empty-states/reposts-3574306.png"},2669:function(e,t,n){e.exports=n.p+"assets/images/empty-states/reposts@2x-34af13e.png"},2670:function(e,t,n){e.exports=n.p+"assets/images/empty-states/stations-96e82b9.svg"},2675:function(e,t,n){e.exports=n.p+"assets/images/header/activities-66caaa5.svg"},2676:function(e,t,n){e.exports=n.p+"assets/images/header/dropdown-cf3420a.svg"},2677:function(e,t,n){e.exports=n.p+"assets/images/header/header-icons-1afa052.png"},2678:function(e,t,n){e.exports=n.p+"assets/images/header/messages-f517d0e.svg"},2679:function(e,t,n){e.exports=n.p+"assets/images/header/more-0e9e752.svg"},2680:function(e,t,n){e.exports=n.p+"assets/images/header/profile/followers-e0004f7.svg"},2681:function(e,t,n){e.exports=n.p+"assets/images/header/profile/followings-f4ce003.svg"},2682:function(e,t,n){e.exports=n.p+"assets/images/header/profile/like-30802b4.svg"},2683:function(e,t,n){e.exports=n.p+"assets/images/header/profile/playlist-71fefc0.svg"},2684:function(e,t,n){e.exports=n.p+"assets/images/header/profile/premium-27cf1e0.svg"},2685:function(e,t,n){e.exports=n.p+"assets/images/header/profile/stations_light-0c5b748.png"},2686:function(e,t,n){e.exports=n.p+"assets/images/header/profile/stations_light@2x-474487c.png"},2687:function(e,t,n){e.exports=n.p+"assets/images/header/profile/stats-8214c05.svg"},2688:function(e,t,n){e.exports=n.p+"assets/images/header/profile/track_manager_light-e8f84d9.png"},2689:function(e,t,n){e.exports=n.p+"assets/images/header/profile/track_manager_light@2x-49a9db5.png"},2690:function(e,t,n){e.exports=n.p+"assets/images/header/profile/user-853e629.svg"},2693:function(e,t,n){e.exports=n.p+"assets/images/loader-dark-45940ae.gif"},2695:function(e,t,n){e.exports=n.p+"assets/images/messages/recipientRemove-929f8f7.png"},2723:function(e,t,n){e.exports=n.p+"assets/images/outgoing_link-d031a03.svg"},2724:function(e,t,n){e.exports=n.p+"assets/images/play-queue/bg-tile-ebc9fe1.png"},2725:function(e,t,n){e.exports=n.p+"assets/images/play-queue/close-dcc8a56.svg"},2726:function(e,t,n){e.exports=n.p+"assets/images/play-queue/drag-handle-8249e38.svg"},2727:function(e,t,n){e.exports=n.p+"assets/images/play-queue/google-cast-icon-d8eece1.svg"},2728:function(e,t,n){e.exports=n.p+"assets/images/play-queue/more-f2f2da9.svg"},2729:function(e,t,n){e.exports=n.p+"assets/images/play-queue/remove-80b921c.svg"},2730:function(e,t,n){e.exports=n.p+"assets/images/playback/pause-b36fad6.svg"},2731:function(e,t,n){e.exports=n.p+"assets/images/playback/play-91b117d.svg"},2732:function(e,t,n){e.exports=n.p+"assets/images/playback/prev-05b62ec.svg"},2733:function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-all-943c155.svg"},2734:function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-one-51bb7cb.svg"},2735:function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-7ef67cb.svg"},2736:function(e,t,n){e.exports=n.p+"assets/images/playback/shuffle-active-ded3a16.svg"},2737:function(e,t,n){e.exports=n.p+"assets/images/playback/shuffle-94280dc.svg"},2738:function(e,t,n){e.exports=n.p+"assets/images/playback/skip-9b481fb.svg"},2746:function(e,t,n){e.exports=n.p+"assets/images/premium/error-305b36d.png"},2761:function(e,t,n){e.exports=n.p+"assets/images/stations/station-overlay-small-a969a05.svg"},2762:function(e,t,n){e.exports=n.p+"assets/images/stations/station-overlay-3eaed41.svg"},2773:function(e,t,n){e.exports=n.p+"assets/images/stopper-9d4f27a.png"},2774:function(e,t,n){e.exports=n.p+"assets/images/throbber-repeat-6059102.png"},2777:function(e,t,n){e.exports=n.p+"assets/images/upload/big-checkbox-583f9f7.png"},2778:function(e,t,n){e.exports=n.p+"assets/images/upload/big-checkbox@2x-a39eff5.png"},2806:function(e,t,n){e.exports=n.p+"assets/images/who-to-follow/refresh-8000d51.png"},2807:function(e,t,n){e.exports=n.p+"assets/images/widgets/colors-0c8fa81.png"},2813:function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/classic-3212ff0.png"},2814:function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/mini-450a780.png"},2815:function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/visual-b7ef66f.png"},2830:function(e,t,n){var i=n(20);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="l-two-column-sound-hero">\n  <div class="l-main sc-border-light-right">\n    <div class="l-listen-sound sc-clearfix"></div>\n    <div class="l-listen-engagement"></div>\n    <div class="l-listen-content"></div>\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},3203:function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";var e=function(e){return Array.prototype.toString.call(e)},t=function(e,t){try{var n=document.createElement("canvas");n.width=1,n.height=1;var i=n.getContext("2d");return i.textBaseline="top",i.font="100px -no-font-family-here-",i.fillStyle=t,i.scale(.01,.01),i.fillText(e,0,0),i.getImageData(0,0,1,1).data}catch(r){return!1}},n=function(t,n){var i=e(t),r=e(n);return i===r&&"0,0,0,0"!==i},i=function(e){var i=t(e,"#000"),r=t(e,"#fff");return i&&r&&n(i,r)};return i})},3205:function(e,t){"use strict";function n(e){return e in s?s[e]:null}function i(e,t){return s[e]=t,!0}function r(e){var t=e in s;return t?delete s[e]:!1}function o(){return s={},!0}var s={};e.exports={getItem:n,setItem:i,removeItem:r,clear:o}},3206:function(e,t){(function(t){"use strict";function n(){t.addEventListener?t.addEventListener("storage",i,!1):t.attachEvent?t.attachEvent("onstorage",i):t.onstorage=i}function i(e){function n(t){t(JSON.parse(e.newValue),JSON.parse(e.oldValue),e.url||e.uri)}e||(e=t.event);var i=s[e.key];i&&i.forEach(n)}function r(e,t){s[e]?s[e].push(t):s[e]=[t],a===!1&&n()}function o(e,t){var n=s[e];n.length>1?n.splice(n.indexOf(t),1):s[e]=[]}var s={},a=!1;e.exports={on:r,off:o}}).call(t,function(){return this}())},3207:function(e,t,n){function i(e,t){return null==t?e:r(t,o(t),e)}var r=n(3208),o=n(1487);e.exports=i},3208:function(e,t){function n(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var o=t[i];n[o]=e[o]}return n}e.exports=n},3209:function(e,t){function n(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,s){return e.call(t,n,i,r,o,s)}}return function(){return e.apply(t,arguments)}}function i(e){return e}e.exports=n},3210:function(e,t,n){function i(e){return s(function(t,n){var i=-1,s=null==t?0:n.length,a=s>2?n[s-2]:void 0,l=s>2?n[2]:void 0,u=s>1?n[s-1]:void 0;for("function"==typeof a?(a=r(a,u,5),s-=2):(a="function"==typeof u?u:void 0,s-=a?1:0),l&&o(n[0],n[1],l)&&(a=3>s?void 0:a,s=1);++i<s;){var c=n[i];c&&e(t,c,a)}return t})}var r=n(3209),o=n(3212),s=n(3215);e.exports=i},3211:function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function r(e){return o(e)&&p.call(e)==a}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:r(e)?h.test(c.call(e)):n(e)&&l.test(e)}var a="[object Function]",l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,d=u.hasOwnProperty,p=u.toString,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},3212:function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&s(c(e))}function r(e,t){return e="number"==typeof e||l.test(e)?+e:-1,t=null==t?u:t,e>-1&&e%1==0&&t>e}function o(e,t,n){if(!a(n))return!1;var o=typeof t;if("number"==o?i(n)&&r(t,n.length):"string"==o&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=/^\d+$/,u=9007199254740991,c=n("length");e.exports=o},3213:function(e,t){function n(e){return r(e)&&f.call(e,"callee")&&(!m.call(e,"callee")||g.call(e)==c)}function i(e){return null!=e&&s(e.length)&&!o(e)}function r(e){return l(e)&&i(e)}function o(e){var t=a(e)?g.call(e):"";return t==d||t==p}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return!!e&&"object"==typeof e}var u=9007199254740991,c="[object Arguments]",d="[object Function]",p="[object GeneratorFunction]",h=Object.prototype,f=h.hasOwnProperty,g=h.toString,m=h.propertyIsEnumerable;e.exports=n},3214:function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function o(e){return s(e)&&f.call(e)==u}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:o(e)?g.test(p.call(e)):n(e)&&c.test(e)}var l="[object Array]",u="[object Function]",c=/^\[object .+?Constructor\]$/,d=Object.prototype,p=Function.prototype.toString,h=d.hasOwnProperty,f=d.toString,g=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=i(Array,"isArray"),v=9007199254740991,_=m||function(e){return n(e)&&r(e.length)&&f.call(e)==l};e.exports=_},3215:function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(i);return t=r(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,o=r(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,n[0],s);case 2:return e.call(this,n[0],n[1],s)}var a=Array(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=s,e.apply(this,a)}}var i="Expected a function",r=Math.max;e.exports=n},3216:function(e,t,n){/*!
	 * Remixin v1.0.1
	 * (c) SoundCloud 2015
	 * Remixin may be freely distributed under the MIT license.
	 */
!function(t){var i=t(n(43));e.exports=i}(function(e){function t(){this.mixins=e.initial(arguments),this.properties=e.last(arguments)}function n(e,t){this.applyTo=function(n){e.applyTo(n,t)}}function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);case 4:return e.call(t,n[0],n[1],n[2],n[3]);default:return e.apply(t,n)}}function r(e,t){return null==e?t.slice():o(u(e),t)}function o(t,n){return t.concat(e.difference(n,t))}function s(e,t){return null==e?t:r(l(e),l(t)).join(" ")}function a(t,n){return e.extend({},n,t)}function l(t){return e.compact(t.split(d))}function u(t){return e.isArray(t)?t:[t]}var c=["before","after","around","requires","override","defaults","applyTo","requirePrototype","merge"],d=/\s+/;return e.extend(t.prototype,{applyTo:function(t,n){var i=this.properties;this.defaults(t,i.defaults),this.extend(t,i),this.merge(t,i.merge),e.invoke(this.mixins,"applyTo",t),["requires","requirePrototype","override","before","after","around"].forEach(function(e){this[e](t,i[e])},this),i.applyTo&&i.applyTo.call(this,t,n)},withOptions:function(e){return new n(this,e)},before:function(t,n){e.each(n,function(e,n){var r=t[n];t[n]=function(){for(var t=Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return i(e,this,t),i(r,this,t)}})},after:function(t,n){e.each(n,function(e,n){var r=t[n];t[n]=function(){for(var t=Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];var o=i(r,this,t);return i(e,this,t),o}})},around:function(t,n){e.each(n,function(e,n){var r=t[n];t[n]=function(){var t=0,n=arguments.length,o=Array(n+1);for(o[0]=r.bind(this);n>t;++t)o[t+1]=arguments[t];return i(e,this,o)}})},override:function(t,n){e.extend(t,n)},defaults:function(t,n){e.each(n,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})},merge:function(t,n){e.each(n,function(n,i){if(null!=n){var o=t[i];t[i]=e.isArray(n)?r(o,n):e.isString(n)?s(o,n):a(o,n)}})},extend:function(t,n){var i=e.omit(n,c);e.extend(t,i)},requires:e.noop,requirePrototype:e.noop}),n.prototype=t.prototype,t})},3217:function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,t.partials);var a=e(r,o);return n.partials=s,a}),t.partials[r.args[0]]=r.fn,o})},e.exports=t["default"]},3218:function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(t,n)})},e.exports=t["default"]},3219:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(4),o=n(5),s=i(o);t["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,o){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!o,c&&(u.contextPath=c+t)),l+=i(e[t],{data:u,blockParams:r.blockParams([e[t],t],[c+t,null])})}if(!t)throw new s["default"]("Must pass iterator to #each");var i=t.fn,o=t.inverse,a=0,l="",u=void 0,c=void 0;if(t.data&&t.ids&&(c=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(u=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var d=e.length;d>a;a++)a in e&&n(a,a,a===e.length-1);else{var p=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==p&&n(p,a-1),p=h,a++);void 0!==p&&n(p,a-1,!0)}return 0===a&&(l=o(this)),l})},e.exports=t["default"]},3220:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(5),o=i(r);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},3221:function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t["default"]=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]},3222:function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t["default"]},3223:function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},3224:function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t["default"]=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&(r=i.createFrame(t.data),r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})},e.exports=t["default"]},3587:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}}});//# sourceMappingURL=http://ent/web-sourcemaps/app-94703a3-d7fca37-3.js.map
